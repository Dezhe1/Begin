var DOKU_BASE='/';var DOKU_TPL='/lib/tpl/ubuntu-portal/';var DOKU_COOKIE_PARAM={"path":"\/","secure":true};var DOKU_UHN=0;var DOKU_UHC=0;LANG={"willexpire":"\u0412\u0430\u0448\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0430\u00a0\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u0442\u0435\u043a\u0430\u0435\u0442 \u0432\u00a0\u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043c\u0438\u043d\u0443\u0442\u044b.\\n\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u00ab\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u00bb \u0434\u043b\u044f \u0441\u0431\u0440\u043e\u0441\u0430 \u0442\u0430\u0439\u043c\u0435\u0440\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438.","notsavedyet":"\u041d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b. \u0412\u044b\u00a0\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?","searchmedia":"\u041f\u043e\u0438\u0441\u043a \u0444\u0430\u0439\u043b\u043e\u0432","keepopen":"\u041d\u0435 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043e\u043a\u043d\u043e \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430","hidedetails":"\u0421\u043a\u0440\u044b\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438","mediatitle":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0441\u044b\u043b\u043a\u0438","mediadisplay":"\u0422\u0438\u043f \u0441\u0441\u044b\u043b\u043a\u0438","mediaalign":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435\n","mediasize":"\u0420\u0430\u0437\u043c\u0435\u0440","mediatarget":"\u0426\u0435\u043b\u0435\u0432\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430","mediaclose":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","mediainsert":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c","mediadisplayimg":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","mediadisplaylnk":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0441\u044b\u043b\u043a\u0443","mediasmall":"\u041c\u0430\u043b\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f","mediamedium":"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0432\u0435\u0440\u0441\u0438\u044f","medialarge":"\u041a\u0440\u0443\u043f\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f","mediaoriginal":"\u0418\u0441\u0445\u043e\u0434\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f","medialnk":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438","mediadirect":"\u041f\u0440\u044f\u043c\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430\u00a0\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b","medianolnk":"\u0411\u0435\u0437 \u0441\u0441\u044b\u043b\u043a\u0438","medianolink":"\u041d\u0435 \u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430\u00a0\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","medialeft":"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","mediaright":"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","mediacenter":"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","medianoalign":"\u041d\u0435 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0442\u044c","nosmblinks":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430\u00a0\u0441\u0435\u0442\u0435\u0432\u044b\u0435 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438 Windows \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437\u00a0MS\u00a0Internet Explorer, \u043d\u043e\u00a0\u0432\u044b\u00a0\u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443.","linkwiz":"\u041c\u0430\u0441\u0442\u0435\u0440 \u0441\u0441\u044b\u043b\u043e\u043a","linkto":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430:","del_confirm":"\u0412\u044b\u00a0\u043d\u0430\u00a0\u0441\u0430\u043c\u043e\u043c \u0434\u0435\u043b\u0435 \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435?","restore_confirm":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0432\u0435\u0440\u0441\u0438\u044e?","media_diff":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u0442\u043b\u0438\u0447\u0438\u0439:","media_diff_both":"\u0440\u044f\u0434\u043e\u043c","media_diff_opacity":"\u043d\u0430\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c","media_diff_portions":"\u0427\u0430\u0441\u0442\u044f\u043c\u0438","media_select":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b\u2026","media_upload_btn":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","media_done_btn":"\u0413\u043e\u0442\u043e\u0432\u043e","media_drop":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438","media_cancel":"\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","media_overwrt":"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0444\u0430\u0439\u043b\u044b","plugins":{"extension":{"reallydel":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435?","display_viewoptions":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u043a:","display_enabled":"\u0432\u043a\u043b\u044e\u0447\u0451\u043d","display_disabled":"\u043e\u0442\u043a\u043b\u044e\u0447\u0451\u043d","display_updatable":"\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435"},"searchindex":{"indexing":"\u0418\u043d\u0434\u0435\u043a\u0441\u0430\u0446\u0438\u044f:","done":"\u0418\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043e.","pages":"\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: %d.","clearing":"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0438\u043d\u0434\u0435\u043a\u0441\u0430...","finding":"\u041f\u043e\u0438\u0441\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446...","notindexed":"Skipped: Up-to-date","indexed":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e"},"styling":{"loader":"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440...<br \/>\u0415\u0441\u043b\u0438 \u0437\u0434\u0435\u0441\u044c \u0441\u043b\u0443\u0447\u0438\u043b\u0441\u044f \u0441\u0431\u043e\u0439, \u0432\u0430\u0448\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b","popup":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432\u043e \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u043c \u043e\u043a\u043d\u0435"}}};var toolbar=[{"type":"format","title":"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439","icon":"bold.png","key":"b","open":"**","close":"**","block":false},{"type":"format","title":"\u041a\u0443\u0440\u0441\u0438\u0432","icon":"italic.png","key":"i","open":"\/\/","close":"\/\/","block":false},{"type":"format","title":"\u041f\u043e\u0434\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439","icon":"underline.png","key":"u","open":"__","close":"__","block":false},{"type":"format","title":"\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u0434\u0430","icon":"mono.png","key":"m","open":"''","close":"''","block":false},{"type":"format","title":"\u0417\u0430\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439","icon":"strike.png","key":"d","open":"<del>","close":"<\/del>","block":false},{"type":"autohead","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"hequal.png","key":"8","text":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","mod":0,"block":true},{"type":"autohead","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0431\u043e\u043b\u0435\u0435 \u043d\u0438\u0437\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f (\u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a)","icon":"hminus.png","key":"9","text":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","mod":1,"block":true},{"type":"autohead","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"hplus.png","key":"0","text":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","mod":-1,"block":true},{"type":"picker","title":"\u0412\u044b\u0431\u043e\u0440 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430","icon":"h.png","class":"pk_hl","list":[{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h1.png","key":"1","open":"====== ","close":" ======\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h2.png","key":"2","open":"===== ","close":" =====\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h3.png","key":"3","open":"==== ","close":" ====\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h4.png","key":"4","open":"=== ","close":" ===\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h5.png","key":"5","open":"== ","close":" ==\\n"}],"block":true},{"type":"linkwiz","title":"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430","icon":"link.png","key":"l","open":"[[","close":"]]","block":false},{"type":"format","title":"\u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430","icon":"linkextern.png","open":"[[","close":"]]","sample":"http:\/\/example.com|\u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430","block":false},{"type":"formatln","title":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430","icon":"ol.png","open":"  - ","close":"","key":"-","block":true},{"type":"formatln","title":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0435\u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430","icon":"ul.png","open":"  * ","close":"","key":".","block":true},{"type":"insert","title":"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c","icon":"hr.png","insert":"\\n----\\n","block":true},{"type":"mediapopup","title":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0444\u0430\u0439\u043b\u044b (\u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435)","icon":"image.png","url":"lib\/exe\/mediamanager.php?ns=","name":"mediaselect","options":"width=750,height=500,left=20,top=20,scrollbars=yes,resizable=yes","block":false},{"type":"picker","title":"\u0421\u043c\u0430\u0439\u043b\u0438\u043a\u0438","icon":"smiley.png","list":{"8-)":"ubuntu-portal\/icon_cool.png","8-O":"ubuntu-portal\/icon_eek.png","8-o":"ubuntu-portal\/icon_eek.png",":-(":"ubuntu-portal\/icon_sad.png",":-)":"ubuntu-portal\/icon_smile.png","=)":"ubuntu-portal\/icon_smile2.png",":-\/":"ubuntu-portal\/icon_doubt.png",":-\\":"ubuntu-portal\/icon_doubt2.png",":-?":"ubuntu-portal\/icon_confused.png",":-D":"ubuntu-portal\/icon_biggrin.png",":-P":"ubuntu-portal\/icon_razz.png",":-o":"ubuntu-portal\/icon_surprised.png",":-O":"ubuntu-portal\/icon_surprised.png",":-x":"ubuntu-portal\/icon_silenced.png",":-X":"ubuntu-portal\/icon_silenced.png",":-|":"ubuntu-portal\/icon_neutral.png",";-)":"ubuntu-portal\/icon_wink.png","m(":"ubuntu-portal\/icon_neutral.png","^_^":"ubuntu-portal\/icon_fun.png",":?:":"ubuntu-portal\/icon_question.png",":!:":"ubuntu-portal\/icon_exclaim.png","LOL":"ubuntu-portal\/icon_lol.png","FIXME":"ubuntu-portal\/fixme.png","DELETEME":"ubuntu-portal\/delete.png"},"icobase":"smileys","block":false},{"type":"picker","title":"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b","icon":"chars.png","list":["\u00c0","\u00e0","\u00c1","\u00e1","\u00c2","\u00e2","\u00c3","\u00e3","\u00c4","\u00e4","\u01cd","\u01ce","\u0102","\u0103","\u00c5","\u00e5","\u0100","\u0101","\u0104","\u0105","\u00c6","\u00e6","\u0106","\u0107","\u00c7","\u00e7","\u010c","\u010d","\u0108","\u0109","\u010a","\u010b","\u00d0","\u0111","\u00f0","\u010e","\u010f","\u00c8","\u00e8","\u00c9","\u00e9","\u00ca","\u00ea","\u00cb","\u00eb","\u011a","\u011b","\u0112","\u0113","\u0116","\u0117","\u0118","\u0119","\u0122","\u0123","\u011c","\u011d","\u011e","\u011f","\u0120","\u0121","\u0124","\u0125","\u00cc","\u00ec","\u00cd","\u00ed","\u00ce","\u00ee","\u00cf","\u00ef","\u01cf","\u01d0","\u012a","\u012b","\u0130","\u0131","\u012e","\u012f","\u0134","\u0135","\u0136","\u0137","\u0139","\u013a","\u013b","\u013c","\u013d","\u013e","\u0141","\u0142","\u013f","\u0140","\u0143","\u0144","\u00d1","\u00f1","\u0145","\u0146","\u0147","\u0148","\u00d2","\u00f2","\u00d3","\u00f3","\u00d4","\u00f4","\u00d5","\u00f5","\u00d6","\u00f6","\u01d1","\u01d2","\u014c","\u014d","\u0150","\u0151","\u0152","\u0153","\u00d8","\u00f8","\u0154","\u0155","\u0156","\u0157","\u0158","\u0159","\u015a","\u015b","\u015e","\u015f","\u0160","\u0161","\u015c","\u015d","\u0162","\u0163","\u0164","\u0165","\u00d9","\u00f9","\u00da","\u00fa","\u00db","\u00fb","\u00dc","\u00fc","\u01d3","\u01d4","\u016c","\u016d","\u016a","\u016b","\u016e","\u016f","\u01d6","\u01d8","\u01da","\u01dc","\u0172","\u0173","\u0170","\u0171","\u0174","\u0175","\u00dd","\u00fd","\u0178","\u00ff","\u0176","\u0177","\u0179","\u017a","\u017d","\u017e","\u017b","\u017c","\u00de","\u00fe","\u00df","\u0126","\u0127","\u00bf","\u00a1","\u00a2","\u00a3","\u00a4","\u00a5","\u20ac","\u00a6","\u00a7","\u00aa","\u00ac","\u00af","\u00b0","\u00b1","\u00f7","\u2030","\u00bc","\u00bd","\u00be","\u00b9","\u00b2","\u00b3","\u00b5","\u00b6","\u2020","\u2021","\u00b7","\u2022","\u00ba","\u2200","\u2202","\u2203","\u018f","\u0259","\u2205","\u2207","\u2208","\u2209","\u220b","\u220f","\u2211","\u203e","\u2212","\u2217","\u00d7","\u2044","\u221a","\u221d","\u221e","\u2220","\u2227","\u2228","\u2229","\u222a","\u222b","\u2234","\u223c","\u2245","\u2248","\u2260","\u2261","\u2264","\u2265","\u2282","\u2283","\u2284","\u2286","\u2287","\u2295","\u2297","\u22a5","\u22c5","\u25ca","\u2118","\u2111","\u211c","\u2135","\u2660","\u2663","\u2665","\u2666","\u03b1","\u03b2","\u0393","\u03b3","\u0394","\u03b4","\u03b5","\u03b6","\u03b7","\u0398","\u03b8","\u03b9","\u03ba","\u039b","\u03bb","\u03bc","\u039e","\u03be","\u03a0","\u03c0","\u03c1","\u03a3","\u03c3","\u03a4","\u03c4","\u03c5","\u03a6","\u03c6","\u03c7","\u03a8","\u03c8","\u03a9","\u03c9","\u2605","\u2606","\u260e","\u261a","\u261b","\u261c","\u261d","\u261e","\u261f","\u2639","\u263a","\u2714","\u2718","\u201e","\u201c","\u201d","\u201a","\u2018","\u2019","\u00ab","\u00bb","\u2039","\u203a","\u2014","\u2013","\u2026","\u2190","\u2191","\u2192","\u2193","\u2194","\u21d0","\u21d1","\u21d2","\u21d3","\u21d4","\u00a9","\u2122","\u00ae","\u2032","\u2033","[","]","{","}","~","(",")","%","\u00a7","$","#","|","@"],"block":false},{"type":"signature","title":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c","icon":"sig.png","key":"y","block":false},{"type":"format","title":"Mark text as key press","icon":"..\/..\/plugins\/keyboard\/keyboard.png","open":"<key>","close":"<\/key>"}];(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{factory(jQuery);}}(function($){var pluses=/\+/g;function raw(s){return s;}function decoded(s){return decodeURIComponent(s.replace(pluses,' '));}function converted(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}try{return config.json?JSON.parse(s):s;}catch(er){}}var config=$.cookie=function(key,value,options){if(value!==undefined){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}value=config.json?JSON.stringify(value):String(value);return(document.cookie=[config.raw?key:encodeURIComponent(key),'=',config.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}var decode=config.raw?raw:decoded;var cookies=document.cookie.split('; ');var result=key?undefined:{};for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=decode(parts.join('='));if(key&&key===name){result=converted(cookie);break;}if(!key){result[name]=converted(cookie);}}return result;};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)!==undefined){$.cookie(key,'',$.extend({},options,{expires:-1}));return true;}return false;};}));(function(factory){if(typeof define==="function"&&define.amd){define(["../widgets/datepicker"],factory);}else{factory(jQuery.datepicker);}}(function(datepicker){datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};datepicker.setDefaults(datepicker.regional.ru);return datepicker.regional.ru;}));var qq=qq||{};qq.extend=function(first,second){for(var prop in second){first[prop]=second[prop];}};qq.indexOf=function(arr,elt,from){if(arr.indexOf)return arr.indexOf(elt,from);from=from||0;var len=arr.length;if(from<0)from+=len;for(;from<len;from++){if(from in arr&&arr[from]===elt){return from;}}return-1;};qq.getUniqueId=(function(){var id=0;return function(){return id++;};})();qq.attach=function(element,type,fn){if(element.addEventListener){element.addEventListener(type,fn,false);}else if(element.attachEvent){element.attachEvent('on'+type,fn);}};qq.detach=function(element,type,fn){if(element.removeEventListener){element.removeEventListener(type,fn,false);}else if(element.attachEvent){element.detachEvent('on'+type,fn);}};qq.preventDefault=function(e){if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}};qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b);};qq.remove=function(element){element.parentNode.removeChild(element);};qq.contains=function(parent,descendant){if(parent==descendant)return true;if(parent.contains){return parent.contains(descendant);}else{return!!(descendant.compareDocumentPosition(parent)&8);}};qq.toElement=(function(){var div=document.createElement('div');return function(html){div.innerHTML=html;var element=div.firstChild;div.removeChild(element);return element;};})();qq.css=function(element,styles){if(styles.opacity!=null){if(typeof element.style.opacity!='string'&&typeof(element.filters)!='undefined'){styles.filter='alpha(opacity='+Math.round(100*styles.opacity)+')';}}qq.extend(element.style,styles);};qq.hasClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');return re.test(element.className);};qq.addClass=function(element,name){if(!qq.hasClass(element,name)){element.className+=' '+name;}};qq.removeClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');element.className=element.className.replace(re,' ').replace(/^\s+|\s+$/g,"");};qq.setText=function(element,text){element.innerText=text;element.textContent=text;};qq.children=function(element){var children=[],child=element.firstChild;while(child){if(child.nodeType==1){children.push(child);}child=child.nextSibling;}return children;};qq.getByClass=function(element,className){if(element.querySelectorAll){return element.querySelectorAll('.'+className);}var result=[];var candidates=element.getElementsByTagName("*");var len=candidates.length;for(var i=0;i<len;i++){if(qq.hasClass(candidates[i],className)){result.push(candidates[i]);}}return result;};qq.obj2url=function(obj,temp,prefixDone){var uristrings=[],prefix='&',add=function(nextObj,i){var nextTemp=temp?(/\[\]$/.test(temp))?temp:temp+'['+i+']':i;if((nextTemp!='undefined')&&(i!='undefined')){uristrings.push((typeof nextObj==='object')?qq.obj2url(nextObj,nextTemp,true):(Object.prototype.toString.call(nextObj)==='[object Function]')?encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj()):encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj));}};if(!prefixDone&&temp){prefix=(/\?/.test(temp))?(/\?$/.test(temp))?'':'&':'?';uristrings.push(temp);uristrings.push(qq.obj2url(obj));}else if((Object.prototype.toString.call(obj)==='[object Array]')&&(typeof obj!='undefined')){for(var i=0,len=obj.length;i<len;++i){add(obj[i],i);}}else if((typeof obj!='undefined')&&(obj!==null)&&(typeof obj==="object")){for(var i in obj){if(obj.hasOwnProperty(i)&&typeof obj[i]!='function'){add(obj[i],i);}}}else{uristrings.push(encodeURIComponent(temp)+'='+encodeURIComponent(obj));}return uristrings.join(prefix).replace(/^&/,'').replace(/%20/g,'+');};var qq=qq||{};qq.FileUploaderBasic=function(o){this._options={debug:false,action:'/server/upload',params:{},button:null,multiple:true,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(id,fileName){},onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,responseJSON){},onCancel:function(id,fileName){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(message){alert(message);}};qq.extend(this._options,o);this._filesInProgress=0;this._handler=this._createUploadHandler();if(this._options.button){this._button=this._createUploadButton(this._options.button);}this._preventLeaveInProgress();};qq.FileUploaderBasic.prototype={setParams:function(params){this._options.params=params;},getInProgress:function(){return this._filesInProgress;},_createUploadButton:function(element){var self=this;return new qq.UploadButton({element:element,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(input){self._onInputChange(input);}});},_createUploadHandler:function(){var self=this,handlerClass;if(qq.UploadHandlerXhr.isSupported()){handlerClass='UploadHandlerXhr';}else{handlerClass='UploadHandlerForm';}var handler=new qq[handlerClass]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(id,fileName,loaded,total){self._onProgress(id,fileName,loaded,total);self._options.onProgress(id,fileName,loaded,total);},onComplete:function(id,fileName,result){self._onComplete(id,fileName,result);self._options.onComplete(id,fileName,result);},onCancel:function(id,fileName){self._onCancel(id,fileName);self._options.onCancel(id,fileName);}});return handler;},_preventLeaveInProgress:function(){var self=this;qq.attach(window,'beforeunload',function(e){if(!self._filesInProgress){return;}var e=e||window.event;e.returnValue=self._options.messages.onLeave;return self._options.messages.onLeave;});},_onSubmit:function(id,fileName){this._filesInProgress++;},_onProgress:function(id,fileName,loaded,total){},_onComplete:function(id,fileName,result){this._filesInProgress--;if(result.error){this._options.showMessage(result.error);}},_onCancel:function(id,fileName){this._filesInProgress--;},_onInputChange:function(input){if(this._handler instanceof qq.UploadHandlerXhr){this._uploadFileList(input.files);}else{if(this._validateFile(input)){this._uploadFile(input);}}this._button.reset();},_uploadFileList:function(files){for(var i=0;i<files.length;i++){if(!this._validateFile(files[i])){return;}}for(var i=0;i<files.length;i++){this._uploadFile(files[i]);}},_uploadFile:function(fileContainer){var id=this._handler.add(fileContainer);var fileName=this._handler.getName(id);if(this._options.onSubmit(id,fileName)!==false){this._onSubmit(id,fileName);this._handler.upload(id,this._options.params);}},_validateFile:function(file){var name,size;if(file.value){name=file.value.replace(/.*(\/|\\)/,"");}else{name=file.fileName!=null?file.fileName:file.name;size=file.fileSize!=null?file.fileSize:file.size;}if(!this._isAllowedExtension(name)){this._error('typeError',name);return false;}else if(size===0){this._error('emptyError',name);return false;}else if(size&&this._options.sizeLimit&&size>this._options.sizeLimit){this._error('sizeError',name);return false;}else if(size&&size<this._options.minSizeLimit){this._error('minSizeError',name);return false;}return true;},_error:function(code,fileName){var message=this._options.messages[code];function r(name,replacement){message=message.replace(name,replacement);}r('{file}',this._formatFileName(fileName));r('{extensions}',this._options.allowedExtensions.join(', '));r('{sizeLimit}',this._formatSize(this._options.sizeLimit));r('{minSizeLimit}',this._formatSize(this._options.minSizeLimit));this._options.showMessage(message);},_formatFileName:function(name){if(name.length>33){name=name.slice(0,19)+'...'+name.slice(-13);}return name;},_isAllowedExtension:function(fileName){var ext=(-1!==fileName.indexOf('.'))?fileName.replace(/.*[.]/,'').toLowerCase():'';var allowed=this._options.allowedExtensions;if(!allowed.length){return true;}for(var i=0;i<allowed.length;i++){if(allowed[i].toLowerCase()==ext){return true;}}return false;},_formatSize:function(bytes){var i=-1;do{bytes=bytes/1024;i++;}while(bytes>99);return Math.max(bytes,0.1).toFixed(1)+['kB','MB','GB','TB','PB','EB'][i];}};qq.FileUploader=function(o){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader">'+'<div class="qq-upload-drop-area"><span>Drop files here to upload</span></div>'+'<div class="qq-upload-button">Upload a file</div>'+'<ul class="qq-upload-list"></ul>'+'</div>',fileTemplate:'<li>'+'<span class="qq-upload-file"></span>'+'<span class="qq-upload-spinner"></span>'+'<span class="qq-upload-size"></span>'+'<a class="qq-upload-cancel" href="#">Cancel</a>'+'<span class="qq-upload-failed-text">Failed</span>'+'</li>',classes:{button:'qq-upload-button',drop:'qq-upload-drop-area',dropActive:'qq-upload-drop-area-active',list:'qq-upload-list',file:'qq-upload-file',spinner:'qq-upload-spinner',size:'qq-upload-size',cancel:'qq-upload-cancel',success:'qq-upload-success',fail:'qq-upload-fail'}});qq.extend(this._options,o);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,'list');this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,'button'));this._bindCancelEvent();this._setupDragDrop();};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function(parent,type){var element=qq.getByClass(parent,this._options.classes[type])[0];if(!element){throw new Error('element not found '+type);}return element;},_setupDragDrop:function(){var self=this,dropArea=this._find(this._element,'drop');var dz=new qq.UploadDropZone({element:dropArea,onEnter:function(e){qq.addClass(dropArea,self._classes.dropActive);e.stopPropagation();},onLeave:function(e){e.stopPropagation();},onLeaveNotDescendants:function(e){qq.removeClass(dropArea,self._classes.dropActive);},onDrop:function(e){dropArea.style.display='none';qq.removeClass(dropArea,self._classes.dropActive);self._uploadFileList(e.dataTransfer.files);}});dropArea.style.display='none';qq.attach(document,'dragenter',function(e){if(!dz._isValidFileDrag(e))return;dropArea.style.display='block';});qq.attach(document,'dragleave',function(e){if(!dz._isValidFileDrag(e))return;var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(!relatedTarget||relatedTarget.nodeName=="HTML"){dropArea.style.display='none';}});},_onSubmit:function(id,fileName){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(id,fileName);},_onProgress:function(id,fileName,loaded,total){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var item=this._getItemByFileId(id);var size=this._find(item,'size');size.style.display='inline';var text;if(loaded!=total){text=Math.round(loaded/total*100)+'% from '+this._formatSize(total);}else{text=this._formatSize(total);}qq.setText(size,text);},_onComplete:function(id,fileName,result){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var item=this._getItemByFileId(id);qq.remove(this._find(item,'cancel'));qq.remove(this._find(item,'spinner'));if(result.success){qq.addClass(item,this._classes.success);}else{qq.addClass(item,this._classes.fail);}},_addToList:function(id,fileName){var item=qq.toElement(this._options.fileTemplate);item.qqFileId=id;var fileElement=this._find(item,'file');qq.setText(fileElement,this._formatFileName(fileName));this._find(item,'size').style.display='none';this._listElement.appendChild(item);},_getItemByFileId:function(id){var item=this._listElement.firstChild;while(item){if(item.qqFileId==id)return item;item=item.nextSibling;}},_bindCancelEvent:function(){var self=this,list=this._listElement;qq.attach(list,'click',function(e){e=e||window.event;var target=e.target||e.srcElement;if(qq.hasClass(target,self._classes.cancel)){qq.preventDefault(e);var item=target.parentNode;self._handler.cancel(item.qqFileId);qq.remove(item);}});}});qq.UploadDropZone=function(o){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}};qq.extend(this._options,o);this._element=this._options.element;this._disableDropOutside();this._attachEvents();};qq.UploadDropZone.prototype={_disableDropOutside:function(e){if(!qq.UploadDropZone.dropOutsideDisabled){qq.attach(document,'dragover',function(e){if(e.dataTransfer){e.dataTransfer.dropEffect='none';e.preventDefault();}});qq.UploadDropZone.dropOutsideDisabled=true;}},_attachEvents:function(){var self=this;qq.attach(self._element,'dragover',function(e){if(!self._isValidFileDrag(e))return;var effect=e.dataTransfer.effectAllowed;if(effect=='move'||effect=='linkMove'){e.dataTransfer.dropEffect='move';}else{e.dataTransfer.dropEffect='copy';}e.stopPropagation();e.preventDefault();});qq.attach(self._element,'dragenter',function(e){if(!self._isValidFileDrag(e))return;self._options.onEnter(e);});qq.attach(self._element,'dragleave',function(e){if(!self._isValidFileDrag(e))return;self._options.onLeave(e);var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(qq.contains(this,relatedTarget))return;self._options.onLeaveNotDescendants(e);});qq.attach(self._element,'drop',function(e){if(!self._isValidFileDrag(e))return;e.preventDefault();self._options.onDrop(e);});},_isValidFileDrag:function(e){var dt=e.dataTransfer,isWebkit=navigator.userAgent.indexOf("AppleWebKit")>-1;return dt&&dt.effectAllowed!='none'&&(dt.files||(!isWebkit&&dt.types.contains&&dt.types.contains('Files')));}};qq.UploadButton=function(o){this._options={element:null,multiple:false,name:'file',onChange:function(input){},hoverClass:'qq-upload-button-hover',focusClass:'qq-upload-button-focus'};qq.extend(this._options,o);this._element=this._options.element;qq.css(this._element,{position:'relative',overflow:'hidden',direction:'ltr'});this._input=this._createInput();};qq.UploadButton.prototype={getInput:function(){return this._input;},reset:function(){if(this._input.parentNode){qq.remove(this._input);}qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput();},_createInput:function(){var input=document.createElement("input");if(this._options.multiple){input.setAttribute("multiple","multiple");}input.setAttribute("type","file");input.setAttribute("name",this._options.name);qq.css(input,{position:'absolute',right:0,top:0,fontFamily:'Arial',fontSize:'118px',margin:0,padding:0,cursor:'pointer',opacity:0});this._element.appendChild(input);var self=this;qq.attach(input,'change',function(){self._options.onChange(input);});qq.attach(input,'mouseover',function(){qq.addClass(self._element,self._options.hoverClass);});qq.attach(input,'mouseout',function(){qq.removeClass(self._element,self._options.hoverClass);});qq.attach(input,'focus',function(){qq.addClass(self._element,self._options.focusClass);});qq.attach(input,'blur',function(){qq.removeClass(self._element,self._options.focusClass);});if(window.attachEvent){input.setAttribute('tabIndex',"-1");}return input;}};qq.UploadHandlerAbstract=function(o){this._options={debug:false,action:'/upload.php',maxConnections:999,onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,response){},onCancel:function(id,fileName){}};qq.extend(this._options,o);this._queue=[];this._params=[];};qq.UploadHandlerAbstract.prototype={log:function(str){if(this._options.debug&&window.console)console.log('[uploader] '+str);},add:function(file){},upload:function(id,params){var len=this._queue.push(id);var copy={};qq.extend(copy,params);this._params[id]=copy;if(len<=this._options.maxConnections){this._upload(id,this._params[id]);}},cancel:function(id){this._cancel(id);this._dequeue(id);},cancelAll:function(){for(var i=0;i<this._queue.length;i++){this._cancel(this._queue[i]);}this._queue=[];},getName:function(id){},getSize:function(id){},getQueue:function(){return this._queue;},_upload:function(id){},_cancel:function(id){},_dequeue:function(id){var i=qq.indexOf(this._queue,id);this._queue.splice(i,1);var max=this._options.maxConnections;if(this._queue.length>=max&&i<max){var nextId=this._queue[max-1];this._upload(nextId,this._params[nextId]);}}};qq.UploadHandlerForm=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={};};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function(fileInput){fileInput.setAttribute('name','qqfile');var id='qq-upload-handler-iframe'+qq.getUniqueId();this._inputs[id]=fileInput;if(fileInput.parentNode){qq.remove(fileInput);}return id;},getName:function(id){return this._inputs[id].value.replace(/.*(\/|\\)/,"");},_cancel:function(id){this._options.onCancel(id,this.getName(id));delete this._inputs[id];var iframe=document.getElementById(id);if(iframe){iframe.setAttribute('src','javascript:false;');qq.remove(iframe);}},_upload:function(id,params){var input=this._inputs[id];if(!input){throw new Error('file with passed id was not added, or already uploaded or cancelled');}var fileName=this.getName(id);var iframe=this._createIframe(id);var form=this._createForm(iframe,params);form.appendChild(input);var self=this;this._attachLoadEvent(iframe,function(){self.log('iframe loaded');var response=self._getIframeContentJSON(iframe);self._options.onComplete(id,fileName,response);self._dequeue(id);delete self._inputs[id];setTimeout(function(){qq.remove(iframe);},1);});form.submit();qq.remove(form);return id;},_attachLoadEvent:function(iframe,callback){qq.attach(iframe,'load',function(){if(!iframe.parentNode){return;}if(iframe.contentDocument&&iframe.contentDocument.body&&iframe.contentDocument.body.innerHTML=="false"){return;}callback();});},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")");}catch(err){response={};}return response;},_createIframe:function(id){var iframe=qq.toElement('<iframe src="javascript:false;" name="'+id+'" />');iframe.setAttribute('id',id);iframe.style.display='none';document.body.appendChild(iframe);return iframe;},_createForm:function(iframe,params){var form=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');var queryString=qq.obj2url(params,this._options.action);form.setAttribute('action',queryString);form.setAttribute('target',iframe.name);form.style.display='none';document.body.appendChild(form);return form;}});qq.UploadHandlerXhr=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[];};qq.UploadHandlerXhr.isSupported=function(){var input=document.createElement('input');input.type='file';return('multiple'in input&&typeof File!="undefined"&&typeof(new XMLHttpRequest()).upload!="undefined");};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerXhr.prototype,{add:function(file){if(!(file instanceof File)){throw new Error('Passed obj in not a File (in qq.UploadHandlerXhr)');}return this._files.push(file)-1;},getName:function(id){var file=this._files[id];return file.fileName!=null?file.fileName:file.name;},getSize:function(id){var file=this._files[id];return file.fileSize!=null?file.fileSize:file.size;},getLoaded:function(id){return this._loaded[id]||0;},_upload:function(id,params){var file=this._files[id],name=this.getName(id),size=this.getSize(id);this._loaded[id]=0;var xhr=this._xhrs[id]=new XMLHttpRequest();var self=this;xhr.upload.onprogress=function(e){if(e.lengthComputable){self._loaded[id]=e.loaded;self._options.onProgress(id,name,e.loaded,e.total);}};xhr.onreadystatechange=function(){if(xhr.readyState==4){self._onComplete(id,xhr);}};params=params||{};params['qqfile']=name;var queryString=qq.obj2url(params,this._options.action);xhr.open("POST",queryString,true);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-File-Name",encodeURIComponent(name));xhr.setRequestHeader("Content-Type","application/octet-stream");xhr.send(file);},_onComplete:function(id,xhr){if(!this._files[id])return;var name=this.getName(id);var size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")");}catch(err){response={};}this._options.onComplete(id,name,response);}else{this._options.onComplete(id,name,{});}this._files[id]=null;this._xhrs[id]=null;this._dequeue(id);},_cancel:function(id){this._options.onCancel(id,this.getName(id));this._files[id]=null;if(this._xhrs[id]){this._xhrs[id].abort();this._xhrs[id]=null;}}});qq.extend(qq.FileUploader.prototype,{_createUploadHandler:function(){var self=this,handlerClass;if(qq.UploadHandlerXhr.isSupported()){handlerClass='UploadHandlerXhr';}else{handlerClass='UploadHandlerForm';}var handler=new qq[handlerClass]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(id,fileName,loaded,total){self._onProgress(id,fileName,loaded,total);self._options.onProgress(id,fileName,loaded,total);},onComplete:function(id,fileName,result){self._onComplete(id,fileName,result);self._options.onComplete(id,fileName,result);},onCancel:function(id,fileName){self._onCancel(id,fileName);self._options.onCancel(id,fileName);},onUpload:function(){self._onUpload();}});return handler;},_onUpload:function(){this._handler.uploadAll(this._options.params);},_uploadFile:function(fileContainer){var id=this._handler.add(fileContainer);var fileName=this._handler.getName(id);if(this._options.onSubmit(id,fileName)!==false){this._onSubmit(id,fileName);}},_addToList:function(id,fileName){var item=qq.toElement(this._options.fileTemplate);item.qqFileId=id;var fileElement=this._find(item,'file');qq.setText(fileElement,fileName);this._find(item,'size').style.display='none';var nameElement=this._find(item,'nameInput');fileName=fileName.toLowerCase();fileName=fileName.replace(/([ !"#$%&\'()+,\/;<=>?@[\]^`{|}~:]+)/g,'_');fileName=fileName.replace(/^_+/,'');nameElement.value=fileName;nameElement.id='mediamanager__upload_item'+id;this._listElement.appendChild(item);}});qq.FileUploaderExtended=function(o){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader">'+'<div class="qq-upload-drop-area"><span>'+LANG.media_drop+'</span></div>'+'<div class="qq-upload-button">'+LANG.media_select+'</div>'+'<ul class="qq-upload-list"></ul>'+'<div class="qq-action-container">'+'  <button class="qq-upload-action" type="submit" id="mediamanager__upload_button">'+LANG.media_upload_btn+'</button>'+'  <label class="qq-overwrite-check"><input type="checkbox" value="1" name="ow" class="dw__ow"> <span>'+LANG.media_overwrt+'</span></label>'+'</div>'+'</div>',fileTemplate:'<li>'+'<span class="qq-upload-file hidden"></span>'+'  <input class="qq-upload-name-input edit" type="text" value="" />'+'  <span class="qq-upload-spinner hidden"></span>'+'  <span class="qq-upload-size"></span>'+'  <a class="qq-upload-cancel" href="#">'+LANG.media_cancel+'</a>'+'  <span class="qq-upload-failed-text error">Failed</span>'+'</li>',classes:{button:'qq-upload-button',drop:'qq-upload-drop-area',dropActive:'qq-upload-drop-area-active',list:'qq-upload-list',nameInput:'qq-upload-name-input',overwriteInput:'qq-overwrite-check',uploadButton:'qq-upload-action',file:'qq-upload-file',spinner:'qq-upload-spinner',size:'qq-upload-size',cancel:'qq-upload-cancel',success:'qq-upload-success',fail:'qq-upload-fail',failedText:'qq-upload-failed-text'}});qq.extend(this._options,o);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,'list');this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,'button'));this._bindCancelEvent();this._bindUploadEvent();this._setupDragDrop();};qq.extend(qq.FileUploaderExtended.prototype,qq.FileUploader.prototype);qq.extend(qq.FileUploaderExtended.prototype,{_bindUploadEvent:function(){var self=this,list=this._listElement;qq.attach(document.getElementById('mediamanager__upload_button'),'click',function(e){e=e||window.event;var target=e.target||e.srcElement;qq.preventDefault(e);self._handler._options.onUpload();jQuery(".qq-upload-name-input").each(function(i){jQuery(this).attr('disabled','disabled');});});},_onComplete:function(id,fileName,result){this._filesInProgress--;var item=this._getItemByFileId(id);qq.remove(this._find(item,'cancel'));qq.remove(this._find(item,'spinner'));var nameInput=this._find(item,'nameInput');var fileElement=this._find(item,'file');qq.setText(fileElement,nameInput.value);qq.removeClass(fileElement,'hidden');qq.remove(nameInput);jQuery('.qq-upload-button, #mediamanager__upload_button').remove();jQuery('.dw__ow').parent().hide();jQuery('.qq-upload-drop-area').remove();if(result.success){qq.addClass(item,this._classes.success);$link='<a href="'+result.link+'" id="h_:'+result.id+'" class="select">'+nameInput.value+'</a>';jQuery(fileElement).html($link);}else{qq.addClass(item,this._classes.fail);var fail=this._find(item,'failedText');if(result.error)qq.setText(fail,result.error);}if(document.getElementById('media__content')&&!document.getElementById('mediamanager__done_form')){var action=document.location.href;var i=action.indexOf('?');if(i)action=action.substr(0,i);var button='<form method="post" action="'+action+'" id="mediamanager__done_form"><div>';button+='<input type="hidden" value="'+result.ns+'" name="ns">';button+='<input type="hidden" value="1" name="recent">';button+='<button type="submit">'+LANG.media_done_btn+'</button></div></form>';jQuery('#mediamanager__uploader').append(button);}}});qq.extend(qq.UploadHandlerForm.prototype,{uploadAll:function(params){this._uploadAll(params);},getName:function(id){var file=this._inputs[id];var name=document.getElementById('mediamanager__upload_item'+id);if(name!=null){return name.value;}else{if(file!=null){return file.value.replace(/.*(\/|\\)/,"");}else{return null;}}},_uploadAll:function(params){jQuery(".qq-upload-spinner").each(function(i){jQuery(this).removeClass('hidden');});for(key in this._inputs){this.upload(key,params);}},_upload:function(id,params){var input=this._inputs[id];if(!input){throw new Error('file with passed id was not added, or already uploaded or cancelled');}var fileName=this.getName(id);var iframe=this._createIframe(id);var form=this._createForm(iframe,params);form.appendChild(input);var nameInput=qq.toElement('<input name="mediaid" value="'+fileName+'" type="text">');form.appendChild(nameInput);var checked=jQuery('.dw__ow').is(':checked');var owCheckbox=jQuery('.dw__ow').clone();owCheckbox.attr('checked',checked);jQuery(form).append(owCheckbox);var self=this;this._attachLoadEvent(iframe,function(){self.log('iframe loaded');var response=self._getIframeContentJSON(iframe);self._options.onComplete(id,fileName,response);self._dequeue(id);delete self._inputs[id];setTimeout(function(){qq.remove(iframe);},1);});form.submit();qq.remove(form);return id;}});qq.extend(qq.UploadHandlerXhr.prototype,{uploadAll:function(params){this._uploadAll(params);},getName:function(id){var file=this._files[id];var name=document.getElementById('mediamanager__upload_item'+id);if(name!=null){return name.value;}else{if(file!=null){return file.fileName!=null?file.fileName:file.name;}else{return null;}}},getSize:function(id){var file=this._files[id];if(file==null)return null;return file.fileSize!=null?file.fileSize:file.size;},_upload:function(id,params){var file=this._files[id],name=this.getName(id),size=this.getSize(id);if(name==null||size==null)return;this._loaded[id]=0;var xhr=this._xhrs[id]=new XMLHttpRequest();var self=this;xhr.upload.onprogress=function(e){if(e.lengthComputable){self._loaded[id]=e.loaded;self._options.onProgress(id,name,e.loaded,e.total);}};xhr.onreadystatechange=function(){if(xhr.readyState==4){self._onComplete(id,xhr);}};params=params||{};params['qqfile']=name;params['ow']=jQuery('.dw__ow').is(':checked');var queryString=qq.obj2url(params,this._options.action);xhr.open("POST",queryString,true);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-File-Name",encodeURIComponent(name));xhr.setRequestHeader("Content-Type","application/octet-stream");xhr.send(file);},_uploadAll:function(params){jQuery(".qq-upload-spinner").each(function(i){jQuery(this).removeClass('hidden');});for(key in this._files){this.upload(key,params);}}});function substr_replace(str,replace,start,length){var a2,b1;a2=(start<0?str.length:0)+start;if(typeof length==='undefined'){length=str.length-a2;}else if(length<0&&start<0&&length<=start){length=0;}b1=(length<0?str.length:a2)+length;return str.substring(0,a2)+replace+str.substring(b1);}function bind(fnc){var Aps=Array.prototype.slice,static_args=Aps.call(arguments,1);return function(){return fnc.apply(this,static_args.concat(Aps.call(arguments,0)));};}function logError(e,file){if(window.console&&console.error){console.error('The error "%s: %s" occurred in file "%s". '+'If this is in a plugin try updating or disabling the plugin, '+'if this is in a template try updating the template or switching to the "dokuwiki" template.',e.name,e.message,file);if(e.stack){console.error(e.stack);}}}var timer={_cur_id:0,_handlers:{},execDispatch:function(id){timer._handlers[id]();},add:function(func,timeout){var id=++timer._cur_id;timer._handlers[id]=func;return window.setTimeout('timer.execDispatch('+id+')',timeout);}};function Delay(func,timeout){this.func=func;if(timeout){this.timeout=timeout;}}Delay.prototype={func:null,timeout:500,delTimer:function(){if(this.timer!==null){window.clearTimeout(this.timer);this.timer=null;}},start:function(){DEPRECATED('don\'t use the Delay object, use window.timeout with a callback instead');this.delTimer();var _this=this;this.timer=timer.add(function(){_this.exec.call(_this);},this.timeout);this._data={_this:arguments[0],_params:Array.prototype.slice.call(arguments,2)};},exec:function(){this.delTimer();this.func.call(this._data._this,this._data._params);}};var DokuCookie={data:{},name:'DOKU_PREFS',setValue:function(key,val){var text=[],_this=this;this.init();this.data[key]=val;jQuery.each(_this.data,function(key,val){if(_this.data.hasOwnProperty(key)){text.push(encodeURIComponent(key)+'#'+encodeURIComponent(val));}});jQuery.cookie(this.name,text.join('#'),{expires:365,path:DOKU_COOKIE_PARAM.path,secure:DOKU_COOKIE_PARAM.secure});},getValue:function(key){this.init();return this.data[key];},init:function(){var text,parts,i;if(!jQuery.isEmptyObject(this.data)){return;}text=jQuery.cookie(this.name);if(text){parts=text.split('#');for(i=0;i<parts.length;i+=2){this.data[decodeURIComponent(parts[i])]=decodeURIComponent(parts[i+1]);}}}};if('function'===typeof jQuery&&'function'===typeof jQuery.noConflict){jQuery.noConflict();}var clientPC=navigator.userAgent.toLowerCase();var is_macos=navigator.appVersion.indexOf('Mac')!=-1;var is_gecko=((clientPC.indexOf('gecko')!=-1)&&(clientPC.indexOf('spoofer')==-1)&&(clientPC.indexOf('khtml')==-1)&&(clientPC.indexOf('netscape/7.0')==-1));var is_safari=((clientPC.indexOf('applewebkit')!=-1)&&(clientPC.indexOf('spoofer')==-1));var is_khtml=(navigator.vendor=='KDE'||(document.childNodes&&!document.all&&!navigator.taintEnabled));if(clientPC.indexOf('opera')!=-1){var is_opera=true;var is_opera_preseven=(window.opera&&!document.childNodes);var is_opera_seven=(window.opera&&document.childNodes);}function showLoadBar(){document.write('<img src="'+DOKU_BASE+'lib/images/loading.gif" '+'width="150" height="12" alt="..." />');}function hideLoadBar(id){jQuery('#'+id).hide();}function closePopups(){jQuery('div.JSpopup').hide();}jQuery(function(){jQuery(document).click(closePopups);});jQuery.fn.dw_qsearch=function(overrides){var dw_qsearch={output:'#qsearch__out',$inObj:this,$outObj:null,timer:null,curRequest:null,init:function(){var do_qsearch;dw_qsearch.$outObj=jQuery(dw_qsearch.output);if(dw_qsearch.$inObj.length===0||dw_qsearch.$outObj.length===0){return;}do_qsearch=function(){if(dw_qsearch.curRequest!=null){dw_qsearch.curRequest.abort();}var value=dw_qsearch.getSearchterm();if(value===''){dw_qsearch.clear_results();return;}dw_qsearch.$inObj.parents('form').addClass('searching');dw_qsearch.curRequest=jQuery.post(DOKU_BASE+'lib/exe/ajax.php',{call:'qsearch',q:encodeURI(value)},dw_qsearch.onCompletion,'html');};dw_qsearch.$inObj.keyup(function(){if(dw_qsearch.timer){window.clearTimeout(dw_qsearch.timer);dw_qsearch.timer=null;}dw_qsearch.timer=window.setTimeout(do_qsearch,500);});dw_qsearch.$outObj.click(dw_qsearch.clear_results);},getSearchterm:function(){return dw_qsearch.$inObj.val();},clear_results:function(){dw_qsearch.$inObj.parents('form').removeClass('searching');dw_qsearch.$outObj.hide();dw_qsearch.$outObj.text('');},onCompletion:function(data){var max,$links,too_big;dw_qsearch.$inObj.parents('form').removeClass('searching');dw_qsearch.curRequest=null;if(data===''){dw_qsearch.clear_results();return;}dw_qsearch.$outObj .html(data).show().css('white-space','nowrap');dw_qsearch.$outObj.find('li').css('overflow','visible');$links=dw_qsearch.$outObj.find('a');max=dw_qsearch.$outObj[0].clientWidth;if(document.documentElement.dir==='rtl'){max-=parseInt(dw_qsearch.$outObj.css('padding-left'));too_big=function(l){return l.offsetLeft<0;};}else{max-=parseInt(dw_qsearch.$outObj.css('padding-right'));too_big=function(l){return l.offsetWidth+l.offsetLeft>max;};}$links.each(function(){var start,length,replace,nsL,nsR,eli,runaway;if(!too_big(this)){return;}nsL=this.textContent.indexOf('(');nsR=this.textContent.indexOf(')');eli=0;runaway=0;while((nsR-nsL>3)&&too_big(this)&&runaway++<500){if(eli!==0){if((eli-nsL)>(nsR-eli)){start=eli-2;length=2;}else{start=eli+1;length=1;}replace='';}else{start=Math.floor(nsL+((nsR-nsL)/2));length=1;replace='…';}this.textContent=substr_replace(this.textContent,replace,start,length);eli=this.textContent.indexOf('…');nsL=this.textContent.indexOf('(');nsR=this.textContent.indexOf(')');}});dw_qsearch.$outObj.find('li').css('overflow','hidden').css('text-overflow','ellipsis');}};jQuery.extend(dw_qsearch,overrides);if(!overrides.deferInit){dw_qsearch.init();}return dw_qsearch;};jQuery(function(){jQuery('#qsearch__in').dw_qsearch({output:'#qsearch__out'});});jQuery.fn.dw_tree=function(overrides){var dw_tree={throbber_delay:500,$obj:this,toggle_selector:'a.idx_dir',init:function(){this.$obj.on('click',this.toggle_selector,this,this.toggle);jQuery('ul:first',this.$obj).attr('role','tree');jQuery('ul',this.$obj).not(':first').attr('role','group');jQuery('li',this.$obj).attr('role','treeitem');jQuery('li.open > ul',this.$obj).attr('aria-expanded','true');jQuery('li.closed > ul',this.$obj).attr('aria-expanded','false');jQuery('li.closed',this.$obj).attr('aria-live','assertive');},toggle:function(e){var $listitem,$sublist,timeout,$clicky,show_sublist,dw_tree,opening;e.preventDefault();dw_tree=e.data;$clicky=jQuery(this);$listitem=$clicky.closest('li');$sublist=$listitem.find('ul').first();opening=$listitem.hasClass('closed');dw_tree.toggle_display($clicky,opening);if($sublist.is(':visible')){$listitem.removeClass('open').addClass('closed');$sublist.attr('aria-expanded','false');}else{$listitem.removeClass('closed').addClass('open');$sublist.attr('aria-expanded','true');}if(!opening){$sublist.dw_hide();return;}show_sublist=function(data){$sublist.hide();if(typeof data!=='undefined'){$sublist.html(data);$sublist.parent().attr('aria-busy','false').removeAttr('aria-live');jQuery('li.closed',$sublist).attr('aria-live','assertive');}if($listitem.hasClass('open')){$sublist.dw_show();}};if($sublist.length>0){show_sublist();return;}$sublist=jQuery('<ul class="idx" role="group"/>');$listitem.append($sublist);timeout=window.setTimeout(bind(show_sublist,'<li aria-busy="true"><img src="'+DOKU_BASE+'lib/images/throbber.gif" alt="loading..." title="loading..." /></li>'),dw_tree.throbber_delay);dw_tree.load_data(function(data){window.clearTimeout(timeout);show_sublist(data);},$clicky);},toggle_display:function($clicky,opening){},load_data:function(show_data,$clicky){show_data();}};jQuery.extend(dw_tree,overrides);if(!overrides.deferInit){dw_tree.init();}return dw_tree;};var dw_index=jQuery('#index__tree').dw_tree({deferInit:true,load_data:function(show_sublist,$clicky){jQuery.post(DOKU_BASE+'lib/exe/ajax.php',$clicky[0].search.substr(1)+'&call=index',show_sublist,'html');}});jQuery(function(){var $tree=jQuery('#index__tree');dw_index.$obj=$tree;dw_index.init();});function selection_class(){this.start=0;this.end=0;this.obj=null;this.scroll=0;this.fix=0;this.getLength=function(){return this.end-this.start;};this.getText=function(){return(!this.obj)?'':this.obj.value.substring(this.start,this.end);};}function DWgetSelection(textArea){var sel=new selection_class();textArea.focus();sel.obj=textArea;sel.start=textArea.selectionStart;sel.end=textArea.selectionEnd;sel.scroll=textArea.scrollTop;return sel;}function DWsetSelection(selection){selection.obj.setSelectionRange(selection.start,selection.end);if(selection.scroll)selection.obj.scrollTop=selection.scroll;}function pasteText(selection,text,opts){if(!opts)opts={};selection.obj.value=selection.obj.value.substring(0,selection.start)+text+selection.obj.value.substring(selection.end,selection.obj.value.length);if(is_opera){selection.end=selection.start+text.replace(/\r?\n/g,'\r\n').length;}else{selection.end=selection.start+text.length;}if(opts.startofs)selection.start+=opts.startofs;if(opts.endofs)selection.end-=opts.endofs;if(opts.nosel)selection.start=selection.end;DWsetSelection(selection);}function insertTags(textAreaID,tagOpen,tagClose,sampleText){var txtarea=jQuery('#'+textAreaID)[0];var selection=DWgetSelection(txtarea);var text=selection.getText();var opts;if(text.charAt(text.length-1)==' '){selection.end--;text=selection.getText();}if(!text){text=sampleText;opts={startofs:tagOpen.length,endofs:tagClose.length};}else{opts={nosel:true};}text=tagOpen+text+tagClose;pasteText(selection,text,opts);}function insertAtCarret(textAreaID,text){var txtarea=jQuery('#'+textAreaID)[0];var selection=DWgetSelection(txtarea);pasteText(selection,text,{nosel:true});}var pickercounter=0;function initToolbar(tbid,edid,tb,allowblock){var $toolbar,$edit;if(typeof tbid=='string'){$toolbar=jQuery('#'+tbid);}else{$toolbar=jQuery(tbid);}$edit=jQuery('#'+edid);if($toolbar.length==0||$edit.length==0||$edit.attr('readOnly')){return;}if(typeof allowblock==='undefined'){allowblock=true;}$toolbar.html('');jQuery.each(tb,function(k,val){if(!tb.hasOwnProperty(k)||(!allowblock&&val.block===true)){return;}var actionFunc,$btn;$btn=jQuery(createToolButton(val.icon,val.title,val.key,val.id,val['class']));actionFunc='tb_'+val.type;if(jQuery.isFunction(window[actionFunc])){$btn.on('click',bind(window[actionFunc],$btn,val,edid));$toolbar.append($btn);return;}actionFunc='addBtnAction'+val.type.charAt(0).toUpperCase()+val.type.substring(1);if(jQuery.isFunction(window[actionFunc])){var pickerid=window[actionFunc]($btn,val,edid);if(pickerid!==''){$toolbar.append($btn);$btn.attr('aria-controls',pickerid);if(actionFunc==='addBtnActionPicker'){$btn.attr('aria-haspopup','true');}}return;}alert('unknown toolbar type: '+val.type+'  '+actionFunc);});}function tb_format(btn,props,edid){var sample=props.sample||props.title;insertTags(edid,fixtxt(props.open),fixtxt(props.close),fixtxt(sample));pickerClose();return false;}function tb_formatln(btn,props,edid){var sample=props.sample||props.title,opts,selection=DWgetSelection(jQuery('#'+edid)[0]);sample=fixtxt(sample);props.open=fixtxt(props.open);props.close=fixtxt(props.close);if(selection.getLength()){sample=selection.getText();opts={nosel:true};}else{opts={startofs:props.open.length,endofs:props.close.length};}sample=sample.split("\n").join(props.close+"\n"+props.open);sample=props.open+sample+props.close;pasteText(selection,sample,opts);pickerClose();return false;}function tb_insert(btn,props,edid){insertAtCarret(edid,fixtxt(props.insert));pickerClose();return false;}function tb_mediapopup(btn,props,edid){window.open(DOKU_BASE+props.url+encodeURIComponent(NS)+'&edid='+encodeURIComponent(edid),props.name,props.options);return false;}function tb_autohead(btn,props,edid){var lvl=currentHeadlineLevel(edid),tags;lvl+=props.mod;if(lvl<1)lvl=1;if(lvl>5)lvl=5;tags=(new Array(8-lvl)).join('=');insertTags(edid,tags+' ',' '+tags+"\n",props.text);pickerClose();return false;}function addBtnActionPicker($btn,props,edid){var pickerid='picker'+(pickercounter++);var picker=createPicker(pickerid,props,edid);jQuery(picker).attr('aria-hidden','true');$btn.click(function(e){pickerToggle(pickerid,$btn);e.preventDefault();return'';});return pickerid;}function addBtnActionLinkwiz($btn,props,edid){dw_linkwiz.init(jQuery('#'+edid));jQuery($btn).click(function(e){dw_linkwiz.val=props;dw_linkwiz.toggle();e.preventDefault();return'';});return'link__wiz';}function pickerToggle(pickerid,$btn){var $picker=jQuery('#'+pickerid),pos=$btn.offset();if($picker.hasClass('a11y')){$picker.removeClass('a11y').attr('aria-hidden','false');}else{$picker.addClass('a11y').attr('aria-hidden','true');}var picker_left=pos.left+3,picker_width=$picker.width(),window_width=jQuery(window).width();if(picker_width>300){$picker.css("max-width","300");picker_width=300;}if((picker_left+picker_width+40)>window_width){picker_left=window_width-picker_width-40;}if(picker_left<0){picker_left=0;}$picker.offset({left:picker_left,top:pos.top+$btn[0].offsetHeight+3});}function pickerClose(){jQuery('.picker').addClass('a11y');}function fixtxt(str){return str.replace(/\\n/g,"\n");}jQuery(function(){initToolbar('tool__bar','wiki__text',toolbar);jQuery('#tool__bar').attr('role','toolbar');});function createToolButton(icon,label,key,id,classname){var $btn=jQuery(document.createElement('button')),$ico=jQuery(document.createElement('img'));$btn.addClass('toolbutton');if(classname){$btn.addClass(classname);}$btn.attr('title',label).attr('aria-controls','wiki__text');if(key){$btn.attr('title',label+' ['+key.toUpperCase()+']').attr('accessKey',key);}if(id){$btn.attr('id',id);$ico.attr('id',id+'_ico');}if(icon.substr(0,1)!=='/'){icon=DOKU_BASE+'lib/images/toolbar/'+icon;}$ico.attr('src',icon);$ico.attr('alt','');$ico.attr('width',16);$ico.attr('height',16);$btn.append($ico);return $btn[0];}function createPicker(id,props,edid){var $picker=jQuery(document.createElement('div'));$picker.addClass('picker a11y');if(props['class']){$picker.addClass(props['class']);}$picker.attr('id',id).css('position','absolute');function $makebutton(title){var $btn=jQuery(document.createElement('button')).addClass('pickerbutton').attr('title',title).attr('aria-controls',edid).on('click',bind(pickerInsert,title,edid)).appendTo($picker);return $btn;}jQuery.each(props.list,function(key,item){if(!props.list.hasOwnProperty(key)){return;}if(isNaN(key)){if(item.substr(0,1)!=='/'){item=DOKU_BASE+'lib/images/'+props.icobase+'/'+item;}jQuery(document.createElement('img')).attr('src',item).attr('alt','').appendTo($makebutton(key));}else if(typeof item=='string'){$makebutton(item).text(item);}else{initToolbar($picker,edid,props.list);return false;}});jQuery('body').append($picker);return $picker[0];}function pickerInsert(text,edid){insertAtCarret(edid,text);pickerClose();}function addBtnActionSignature($btn,props,edid){if(typeof SIG!='undefined'&&SIG!=''){$btn.on('click',function(e){insertAtCarret(edid,SIG);e.preventDefault();});return edid;}return'';}function currentHeadlineLevel(textboxId){var field=jQuery('#'+textboxId)[0],s=false,opts=[field.value.substr(0,DWgetSelection(field).start)];if(field.form.prefix){opts.push(field.form.prefix.value);}jQuery.each(opts,function(_,opt){var str="\n"+opt,lasthl=str.lastIndexOf("\n==");if(lasthl!==-1){s=str.substr(lasthl+1,6);return false;}});if(s===false){return 0;}return 7-s.match(/^={2,6}/)[0].length;}window.textChanged=false;window.doku_edit_text_content='';function deleteDraft(){if(is_opera||window.keepDraft){return;}var $dwform=jQuery('#dw__editform');if($dwform.length===0){return;}jQuery.post(DOKU_BASE+'lib/exe/ajax.php',{call:'draftdel',id:$dwform.find('input[name=id]').val()});}jQuery(function(){var $editform=jQuery('#dw__editform');if($editform.length==0){return;}var $edit_text=jQuery('#wiki__text');if($edit_text.length>0){if($edit_text.attr('readOnly')){return;}var sel=DWgetSelection($edit_text[0]);sel.start=0;sel.end=0;DWsetSelection(sel);$edit_text.focus();doku_edit_text_content=$edit_text.val();}var changeHandler=function(){doku_hasTextBeenModified();doku_summaryCheck();};$editform.change(changeHandler);$editform.keydown(changeHandler);window.onbeforeunload=function(){if(window.textChanged){return LANG.notsavedyet;}};window.onunload=deleteDraft;jQuery('#edbtn__save').click(function(){window.onbeforeunload='';textChanged=false;});jQuery('#edbtn__preview').click(function(){window.onbeforeunload='';textChanged=false;window.keepDraft=true;});var $summary=jQuery('#edit__summary');$summary.change(doku_summaryCheck);$summary.keyup(doku_summaryCheck);if(textChanged)doku_summaryCheck();});function doku_hasTextBeenModified(){if(!textChanged){var $edit_text=jQuery('#wiki__text');if($edit_text.length>0){textChanged=doku_edit_text_content!=$edit_text.val();}else{textChanged=true;}}}function doku_summaryCheck(){var $sum=jQuery('#edit__summary'),missing=$sum.val()==='';$sum.toggleClass('missing',missing).toggleClass('edit',!missing);}var dw_editor={init:function(){var $editor=jQuery('#wiki__text');if($editor.length===0){return;}dw_editor.initSizeCtl('#size__ctl',$editor);if($editor.attr('readOnly')){return;}$editor.keydown(dw_editor.keyHandler);},initSizeCtl:function(ctlarea,editor){var $ctl=jQuery(ctlarea),$textarea=jQuery(editor);if($ctl.length===0||$textarea.length===0){return;}$textarea.css('height',DokuCookie.getValue('sizeCtl')||'300px');var wrp=DokuCookie.getValue('wrapCtl');if(wrp){dw_editor.setWrap($textarea[0],wrp);}jQuery.each([['larger',function(){dw_editor.sizeCtl(editor,100);}],['smaller',function(){dw_editor.sizeCtl(editor,-100);}],['wrap',function(){dw_editor.toggleWrap(editor);}]],function(_,img){jQuery(document.createElement('img')).attr('src',DOKU_BASE+'lib/images/'+img[0]+'.gif').attr('alt','').click(img[1]).appendTo($ctl);});},sizeCtl:function(editor,val){var $textarea=jQuery(editor),height=parseInt($textarea.css('height'))+val;$textarea.css('height',height+'px');DokuCookie.setValue('sizeCtl',$textarea.css('height'));},toggleWrap:function(editor){var $textarea=jQuery(editor),wrap=$textarea.attr('wrap');dw_editor.setWrap($textarea[0],(wrap&&wrap.toLowerCase()=='off')?'soft':'off');DokuCookie.setValue('wrapCtl',$textarea.attr('wrap'));},setWrap:function(textarea,wrapAttrValue){textarea.setAttribute('wrap',wrapAttrValue);var parNod=textarea.parentNode;var nxtSib=textarea.nextSibling;parNod.removeChild(textarea);parNod.insertBefore(textarea,nxtSib);},keyHandler:function(e){if(jQuery.inArray(e.keyCode,[8,10,13,32])===-1){return;}var selection=DWgetSelection(this);if(selection.getLength()>0){return;}var search="\n"+this.value.substr(0,selection.start);var linestart=Math.max(search.lastIndexOf("\n"),search.lastIndexOf("\r"));search=search.substr(linestart);if((e.keyCode==13||e.keyCode==10)&&e.ctrlKey){jQuery('#edbtn__save').click();e.preventDefault();return false;}else if(e.keyCode==13){var match=search.match(/(\n  +([\*-] ?)?)/);if(match){var scroll=this.scrollHeight;var match2=search.match(/^\n  +[\*-]\s*$/);if(match2&&this.value.substr(selection.start).match(/^($|\r?\n)/)){this.value=this.value.substr(0,linestart)+"\n"+this.value.substr(selection.start);selection.start=linestart+1;selection.end=linestart+1;DWsetSelection(selection);}else{insertAtCarret(this.id,match[1]);}this.scrollTop+=(this.scrollHeight-scroll);e.preventDefault();return false;}}else if(e.keyCode==8){var match=search.match(/(\n  +)([*-] ?)$/);if(match){var spaces=match[1].length-1;if(spaces>3){this.value=this.value.substr(0,linestart)+this.value.substr(linestart+2);selection.start=selection.start-2;selection.end=selection.start;}else{this.value=this.value.substr(0,linestart)+this.value.substr(selection.start);selection.start=linestart;selection.end=linestart;}DWsetSelection(selection);e.preventDefault();return false;}}else if(e.keyCode==32){var match=search.match(/(\n  +)([*-] )$/);if(match){this.value=this.value.substr(0,linestart)+'  '+this.value.substr(linestart);selection.start=selection.start+2;selection.end=selection.start;DWsetSelection(selection);e.preventDefault();return false;}}}};jQuery(dw_editor.init);var dw_locktimer={timeout:0,draft:false,timerID:null,lasttime:null,msg:LANG.willexpire,pageid:'',init:function(timeout,draft,edid){var $edit;edid=edid||'wiki__text';$edit=jQuery('#'+edid);if($edit.length===0||$edit.attr('readonly')){return;}dw_locktimer.timeout=timeout*1000;dw_locktimer.draft=draft;dw_locktimer.lasttime=new Date();dw_locktimer.pageid=jQuery('#dw__editform').find('input[name=id]').val();if(!dw_locktimer.pageid){return;}$edit.keypress(dw_locktimer.refresh);dw_locktimer.reset();},reset:function(){dw_locktimer.clear();dw_locktimer.timerID=window.setTimeout(dw_locktimer.warning,dw_locktimer.timeout);},warning:function(){dw_locktimer.clear();alert(fixtxt(dw_locktimer.msg));},clear:function(){if(dw_locktimer.timerID!==null){window.clearTimeout(dw_locktimer.timerID);dw_locktimer.timerID=null;}},refresh:function(){var now=new Date(),params='call=lock&id='+dw_locktimer.pageid+'&';if(now.getTime()-dw_locktimer.lasttime.getTime()<=30*1000){return;}if(dw_locktimer.draft&&jQuery('#dw__editform').find('textarea[name=wikitext]').length>0){params+=jQuery('#dw__editform').find('input[name=prefix], '+'textarea[name=wikitext], '+'input[name=suffix], '+'input[name=date]').serialize();}jQuery.post(DOKU_BASE+'lib/exe/ajax.php',params,dw_locktimer.refreshed,'html');dw_locktimer.lasttime=now;},refreshed:function(data){var error=data.charAt(0);data=data.substring(1);jQuery('#draft__status').html(data);if(error!='1'){return;}dw_locktimer.reset();}};var dw_linkwiz={$wiz:null,$entry:null,result:null,timer:null,textArea:null,selected:null,selection:null,init:function($editor){var pos=$editor.position();if(dw_linkwiz.$wiz)return;dw_linkwiz.$wiz=jQuery(document.createElement('div')).dialog({autoOpen:false,draggable:true,title:LANG.linkwiz,resizable:false}).html('<div>'+LANG.linkto+' <input type="text" class="edit" id="link__wiz_entry" autocomplete="off" /></div>'+'<div id="link__wiz_result"></div>').parent().attr('id','link__wiz').css({'position':'absolute','top':(pos.top+20)+'px','left':(pos.left+80)+'px'}).hide().appendTo('.dokuwiki:first');dw_linkwiz.textArea=$editor[0];dw_linkwiz.result=jQuery('#link__wiz_result')[0];jQuery(dw_linkwiz.result).css('position','relative');dw_linkwiz.$entry=jQuery('#link__wiz_entry');if(JSINFO.namespace){dw_linkwiz.$entry.val(JSINFO.namespace+':');}jQuery('#link__wiz .ui-dialog-titlebar-close').click(dw_linkwiz.hide);dw_linkwiz.$entry.keyup(dw_linkwiz.onEntry);jQuery(dw_linkwiz.result).on('click','a',dw_linkwiz.onResultClick);},onEntry:function(e){if(e.keyCode==37||e.keyCode==39){return true;}if(e.keyCode==27){dw_linkwiz.hide();e.preventDefault();e.stopPropagation();return false;}if(e.keyCode==38){dw_linkwiz.select(dw_linkwiz.selected-1);e.preventDefault();e.stopPropagation();return false;}if(e.keyCode==40){dw_linkwiz.select(dw_linkwiz.selected+1);e.preventDefault();e.stopPropagation();return false;}if(e.keyCode==13){if(dw_linkwiz.selected>-1){var $obj=dw_linkwiz.$getResult(dw_linkwiz.selected);if($obj.length>0){dw_linkwiz.resultClick($obj.find('a')[0]);}}else if(dw_linkwiz.$entry.val()){dw_linkwiz.insertLink(dw_linkwiz.$entry.val());}e.preventDefault();e.stopPropagation();return false;}dw_linkwiz.autocomplete();},getResult:function(num){DEPRECATED('use dw_linkwiz.$getResult()[0] instead');return dw_linkwiz.$getResult()[0]||null;},$getResult:function(num){return jQuery(dw_linkwiz.result).find('div').eq(num);},select:function(num){if(num<0){dw_linkwiz.deselect();return;}var $obj=dw_linkwiz.$getResult(num);if($obj.length===0){return;}dw_linkwiz.deselect();$obj.addClass('selected');var childPos=$obj.position().top;var yDiff=childPos+$obj.outerHeight()-jQuery(dw_linkwiz.result).innerHeight();if(childPos<0){jQuery(dw_linkwiz.result)[0].scrollTop+=childPos;}else if(yDiff>0){jQuery(dw_linkwiz.result)[0].scrollTop+=yDiff;}dw_linkwiz.selected=num;},deselect:function(){if(dw_linkwiz.selected>-1){dw_linkwiz.$getResult(dw_linkwiz.selected).removeClass('selected');}dw_linkwiz.selected=-1;},onResultClick:function(e){if(!jQuery(this).is('a')){return;}e.stopPropagation();e.preventDefault();dw_linkwiz.resultClick(this);return false;},resultClick:function(a){dw_linkwiz.$entry.val(a.title);if(a.title==''||a.title.substr(a.title.length-1)==':'){dw_linkwiz.autocomplete_exec();}else{if(jQuery(a.nextSibling).is('span')){dw_linkwiz.insertLink(a.nextSibling.innerHTML);}else{dw_linkwiz.insertLink('');}}},insertLink:function(title){var link=dw_linkwiz.$entry.val(),sel,stxt;if(!link){return;}sel=DWgetSelection(dw_linkwiz.textArea);if(sel.start==0&&sel.end==0){sel=dw_linkwiz.selection;}stxt=sel.getText();if(stxt.charAt(stxt.length-1)==' '){sel.end--;stxt=sel.getText();}if(!stxt&&!DOKU_UHC){stxt=title;}if(dw_linkwiz.textArea.form.id.value.indexOf(':')!=-1&&link.indexOf(':')==-1){link=':'+link;}var so=link.length;var eo=0;if(dw_linkwiz.val){if(dw_linkwiz.val.open){so+=dw_linkwiz.val.open.length;link=dw_linkwiz.val.open+link;}link+='|';so+=1;if(stxt){link+=stxt;}if(dw_linkwiz.val.close){link+=dw_linkwiz.val.close;eo=dw_linkwiz.val.close.length;}}pasteText(sel,link,{startofs:so,endofs:eo});dw_linkwiz.hide();var externallinkpattern=new RegExp('^((f|ht)tps?:)?//','i'),entry_value;if(externallinkpattern.test(dw_linkwiz.$entry.val())){if(JSINFO.namespace){entry_value=JSINFO.namespace+':';}else{entry_value='';}}else{entry_value=dw_linkwiz.$entry.val().replace(/[^:]*$/,'')}dw_linkwiz.$entry.val(entry_value);},autocomplete:function(){if(dw_linkwiz.timer!==null){window.clearTimeout(dw_linkwiz.timer);dw_linkwiz.timer=null;}dw_linkwiz.timer=window.setTimeout(dw_linkwiz.autocomplete_exec,350);},autocomplete_exec:function(){var $res=jQuery(dw_linkwiz.result);dw_linkwiz.deselect();$res.html('<img src="'+DOKU_BASE+'lib/images/throbber.gif" alt="" width="16" height="16" />').load(DOKU_BASE+'lib/exe/ajax.php',{call:'linkwiz',q:dw_linkwiz.$entry.val()});},show:function(){dw_linkwiz.selection=DWgetSelection(dw_linkwiz.textArea);dw_linkwiz.$wiz.show();dw_linkwiz.$entry.focus();dw_linkwiz.autocomplete();var temp=dw_linkwiz.$entry.val();dw_linkwiz.$entry.val('');dw_linkwiz.$entry.val(temp);},hide:function(){dw_linkwiz.$wiz.hide();dw_linkwiz.textArea.focus();},toggle:function(){if(dw_linkwiz.$wiz.css('display')=='none'){dw_linkwiz.show();}else{dw_linkwiz.hide();}}};var dw_mediamanager={keepopen:false,hide:false,popup:false,display:false,ext:false,$popup:null,align:false,link:false,size:false,forbidden_opts:{},view_opts:{list:false,sort:false},layout_width:0,minHeights:{thumbs:200,rows:100},init:function(){var $content,$tree;$content=jQuery('#media__content');$tree=jQuery('#media__tree');if(!$tree.length)return;dw_mediamanager.prepare_content($content);dw_mediamanager.attachoptions();dw_mediamanager.initpopup();$content .on('change','#upload__file',dw_mediamanager.suggest).on('click','a.select',dw_mediamanager.select).on('click','#media__content a.btn_media_delete',dw_mediamanager.confirmattach).on('submit','#mediamanager__done_form',dw_mediamanager.list);$tree.dw_tree({toggle_selector:'img',load_data:function(show_sublist,$clicky){var $link=$clicky.parent().find('div.li a.idx_dir');jQuery.post(DOKU_BASE+'lib/exe/ajax.php',$link[0].search.substr(1)+'&call=medians',show_sublist,'html');},toggle_display:function($clicky,opening){$clicky.attr('src',DOKU_BASE+'lib/images/'+(opening?'minus':'plus')+'.gif');}});$tree.on('click','a',dw_mediamanager.list);dw_mediamanager.set_fileview_list();dw_mediamanager.init_options();dw_mediamanager.image_diff();dw_mediamanager.init_ajax_uploader();var $page=jQuery('#mediamanager__page');$page.find('div.filelist').on('click','ul.tabs a',dw_mediamanager.list).on('click','div.panelContent a',dw_mediamanager.details).on('submit','#dw__mediasearch',dw_mediamanager.list).on('change','#upload__file',dw_mediamanager.suggest).on('click','.qq-upload-file a',dw_mediamanager.details);$page.find('div.file').on('click','ul.tabs a',dw_mediamanager.details).on('submit','#mediamanager__btn_update',dw_mediamanager.list).on('submit','#page__revisions',dw_mediamanager.details).on('click','#page__revisions a',dw_mediamanager.details).on('submit','#mediamanager__save_meta',dw_mediamanager.details).on('submit','#mediamanager__btn_delete',dw_mediamanager.details).on('submit','#mediamanager__btn_restore',dw_mediamanager.details).on('submit','.btn_newer, .btn_older',dw_mediamanager.details);dw_mediamanager.update_resizable();dw_mediamanager.layout_width=$page.width();jQuery(window).resize(dw_mediamanager.window_resize);},init_options:function(){var $options=jQuery('div.filelist div.panelHeader form.options'),$listType,$sortBy,$both;if($options.length===0){return;}$listType=$options.find('li.listType');$sortBy=$options.find('li.sortBy');$both=$listType.add($sortBy);$options.find('button[type=submit]').parent().hide();$both.find('label').each(function(){var $this=jQuery(this);$this.children('input').appendTo($this.parent());});$both.find("input[type='radio']").checkboxradio({icon:false});$both.controlgroup();$listType.children('input').change(function(){dw_mediamanager.set_fileview_list();});$sortBy.children('input').change(function(event){dw_mediamanager.set_fileview_sort();dw_mediamanager.list.call(jQuery('#dw__mediasearch')[0]||this,event);});},initpopup:function(){var opts,$insp,$insbtn;dw_mediamanager.$popup=jQuery(document.createElement('div')).attr('id','media__popup_content').dialog({autoOpen:false,width:280,modal:true,draggable:true,title:LANG.mediatitle,resizable:false});opts=[{id:'link',label:LANG.mediatarget,btns:['lnk','direct','nolnk','displaylnk']},{id:'align',label:LANG.mediaalign,btns:['noalign','left','center','right']},{id:'size',label:LANG.mediasize,btns:['small','medium','large','original']}];jQuery.each(opts,function(_,opt){var $p,$l;$p=jQuery(document.createElement('p')).attr('id','media__'+opt.id);if(dw_mediamanager.display==="2"){$p.hide();}$l=jQuery(document.createElement('label')).text(opt.label);$p.append($l);jQuery.each(opt.btns,function(i,text){var $btn,$img;$btn=jQuery(document.createElement('button')).addClass('button').attr('id',"media__"+opt.id+"btn"+(i+1)).attr('title',LANG['media'+text]).click(bind(dw_mediamanager.setOpt,opt.id));$img=jQuery(document.createElement('img')).attr('src',DOKU_BASE+'lib/images/media_'+opt.id+'_'+text+'.png');$btn.append($img);$p.append($btn);});dw_mediamanager.$popup.append($p);});$insp=jQuery(document.createElement('p'));dw_mediamanager.$popup.append($insp);$insbtn=jQuery(document.createElement('input')).attr('id','media__sendbtn').attr('type','button').addClass('button').val(LANG.mediainsert);$insp.append($insbtn);},insert:function(id){var opts,cb,edid,s;dw_mediamanager.$popup.dialog('close');opts='';if({img:1,swf:1}[dw_mediamanager.ext]===1){if(dw_mediamanager.link==='4'){opts='?linkonly';}else{if(dw_mediamanager.link==="3"&&dw_mediamanager.ext==='img'){opts='?nolink';}else if(dw_mediamanager.link==="2"&&dw_mediamanager.ext==='img'){opts='?direct';}s=parseInt(dw_mediamanager.size,10);var size=s*200;if(s&&s>=1&&s<4){opts+=(opts.length)?'&':'?';opts+=size;if(dw_mediamanager.ext==='swf'){switch(s){case 1:opts+='x62';break;case 2:opts+='x123';break;case 3:opts+='x185';break;}}}}}edid=String.prototype.match.call(document.location,/&edid=([^&]+)/);edid=edid?edid[1]:'wiki__text';cb=String.prototype.match.call(document.location,/&onselect=([^&]+)/);cb=cb?cb[1].replace(/[^\w]+/,''):'dw_mediamanager_item_select';opener[cb](edid,id,opts,dw_mediamanager.align);if(!dw_mediamanager.keepopen){window.close();}opener.focus();return false;},suggest:function(){var $file,$name,text;$file=jQuery(this);$name=jQuery('#upload__name');if($name.val()!='')return;if(!$file.length||!$name.length){return;}text=$file.val();text=text.substr(text.lastIndexOf('/')+1);text=text.substr(text.lastIndexOf('\\')+1);$name.val(text);},list:function(event){var $link,$content,params;if(event){event.preventDefault();}jQuery('div.success, div.info, div.error, div.notify').remove();$link=jQuery(this);$content=jQuery('#media__content');if($content.length===0){$content=jQuery('div.filelist');if($link.hasClass('idx_dir')){jQuery('div.file').empty();jQuery('div.namespaces .selected').removeClass('selected');$link.addClass('selected');}}params='call=medialist&';if($link[0].search){params+=$link[0].search.substr(1);}else if($link.is('form')){params+=dw_mediamanager.form_params($link);}else if($link.closest('form').length>0){params+=dw_mediamanager.form_params($link.closest('form'));}dw_mediamanager.update_content($content,params);},form_params:function($form){if(!$form.length)return;var action='';var i=$form[0].action.indexOf('?');if(i>=0){action=$form[0].action.substr(i+1);}return action+'&'+$form.serialize();},set_fileview_list:function(new_type){dw_mediamanager.set_fileview_opt(['list','listType',function(new_type){jQuery('div.filelist div.panelContent ul').toggleClass('rows',new_type==='rows').toggleClass('thumbs',new_type==='thumbs');}],new_type);dw_mediamanager.resize();},set_fileview_sort:function(new_sort){dw_mediamanager.set_fileview_opt(['sort','sortBy',function(new_sort){}],new_sort);},set_fileview_opt:function(opt,new_val){if(typeof new_val==='undefined'){new_val=jQuery('form.options li.'+opt[1]+' input').filter(':checked').val();if(typeof new_val==='undefined'){new_val='thumbs';}}if(new_val!==dw_mediamanager.view_opts[opt[0]]){opt[2](new_val);DokuCookie.setValue(opt[0],new_val);dw_mediamanager.view_opts[opt[0]]=new_val;}},details:function(event){var $link,$content,params,update_list;$link=jQuery(this);event.preventDefault();jQuery('div.success, div.info, div.error, div.notify').remove();if($link[0].id=='mediamanager__btn_delete'&&!confirm(LANG.del_confirm)){return false;}if($link[0].id=='mediamanager__btn_restore'&&!confirm(LANG.restore_confirm)){return false;}$content=jQuery('div.file');params='call=mediadetails&';if($link[0].search){params+=$link[0].search.substr(1);}else if($link.is('form')){params+=dw_mediamanager.form_params($link);}else if($link.closest('form').length>0){params+=dw_mediamanager.form_params($link.closest('form'));}update_list=($link[0].id=='mediamanager__btn_delete'||$link[0].id=='mediamanager__btn_restore');dw_mediamanager.update_content($content,params,update_list);},update_content:function($content,params,update_list){var $container;jQuery.post(DOKU_BASE+'lib/exe/ajax.php',params,function(data){dw_mediamanager.$resizables().resizable('destroy');if(update_list){dw_mediamanager.list.call(jQuery('#mediamanager__page').find('form.options button[type="submit"]')[0]);}$content.html(data);dw_mediamanager.prepare_content($content);dw_mediamanager.updatehide();dw_mediamanager.update_resizable();dw_behaviour.revisionBoxHandler();dw_mediamanager.set_fileview_list(dw_mediamanager.view_opts.list);dw_mediamanager.image_diff();dw_mediamanager.init_ajax_uploader();dw_mediamanager.init_options();},'html');$container=$content.find('div.panelContent');if($container.length===0){$container=$content;}$container.html('<img src="'+DOKU_BASE+'lib/images/loading.gif" alt="..." class="load" />');},window_resize:function(){dw_mediamanager.resize();dw_mediamanager.opacity_slider();dw_mediamanager.portions_slider();},$resizables:function(){return jQuery('#mediamanager__page').find('div.namespaces, div.filelist');},update_resizable:function(){var $resizables=dw_mediamanager.$resizables();$resizables.resizable({handles:(jQuery('html[dir=rtl]').length?'w':'e'),resize:function(event,ui){var $page=jQuery('#mediamanager__page');var widthFull=$page.width();var widthResizables=0;$resizables.each(function(){widthResizables+=jQuery(this).width();});var $filePanel=$page.find('div.panel.file');var widthOtherResizable=widthResizables-jQuery(this).width();var minWidthNonResizable=parseFloat($filePanel.css("min-width"));var maxWidth=widthFull-(widthOtherResizable+minWidthNonResizable)-1;$resizables.resizable("option","maxWidth",maxWidth);var relWidthNonResizable=99.9-(100*widthResizables/widthFull);$filePanel.width(relWidthNonResizable+'%');dw_mediamanager.resize();dw_mediamanager.opacity_slider();dw_mediamanager.portions_slider();}});dw_mediamanager.resize();},resize:function(){var $contents=jQuery('#mediamanager__page').find('div.panelContent'),height=jQuery(window).height()-jQuery(document.body).height()+Math.max.apply(null,jQuery.map($contents,function(v){return jQuery(v).height();}));if(height<dw_mediamanager.minHeights[dw_mediamanager.view_opts.list]){$contents.add(dw_mediamanager.$resizables()).height('auto');}else{$contents.height(height);dw_mediamanager.$resizables().each(function(){var $this=jQuery(this);$this.height(height+$this.find('div.panelContent').offset().top-$this.offset().top);});}},image_diff:function(){if(jQuery('#mediamanager__difftype').length)return;var $form=jQuery('#mediamanager__form_diffview');if(!$form.length)return;var $label=jQuery(document.createElement('label'));$label.append('<span>'+LANG.media_diff+'</span> ');var $select=jQuery(document.createElement('select')).attr('id','mediamanager__difftype').attr('name','difftype').change(dw_mediamanager.change_diff_type);$select.append(new Option(LANG.media_diff_both,"both"));$select.append(new Option(LANG.media_diff_opacity,"opacity"));$select.append(new Option(LANG.media_diff_portions,"portions"));$label.append($select);$form.append($label);var select=document.getElementById('mediamanager__difftype');select.options[0].text=LANG.media_diff_both;select.options[1].text=LANG.media_diff_opacity;select.options[2].text=LANG.media_diff_portions;},change_diff_type:function(){var $select=jQuery('#mediamanager__difftype');var $content=jQuery('#mediamanager__diff');var params=dw_mediamanager.form_params($select.closest('form'))+'&call=mediadiff';jQuery.post(DOKU_BASE+'lib/exe/ajax.php',params,function(data){$content.html(data);dw_mediamanager.portions_slider();dw_mediamanager.opacity_slider();},'html');},opacity_slider:function(){var $diff=jQuery("#mediamanager__diff");var $slider=$diff.find("div.slider");if(!$slider.length)return;var $image=$diff.find('div.imageDiff.opacity div.image1 img');if(!$image.length)return;$slider.width($image.width()-20);$slider.slider();$slider.slider("option","min",0);$slider.slider("option","max",0.999);$slider.slider("option","step",0.001);$slider.slider("option","value",0.5);$slider.on("slide",function(event,ui){jQuery('#mediamanager__diff').find('div.imageDiff.opacity div.image2 img').css({opacity:$slider.slider("option","value")});});},portions_slider:function(){var $diff=jQuery("#mediamanager__diff");if(!$diff.length)return;var $image1=$diff.find('div.imageDiff.portions div.image1 img');var $image2=$diff.find('div.imageDiff.portions div.image2 img');if(!$image1.length||!$image2.length)return;$diff.width('100%');$image2.parent().width('97%');$image1.width('100%');$image2.width('100%');if($image1.width()<$diff.width()){$diff.width($image1.width());}$image2.parent().width('50%');$image2.width($image1.width());$image1.width($image1.width());var $slider=$diff.find("div.slider");if(!$slider.length)return;$slider.width($image1.width()-20);$slider.slider();$slider.slider("option","min",0);$slider.slider("option","max",97);$slider.slider("option","step",1);$slider.slider("option","value",50);$slider.on("slide",function(event,ui){jQuery('#mediamanager__diff').find('div.imageDiff.portions div.image2').css({width:$slider.slider("option","value")+'%'});});},params_toarray:function(str){var vars=[],hash;var hashes=str.split('&');for(var i=0;i<hashes.length;i++){hash=hashes[i].split('=');vars[decodeURIComponent(hash[0])]=decodeURIComponent(hash[1]);}return vars;},init_ajax_uploader:function(){if(!jQuery('#mediamanager__uploader').length)return;if(jQuery('.qq-upload-list').length)return;var params=dw_mediamanager.form_params(jQuery('#dw__upload'))+'&call=mediaupload';params=dw_mediamanager.params_toarray(params);var uploader=new qq.FileUploaderExtended({element:document.getElementById('mediamanager__uploader'),action:DOKU_BASE+'lib/exe/ajax.php',params:params});},prepare_content:function($content){$content.find('div.example:visible').hide();},select:function(event){var $link,id,dot,ext;event.preventDefault();$link=jQuery(this);id=$link.attr('id').substr(2);if(!opener){jQuery(document.getElementById('ex_'+id.replace(/:/g,'_').replace(/^_/,''))).dw_toggle();return;}dw_mediamanager.ext=false;dot=id.lastIndexOf(".");if(-1===dot){dw_mediamanager.insert(id);return;}ext=id.substr(dot);if({'.jpg':1,'.jpeg':1,'.png':1,'.gif':1,'.swf':1}[ext]!==1){dw_mediamanager.insert(id);return;}var $sendbtn=jQuery('#media__sendbtn');$sendbtn.off().click(bind(dw_mediamanager.insert,id));dw_mediamanager.unforbid('ext');if(ext==='.swf'){dw_mediamanager.ext='swf';dw_mediamanager.forbid('ext',{link:['1','2'],size:['4']});}else{dw_mediamanager.ext='img';}dw_mediamanager.setOpt('link');dw_mediamanager.setOpt('align');dw_mediamanager.setOpt('size');jQuery('#media__linkbtn1, #media__linkbtn2, #media__sizebtn4').toggle(dw_mediamanager.ext==='img');dw_mediamanager.$popup.dialog('open');$sendbtn.focus();},confirmattach:function(e){if(!confirm(LANG.del_confirm+"\n"+jQuery(this).attr('title'))){e.preventDefault();}},attachoptions:function(){var $obj,opts;$obj=jQuery('#media__opts');if($obj.length===0){return;}opts=[];if(opener){opts.push(['keepopen','keepopen']);}opts.push(['hide','hidedetails']);jQuery.each(opts,function(_,opt){var $box,$lbl;$box=jQuery(document.createElement('input')).attr('type','checkbox').attr('id','media__'+opt[0]).click(bind(dw_mediamanager.toggleOption,opt[0]));if(DokuCookie.getValue(opt[0])){$box.prop('checked',true);dw_mediamanager[opt[0]]=true;}$lbl=jQuery(document.createElement('label')).attr('for','media__'+opt[0]).text(LANG[opt[1]]);$obj.append($box,$lbl,document.createElement('br'));});dw_mediamanager.updatehide();},toggleOption:function(variable){if(jQuery(this).prop('checked')){DokuCookie.setValue(variable,1);dw_mediamanager[variable]=true;}else{DokuCookie.setValue(variable,'');dw_mediamanager[variable]=false;}if(variable==='hide'){dw_mediamanager.updatehide();}},updatehide:function(){jQuery('#media__content').find('div.detail').dw_toggle(!dw_mediamanager.hide);},setOpt:function(opt,e){var val,i;if(typeof e!=='undefined'){val=this.id.substring(this.id.length-1);}else{val=dw_mediamanager.getOpt(opt);}if(val===false){DokuCookie.setValue(opt,'');dw_mediamanager[opt]=false;return;}if(opt==='link'){if(val!=='4'&&dw_mediamanager.link==='4'){dw_mediamanager.unforbid('linkonly');dw_mediamanager.setOpt('align');dw_mediamanager.setOpt('size');}else if(val==='4'){dw_mediamanager.forbid('linkonly',{align:false,size:false});}jQuery("#media__size, #media__align").dw_toggle(val!=='4');}DokuCookie.setValue(opt,val);dw_mediamanager[opt]=val;for(i=1;i<=4;i++){jQuery("#media__"+opt+"btn"+i).removeClass('selected');}jQuery('#media__'+opt+'btn'+val).addClass('selected');},unforbid:function(group){delete dw_mediamanager.forbidden_opts[group];},forbid:function(group,forbids){dw_mediamanager.forbidden_opts[group]=forbids;},allowedOpt:function(opt,val){var ret=true;jQuery.each(dw_mediamanager.forbidden_opts,function(_,forbids){ret=forbids[opt]!==false&&jQuery.inArray(val,forbids[opt])===-1;return ret;});return ret;},getOpt:function(opt){var allowed=bind(dw_mediamanager.allowedOpt,opt);if(dw_mediamanager[opt]!==false&&allowed(dw_mediamanager[opt])){return dw_mediamanager[opt];}if(DokuCookie.getValue(opt)&&allowed(DokuCookie.getValue(opt))){return DokuCookie.getValue(opt);}if(opt==='size'&&allowed('2')){return'2';}return jQuery.grep(['1','2','3','4'],allowed)[0]||false;}};function dw_mediamanager_item_select(edid,mediaid,opts,align){var alignleft='';var alignright='';if(align!=='1'){alignleft=align==='2'?'':' ';alignright=align==='4'?'':' ';}insertTags(edid,'{{'+alignleft+mediaid+opts+alignright+'|','}}','');}jQuery(dw_mediamanager.init);function DEPRECATED(msg){if(!window.console)return;if(!msg)msg='';var func;if(arguments.callee)func=arguments.callee.caller.name;if(func)func=' '+func+'()';var line='DEPRECATED function call'+func+'. '+msg;if(console.warn){console.warn(line);}else{console.log(line);}if(console.trace)console.trace();}function DEPRECATED_WRAP(func,context){return function(){DEPRECATED();return func.apply(context||this,arguments);};}jQuery.fn.dw_hide=function(fn,noaria){if(!noaria)this.attr('aria-expanded','false');return this.slideUp('fast',fn);};jQuery.fn.dw_show=function(fn,noaria){if(!noaria)this.attr('aria-expanded','true');return this.slideDown('fast',fn);};jQuery.fn.dw_toggle=function(state,fn,noaria){return this.each(function(){var $this=jQuery(this);if(typeof state==='undefined'){state=$this.is(':hidden');}$this[state?"dw_show":"dw_hide"](fn,noaria);});};var dw_behaviour={init:function(){dw_behaviour.focusMarker();dw_behaviour.scrollToMarker();dw_behaviour.removeHighlightOnClick();dw_behaviour.quickSelect();dw_behaviour.checkWindowsShares();dw_behaviour.subscription();dw_behaviour.revisionBoxHandler();jQuery(document).on('click','#page__revisions input[type=checkbox]',dw_behaviour.revisionBoxHandler);jQuery('.bounce').effect('bounce',{times:10},2000);},scrollToMarker:function(){var $obj=jQuery('#scroll__here');if($obj.length){if($obj.offset().top!=0){jQuery('html, body').animate({scrollTop:$obj.offset().top-100},500);}else{$obj[0].scrollIntoView();}}},focusMarker:function(){jQuery('#focus__this').focus();},removeHighlightOnClick:function(){jQuery('span.search_hit').click(function(e){jQuery(e.target).removeClass('search_hit',1000);});},quickSelect:function(){jQuery('select.quickselect').change(function(e){e.target.form.submit();}).closest('form').find(':button').not('.show').hide();},checkWindowsShares:function(){if(!LANG.nosmblinks||navigator.userAgent.match(/(Trident|MSIE)/)){return;}jQuery('a.windows').on('click',function(){alert(LANG.nosmblinks.replace(/\\n/,"\n"));});},subscription:function(){var $form,$list,$digest;$form=jQuery('#subscribe__form');if(0===$form.length)return;$list=$form.find("input[name='sub_style'][value='list']");$digest=$form.find("input[name='sub_style'][value='digest']");$form.find("input[name='sub_target']").click(function(){var $this=jQuery(this),show_list;if(!$this.prop('checked')){return;}show_list=$this.val().match(/:$/);$list.parent().dw_toggle(show_list);if(!show_list&&$list.prop('checked')){$digest.prop('checked','checked');}}).filter(':checked').click();},revisionBoxHandler:function(){var $revisions=jQuery('#page__revisions');var $all=jQuery('input[type=checkbox]',$revisions);var $checked=$all.filter(':checked');var $button=jQuery('button',$revisions);if($checked.length<2){$all.removeAttr('disabled');$button.attr('disabled',true);}else{$all.attr('disabled',true);$button.removeAttr('disabled');$checked.each(function(i){jQuery(this).removeAttr('disabled');if(i>1){jQuery(this).attr('checked',false);}});}}};jQuery(dw_behaviour.init);dw_page={init:function(){dw_page.sectionHighlight();jQuery('a.fn_top').mouseover(dw_page.footnoteDisplay);dw_page.makeToggle('#dw__toc h3','#dw__toc > div');},sectionHighlight:function(){jQuery('form.btn_secedit').mouseover(function(){var $tgt=jQuery(this).parent(),nr=$tgt.attr('class').match(/(\s+|^)editbutton_(\d+)(\s+|$)/)[2],$highlight=jQuery(),$highlightWrap=jQuery('<div class="section_highlight"></div>');while($tgt.length>0&&!($tgt.hasClass('sectionedit'+nr)||$tgt.find('.sectionedit'+nr).length)){$tgt=$tgt.prev();$highlight=$highlight.add($tgt);}$highlight.filter(':last').before($highlightWrap);$highlight.detach().appendTo($highlightWrap);}).mouseout(function(){var $highlightWrap=jQuery('.section_highlight');$highlightWrap.before($highlightWrap.children().detach());$highlightWrap.detach();});},insituPopup:function(target,popup_id){var $fndiv=jQuery('#'+popup_id);if($fndiv.length===0){$fndiv=jQuery(document.createElement('div')).attr('id',popup_id).addClass('insitu-footnote JSpopup').attr('aria-hidden','true').mouseleave(function(){jQuery(this).hide().attr('aria-hidden','true');}).attr('role','tooltip');jQuery('.dokuwiki:first').append($fndiv);}$fndiv.show().position({my:'left top',at:'left center',of:target}).hide();return $fndiv;},footnoteDisplay:function(){var $content=jQuery(jQuery(this).attr('href')).parent().siblings('.content').clone();if(!$content){return;}jQuery('[id]',$content).each(function(){var id=jQuery(this).attr('id');jQuery(this).attr('id','insitu__'+id);});var content=$content.html().trim();dw_page.insituPopup(this,'insitu__fn').html(content).show().attr('aria-hidden','false');},makeToggle:function(handle,content,state){var $handle,$content,$clicky,$child,setClicky;$handle=jQuery(handle);if(!$handle.length)return;$content=jQuery(content);if(!$content.length)return;$child=$content.children();setClicky=function(hiding){if(hiding){$clicky.html('<span>+</span>');$handle.addClass('closed');$handle.removeClass('open');}else{$clicky.html('<span>−</span>');$handle.addClass('open');$handle.removeClass('closed');}};$handle[0].setState=function(state){var hidden;if(!state)state=1;$content.css('min-height',$content.height()).show();$child.stop(true,true);if(state===-1){hidden=false;}else if(state===1){hidden=true;}else{hidden=$child.is(':hidden');}setClicky(!hidden);$child.dw_toggle(hidden,function(){$content.toggle(hidden);$content.attr('aria-expanded',hidden);$content.css('min-height','');},true);};$clicky=jQuery(document.createElement('strong'));$handle.css('cursor','pointer').click($handle[0].setState).prepend($clicky);$handle[0].setState(state);}};jQuery(dw_page.init);var dw_acl={init:function(){var $tree;if(jQuery('#acl_manager').length===0){return;}jQuery('#acl__user select').change(dw_acl.userselhandler);jQuery('#acl__user button').click(dw_acl.loadinfo);$tree=jQuery('#acl__tree');$tree.dw_tree({toggle_selector:'img',load_data:function(show_sublist,$clicky){var $frm=jQuery('#acl__detail form');jQuery.post(DOKU_BASE+'lib/exe/ajax.php',jQuery.extend(dw_acl.parseatt($clicky.parent().find('a')[0].search),{call:'plugin_acl',ajax:'tree',current_ns:$frm.find('input[name=ns]').val(),current_id:$frm.find('input[name=id]').val()}),show_sublist,'html');},toggle_display:function($clicky,opening){$clicky.attr('src',DOKU_BASE+'lib/images/'+(opening?'minus':'plus')+'.gif');}});$tree.delegate('a','click',dw_acl.treehandler);},userselhandler:function(){jQuery('#acl__user input').toggle(this.value==='__g__'||this.value==='__u__');dw_acl.loadinfo();},loadinfo:function(){jQuery('#acl__info').attr('role','alert').html('<img src="'+DOKU_BASE+'lib/images/throbber.gif" alt="..." />').load(DOKU_BASE+'lib/exe/ajax.php',jQuery('#acl__detail form').serialize()+'&call=plugin_acl&ajax=info');return false;},parseatt:function(str){if(str[0]==='?'){str=str.substr(1);}var attributes={};var all=str.split('&');for(var i=0;i<all.length;i++){var att=all[i].split('=');attributes[att[0]]=decodeURIComponent(att[1]);}return attributes;},treehandler:function(){var $link,$frm;$link=jQuery(this);jQuery('#acl__tree a.cur').removeClass('cur');$link.addClass('cur');$frm=jQuery('#acl__detail form');if($link.hasClass('wikilink1')){$frm.find('input[name=ns]').val('');$frm.find('input[name=id]').val(dw_acl.parseatt($link[0].search).id);}else if($link.hasClass('idx_dir')){$frm.find('input[name=ns]').val(dw_acl.parseatt($link[0].search).ns);$frm.find('input[name=id]').val('');}dw_acl.loadinfo();return false;}};jQuery(dw_acl.init);jQuery(function(){var $extmgr=jQuery('#extension__manager');$extmgr.find('button.uninstall').click(function(e){if(!window.confirm(LANG.plugins.extension.reallydel)){e.preventDefault();return false;}return true;});$extmgr.find('a.extension_screenshot').click(function(e){e.preventDefault();var image_href=jQuery(this).attr("href");var $lightbox=jQuery('#plugin__extensionlightbox');if(!$lightbox.length){$lightbox=jQuery('<div id="plugin__extensionlightbox"><p>Click to close</p><div></div></div>').appendTo(jQuery('body')).hide().click(function(){$lightbox.hide();});}$lightbox .show().find('div').html('<img src="'+image_href+'" />');return false;});$extmgr.find('button.disable, button.enable').click(function(e){e.preventDefault();var $btn=jQuery(this);var extension=$btn.attr('name').split('[')[2];extension=extension.substr(0,extension.length-1);var act=($btn.hasClass('disable'))?'disable':'enable';$btn.attr('disabled','disabled');$btn.css('cursor','wait');jQuery.get(DOKU_BASE+'lib/exe/ajax.php',{call:'plugin_extension',ext:extension,act:act},function(data){$btn.css('cursor','').removeAttr('disabled').removeClass('disable').removeClass('enable').text(data.label).addClass(data.reverse).parents('li').removeClass('disabled').removeClass('enabled').addClass(data.state);});});$extmgr.find('a.info').click(function(e){e.preventDefault();var $link=jQuery(this);var $details=$link.parent().find('dl.details');if($details.length){$link.toggleClass('close');$details.toggle();return;}$link.addClass('close');jQuery.get(DOKU_BASE+'lib/exe/ajax.php',{call:'plugin_extension',ext:$link.data('extid'),act:'info'},function(data){$link.parent().append(data);});});if($extmgr.find('.plugins, .templates').hasClass('active')){var $extlist=jQuery('#extension__list');$extlist.addClass('hasDisplayOptions');var $displayOpts=jQuery('<p>',{id:'extension__viewoptions'}).appendTo($extmgr.find('.panelHeader'));$displayOpts.append(LANG.plugins.extension.display_viewoptions);var displayOptionsHandler=function(){$extlist.toggleClass(this.name);DokuCookie.setValue('ext_'+this.name,$extlist.hasClass(this.name)?'1':'0');};jQuery(['enabled','disabled','updatable']).each(function(index,chkName){var $label=jQuery('<label></label>').appendTo($displayOpts);var $input=jQuery('<input />',{type:'checkbox',name:chkName}).change(displayOptionsHandler).appendTo($label);var previous=DokuCookie.getValue('ext_'+chkName);if(typeof previous==="undefined"||previous=='1'){$input.click();}jQuery('<span/>').append(' '+LANG.plugins.extension['display_'+chkName]).appendTo($label);});}});jQuery(function(){jQuery('#usrmgr__del').click(function(){return confirm(LANG.del_confirm);});});jQuery(function(){jQuery('form.plugin__tag_search table input').change(function(){if(jQuery(this).attr('checked')){if(jQuery(this).parent().hasClass('minus')){jQuery(this).closest('tr').find('.plus input').attr('checked',false);}else{jQuery(this).closest('tr').find('.minus input').attr('checked',false);}}})});if(toolbar){toolbar[toolbar.length]={"type":"format","title":"note","key":"","icon":"../../plugins/note/images/tb_note.png","open":"<note>","close":"</note>"};toolbar[toolbar.length]={"type":"format","title":"tip","key":"","icon":"../../plugins/note/images/tb_tip.png","open":"<note tip>","close":"</note>"};toolbar[toolbar.length]={"type":"format","title":"important","key":"","icon":"../../plugins/note/images/tb_important.png","open":"<note important>","close":"</note>"};toolbar[toolbar.length]={"type":"format","title":"warning","key":"","icon":"../../plugins/note/images/tb_warning.png","open":"<note warning>","close":"</note>"};}var plugin_searchindex=(function(){var pub={};var pages=null,page=null,url=null,done=1,count=0,$msg=null,$buttons=null,lang=null;force='';pub.init=function(){$msg=jQuery('#plugin__searchindex_msg');if(!$msg)return;lang=LANG.plugins.searchindex;url=DOKU_BASE+'lib/plugins/searchindex/ajax.php';$buttons=jQuery('#plugin__searchindex_buttons');jQuery('#plugin__searchindex_update').click(pub.update);jQuery('#plugin__searchindex_rebuild').click(pub.rebuild);};var message=function(text){if(text.charAt(0)!=='<'){text='<p>'+text+'</p>'}$msg.html(text);};var index=function(){if(page){jQuery.post(url,'call=indexpage&page='+encodeURI(page)+'&force='+force,function(response){var wait=250;page=pages.shift();done++;var msg=(response!=='true')?lang.notindexed:lang.indexed;status='<p class="status">'+msg+'</p>';message('<p>'+lang.indexing+' '+done+'/'+count+'</p><p class="name">'+page+'</p>'+status);window.setTimeout(index,wait);});}else{finished();}};var finished=function(){throbber_off();message(lang.done);window.setTimeout(function(){message('');$buttons.show('slow');},3000);};var clear=function(){message(lang.clearing);jQuery.post(url,'call=clearindex',function(response){if(response!=='true'){message(response);window.setTimeout(clear,5000);}else{force='true';window.setTimeout(index,1000);}});};pub.rebuild=function(){pub.update(true);};pub.update=function(rebuild){done=1;rebuild=rebuild||false;$buttons.hide('slow');throbber_on();message(lang.finding);jQuery.post(url,'call=pagelist',function(response){if(response!=='true'){pages=response.split("\n");count=pages.length;message(lang.pages.replace(/%d/,pages.length));page=pages.shift();if(rebuild===true){clear();}else{force='';window.setTimeout(index,1000);}}else{finished();}});};var throbber_on=function(){$msg.addClass('updating');};var throbber_off=function(){$msg.removeClass('updating');};return pub;})();jQuery(function(){plugin_searchindex.init();});(function($,undef){var _html,nonGradientIE,gradientType,vendorPrefixes,_css,Iris,UA,isIE,IEVersion;_html='<div class="iris-picker"><div class="iris-picker-inner"><div class="iris-square"><a class="iris-square-value" href="#"><span class="iris-square-handle ui-slider-handle"></span></a><div class="iris-square-inner iris-square-horiz"></div><div class="iris-square-inner iris-square-vert"></div></div><div class="iris-slider iris-strip"><div class="iris-slider-offset"></div></div></div></div>';_css='.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}';UA=navigator.userAgent.toLowerCase();isIE=navigator.appName==='Microsoft Internet Explorer';IEVersion=isIE?parseFloat(UA.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0;nonGradientIE=(isIE&&IEVersion<10);gradientType=false;vendorPrefixes=['-moz-','-webkit-','-o-','-ms-'];if(nonGradientIE&&IEVersion<=7){$.fn.iris=$.noop;$.support.iris=false;return;}$.support.iris=true;function testGradientType(){var el,base,bgImageString='backgroundImage';if(nonGradientIE){gradientType='filter';}else{el=$('<div id="iris-gradtest" />');base='linear-gradient(top,#fff,#000)';$.each(vendorPrefixes,function(i,val){el.css(bgImageString,val+base);if(el.css(bgImageString).match('gradient')){gradientType=i;return false;}});if(gradientType===false){el.css('background','-webkit-gradient(linear,0% 0%,0% 100%,from(#fff),to(#000))');if(el.css(bgImageString).match('gradient')){gradientType='webkit';}}el.remove();}}function createGradient(origin,stops){origin=(origin==='top')?'top':'left';stops=$.isArray(stops)?stops:Array.prototype.slice.call(arguments,1);if(gradientType==='webkit'){return legacyWebkitGradient(origin,stops);}else{return vendorPrefixes[gradientType]+'linear-gradient('+origin+', '+stops.join(', ')+')';}}function stupidIEGradient(origin,stops){var type,self,lastIndex,filter,startPosProp,endPosProp,dimensionProp,template,html;origin=(origin==='top')?'top':'left';stops=$.isArray(stops)?stops:Array.prototype.slice.call(arguments,1);type=(origin==='top')?0:1;self=$(this);lastIndex=stops.length-1;filter='filter';startPosProp=(type===1)?'left':'top';endPosProp=(type===1)?'right':'bottom';dimensionProp=(type===1)?'height':'width';template='<div class="iris-ie-gradient-shim" style="position:absolute;'+dimensionProp+':100%;'+startPosProp+':%start%;'+endPosProp+':%end%;'+filter+':%filter%;" data-color:"%color%"></div>';html='';if(self.css('position')==='static'){self.css({position:'relative'});}stops=fillColorStops(stops);$.each(stops,function(i,startColor){var endColor,endStop,filterVal;if(i===lastIndex){return false;}endColor=stops[i+1];if(startColor.stop===endColor.stop){return;}endStop=100-parseFloat(endColor.stop)+'%';startColor.octoHex=new Color(startColor.color).toIEOctoHex();endColor.octoHex=new Color(endColor.color).toIEOctoHex();filterVal='progid:DXImageTransform.Microsoft.Gradient(GradientType='+type+', StartColorStr=\''+startColor.octoHex+'\', EndColorStr=\''+endColor.octoHex+'\')';html+=template.replace('%start%',startColor.stop).replace('%end%',endStop).replace('%filter%',filterVal);});self.find('.iris-ie-gradient-shim').remove();$(html).prependTo(self);}function legacyWebkitGradient(origin,colorList){var stops=[];origin=(origin==='top')?'0% 0%,0% 100%,':'0% 100%,100% 100%,';colorList=fillColorStops(colorList);$.each(colorList,function(i,val){stops.push('color-stop('+(parseFloat(val.stop)/100)+', '+val.color+')');});return'-webkit-gradient(linear,'+origin+stops.join(',')+')';}function fillColorStops(colorList){var colors=[],percs=[],newColorList=[],lastIndex=colorList.length-1;$.each(colorList,function(index,val){var color=val,perc=false,match=val.match(/1?[0-9]{1,2}%$/);if(match){color=val.replace(/\s?1?[0-9]{1,2}%$/,'');perc=match.shift();}colors.push(color);percs.push(perc);});if(percs[0]===false){percs[0]='0%';}if(percs[lastIndex]===false){percs[lastIndex]='100%';}percs=backFillColorStops(percs);$.each(percs,function(i){newColorList[i]={color:colors[i],stop:percs[i]};});return newColorList;}function backFillColorStops(stops){var first=0,last=stops.length-1,i=0,foundFirst=false,incr,steps,step,firstVal;if(stops.length<=2||$.inArray(false,stops)<0){return stops;}while(i<stops.length-1){if(!foundFirst&&stops[i]===false){first=i-1;foundFirst=true;}else if(foundFirst&&stops[i]!==false){last=i;i=stops.length;}i++;}steps=last-first;firstVal=parseInt(stops[first].replace('%'),10);incr=(parseFloat(stops[last].replace('%'))-firstVal)/steps;i=first+1;step=1;while(i<last){stops[i]=(firstVal+(step*incr))+'%';step++;i++;}return backFillColorStops(stops);}$.fn.gradient=function(){var args=arguments;return this.each(function(){if(nonGradientIE){stupidIEGradient.apply(this,args);}else{$(this).css('backgroundImage',createGradient.apply(this,args));}});};$.fn.raninbowGradient=function(origin,args){var opts,template,i,steps;origin=origin||'top';opts=$.extend({},{s:100,l:50},args);template='hsl(%h%,'+opts.s+'%,'+opts.l+'%)';i=0;steps=[];while(i<=360){steps.push(template.replace('%h%',i));i+=30;}return this.each(function(){$(this).gradient(origin,steps);});};Iris={options:{color:false,mode:'hsl',controls:{horiz:'s',vert:'l',strip:'h'},hide:true,border:true,target:false,width:200,palettes:false},_color:'',_palettes:['#000','#fff','#d33','#d93','#ee2','#81d742','#1e73be','#8224e3'],_inited:false,_defaultHSLControls:{horiz:'s',vert:'l',strip:'h'},_defaultHSVControls:{horiz:'h',vert:'v',strip:'s'},_scale:{h:360,s:100,l:100,v:100},_create:function(){var self=this,el=self.element,color=self.options.color||el.val();if(gradientType===false){testGradientType();}if(el.is('input')){if(self.options.target){self.picker=$(_html).appendTo(self.options.target);}else{self.picker=$(_html).insertAfter(el);}self._addInputListeners(el);}else{el.append(_html);self.picker=el.find('.iris-picker');}if(isIE){if(IEVersion===9){self.picker.addClass('iris-ie-9');}else if(IEVersion<=8){self.picker.addClass('iris-ie-lt9');}}else if(UA.indexOf('compatible')<0&&UA.indexOf('khtml')<0&&UA.match(/mozilla/)){self.picker.addClass('iris-mozilla');}if(self.options.palettes){self._addPalettes();}self._color=new Color(color).setHSpace(self.options.mode);self.options.color=self._color.toString();self.controls={square:self.picker.find('.iris-square'),squareDrag:self.picker.find('.iris-square-value'),horiz:self.picker.find('.iris-square-horiz'),vert:self.picker.find('.iris-square-vert'),strip:self.picker.find('.iris-strip'),stripSlider:self.picker.find('.iris-strip .iris-slider-offset')};if(self.options.mode==='hsv'&&self._has('l',self.options.controls)){self.options.controls=self._defaultHSVControls;}else if(self.options.mode==='hsl'&&self._has('v',self.options.controls)){self.options.controls=self._defaultHSLControls;}self.hue=self._color.h();if(self.options.hide){self.picker.hide();}if(self.options.border){self.picker.addClass('iris-border');}self._initControls();self.active='external';self._dimensions();self._change();},_has:function(needle,haystack){var ret=false;$.each(haystack,function(i,v){if(needle===v){ret=true;return false;}});return ret;},_addPalettes:function(){var container=$('<div class="iris-palette-container" />'),palette=$('<a class="iris-palette" tabindex="0" />'),colors=$.isArray(this.options.palettes)?this.options.palettes:this._palettes;if(this.picker.find('.iris-palette-container').length){container=this.picker.find('.iris-palette-container').detach().html('');}$.each(colors,function(index,val){palette.clone().data('color',val).css('backgroundColor',val).appendTo(container).height(10).width(10);});this.picker.append(container);},_paint:function(){var self=this;self._paintDimension('top','strip');self._paintDimension('top','vert');self._paintDimension('left','horiz');},_paintDimension:function(origin,control){var self=this,c=self._color,mode=self.options.mode,color=self._getHSpaceColor(),target=self.controls[control],controlOpts=self.options.controls,stops;if(control===self.active||(self.active==='square'&&control!=='strip')){return;}switch(controlOpts[control]){case'h':if(mode==='hsv'){color=c.clone();switch(control){case'horiz':color[controlOpts.vert](100);break;case'vert':color[controlOpts.horiz](100);break;case'strip':color.setHSpace('hsl');break;}stops=color.toHsl();}else{if(control==='strip'){stops={s:color.s,l:color.l};}else{stops={s:100,l:color.l};}}target.raninbowGradient(origin,stops);break;case's':if(mode==='hsv'){if(control==='vert'){stops=[c.clone().a(0).s(0).toCSS('rgba'),c.clone().a(1).s(0).toCSS('rgba')];}else if(control==='strip'){stops=[c.clone().s(100).toCSS('hsl'),c.clone().s(0).toCSS('hsl')];}else if(control==='horiz'){stops=['#fff','hsl('+color.h+',100%,50%)'];}}else{if(control==='vert'&&self.options.controls.horiz==='h'){stops=['hsla(0, 0%, '+color.l+'%, 0)','hsla(0, 0%, '+color.l+'%, 1)'];}else{stops=['hsl('+color.h+',0%,50%)','hsl('+color.h+',100%,50%)'];}}target.gradient(origin,stops);break;case'l':if(control==='strip'){stops=['hsl('+color.h+',100%,100%)','hsl('+color.h+', '+color.s+'%,50%)','hsl('+color.h+',100%,0%)'];}else{stops=['#fff','rgba(255,255,255,0) 50%','rgba(0,0,0,0) 50%','rgba(0,0,0,1)'];}target.gradient(origin,stops);break;case'v':if(control==='strip'){stops=[c.clone().v(100).toCSS(),c.clone().v(0).toCSS()];}else{stops=['rgba(0,0,0,0)','#000'];}target.gradient(origin,stops);break;default:break;}},_getHSpaceColor:function(){return(this.options.mode==='hsv')?this._color.toHsv():this._color.toHsl();},_dimensions:function(reset){var self=this,opts=self.options,controls=self.controls,square=controls.square,strip=self.picker.find('.iris-strip'),squareWidth='77.5%',stripWidth='12%',totalPadding=20,innerWidth=opts.border?opts.width-totalPadding:opts.width,controlsHeight,paletteCount=$.isArray(opts.palettes)?opts.palettes.length:self._palettes.length,paletteMargin,paletteWidth,paletteContainerWidth;if(reset){square.css('width','');strip.css('width','');self.picker.css({width:'',height:''});}squareWidth=innerWidth*(parseFloat(squareWidth)/100);stripWidth=innerWidth*(parseFloat(stripWidth)/100);controlsHeight=opts.border?squareWidth+totalPadding:squareWidth;square.width(squareWidth).height(squareWidth);strip.height(squareWidth).width(stripWidth);self.picker.css({width:opts.width,height:controlsHeight});if(!opts.palettes){return self.picker.css('paddingBottom','');}paletteMargin=squareWidth*2/100;paletteContainerWidth=squareWidth-((paletteCount-1)*paletteMargin);paletteWidth=paletteContainerWidth/paletteCount;self.picker.find('.iris-palette').each(function(i){var margin=i===0?0:paletteMargin;$(this).css({width:paletteWidth,height:paletteWidth,marginLeft:margin});});self.picker.css('paddingBottom',paletteWidth+paletteMargin);strip.height(paletteWidth+paletteMargin+squareWidth);},_addInputListeners:function(input){var self=this,debounceTimeout=100,callback=function(event){var color=new Color(input.val()),val=input.val().replace(/^#/,'');input.removeClass('iris-error');if(color.error){if(val!==''){input.addClass('iris-error');}}else{if(color.toString()!==self._color.toString()){if(!(event.type==='keyup'&&val.match(/^[0-9a-fA-F]{3}$/))){self._setOption('color',color.toString());}}}};input.on('change',callback).on('keyup',self._debounce(callback,debounceTimeout));if(self.options.hide){input.one('focus',function(){self.show();});}},_initControls:function(){var self=this,controls=self.controls,square=controls.square,controlOpts=self.options.controls,stripScale=self._scale[controlOpts.strip];controls.stripSlider.slider({orientation:'vertical',max:stripScale,slide:function(event,ui){self.active='strip';if(controlOpts.strip==='h'){ui.value=stripScale-ui.value;}self._color[controlOpts.strip](ui.value);self._change.apply(self,arguments);}});controls.squareDrag.draggable({containment:controls.square.find('.iris-square-inner'),zIndex:1000,cursor:'move',drag:function(event,ui){self._squareDrag(event,ui);},start:function(){square.addClass('iris-dragging');$(this).addClass('ui-state-focus');},stop:function(){square.removeClass('iris-dragging');$(this).removeClass('ui-state-focus');}}).on('mousedown mouseup',function(event){var focusClass='ui-state-focus';event.preventDefault();if(event.type==='mousedown'){self.picker.find('.'+focusClass).removeClass(focusClass).blur();$(this).addClass(focusClass).focus();}else{$(this).removeClass(focusClass);}}).on('keydown',function(event){var container=controls.square,draggable=controls.squareDrag,position=draggable.position(),distance=self.options.width/100;if(event.altKey){distance*=10;}switch(event.keyCode){case 37:position.left-=distance;break;case 38:position.top-=distance;break;case 39:position.left+=distance;break;case 40:position.top+=distance;break;default:return true;}position.left=Math.max(0,Math.min(position.left,container.width()));position.top=Math.max(0,Math.min(position.top,container.height()));draggable.css(position);self._squareDrag(event,{position:position});event.preventDefault();});square.mousedown(function(event){var squareOffset,pos;if(event.which!==1){return;}if(!$(event.target).is('div')){return;}squareOffset=self.controls.square.offset();pos={top:event.pageY-squareOffset.top,left:event.pageX-squareOffset.left};event.preventDefault();self._squareDrag(event,{position:pos});event.target=self.controls.squareDrag.get(0);self.controls.squareDrag.css(pos).trigger(event);});if(self.options.palettes){self._paletteListeners();}},_paletteListeners:function(){var self=this;self.picker.find('.iris-palette-container').on('click.palette','.iris-palette',function(){self._color.fromCSS($(this).data('color'));self.active='external';self._change();}).on('keydown.palette','.iris-palette',function(event){if(!(event.keyCode===13||event.keyCode===32)){return true;}event.stopPropagation();$(this).click();});},_squareDrag:function(event,ui){var self=this,controlOpts=self.options.controls,dimensions=self._squareDimensions(),vertVal=Math.round((dimensions.h-ui.position.top)/dimensions.h*self._scale[controlOpts.vert]),horizVal=self._scale[controlOpts.horiz]-Math.round((dimensions.w-ui.position.left)/dimensions.w*self._scale[controlOpts.horiz]);self._color[controlOpts.horiz](horizVal)[controlOpts.vert](vertVal);self.active='square';self._change.apply(self,arguments);},_setOption:function(key,value){var self=this,oldValue=self.options[key],doDimensions=false,hexLessColor,newColor,method;self.options[key]=value;switch(key){case'color':value=''+value;hexLessColor=value.replace(/^#/,'');newColor=new Color(value).setHSpace(self.options.mode);if(newColor.error){self.options[key]=oldValue;}else{self._color=newColor;self.options.color=self.options[key]=self._color.toString();self.active='external';self._change();}break;case'palettes':doDimensions=true;if(value){self._addPalettes();}else{self.picker.find('.iris-palette-container').remove();}if(!oldValue){self._paletteListeners();}break;case'width':doDimensions=true;break;case'border':doDimensions=true;method=value?'addClass':'removeClass';self.picker[method]('iris-border');break;case'mode':case'controls':if(oldValue===value){return;}method=self.element;oldValue=self.options;oldValue.hide=!self.picker.is(':visible');self.destroy();self.picker.remove();return $(self.element).iris(oldValue);}if(doDimensions){self._dimensions(true);}},_squareDimensions:function(forceRefresh){var square=this.controls.square,dimensions,control;if(forceRefresh!==undef&&square.data('dimensions')){return square.data('dimensions');}control=this.controls.squareDrag;dimensions={w:square.width(),h:square.height()};square.data('dimensions',dimensions);return dimensions;},_isNonHueControl:function(active,type){if(active==='square'&&this.options.controls.strip==='h'){return true;}else if(type==='external'||(type==='h'&&active==='strip')){return false;}return true;},_change:function(){var self=this,controls=self.controls,color=self._getHSpaceColor(),actions=['square','strip'],controlOpts=self.options.controls,type=controlOpts[self.active]||'external',oldHue=self.hue;if(self.active==='strip'){actions=[];}else if(self.active!=='external'){actions.pop();}$.each(actions,function(index,item){var value,dimensions,cssObj;if(item!==self.active){switch(item){case'strip':value=(controlOpts.strip==='h')?self._scale[controlOpts.strip]-color[controlOpts.strip]:color[controlOpts.strip];controls.stripSlider.slider('value',value);break;case'square':dimensions=self._squareDimensions();cssObj={left:color[controlOpts.horiz]/self._scale[controlOpts.horiz]*dimensions.w,top:dimensions.h-(color[controlOpts.vert]/self._scale[controlOpts.vert]*dimensions.h)};self.controls.squareDrag.css(cssObj);break;}}});if(color.h!==oldHue&&self._isNonHueControl(self.active,type)){self._color.h(oldHue);}self.hue=self._color.h();self.options.color=self._color.toString();if(self._inited){self._trigger('change',{type:self.active},{color:self._color});}if(self.element.is(':input')&&!self._color.error){self.element.removeClass('iris-error');if(self.element.val()!==self._color.toString()){self.element.val(self._color.toString());}}self._paint();self._inited=true;self.active=false;},_debounce:function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later,callNow;later=function(){timeout=null;if(!immediate){result=func.apply(context,args);}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args);}return result;};},show:function(){this.picker.show();},hide:function(){this.picker.hide();},toggle:function(){this.picker.toggle();},color:function(newColor){if(newColor===true){return this._color.clone();}else if(newColor===undef){return this._color.toString();}this.option('color',newColor);}};$.widget('a8c.iris',Iris);$('<style id="iris-css">'+_css+'</style>').appendTo('head');}(jQuery));(function(global,undef){var Color=function(color,type){if(!(this instanceof Color))return new Color(color,type);return this._init(color,type);};Color.fn=Color.prototype={_color:0,_alpha:1,error:false,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:'hsl',_init:function(color){var func='noop';switch(typeof color){case'object':if(color.a!==undef)this.a(color.a);func=(color.r!==undef)?'fromRgb':(color.l!==undef)?'fromHsl':(color.v!==undef)?'fromHsv':func;return this[func](color);case'string':return this.fromCSS(color);case'number':return this.fromInt(parseInt(color,10));}return this;},_error:function(){this.error=true;return this;},clone:function(){var newColor=new Color(this.toInt()),copy=['_alpha','_hSpace','_hsl','_hsv','error'];for(var i=copy.length-1;i>=0;i--){newColor[copy[i]]=this[copy[i]];}return newColor;},setHSpace:function(space){this._hSpace=(space==='hsv')?space:'hsl';return this;},noop:function(){return this;},fromCSS:function(color){var list,leadingRE=/^(rgb|hs(l|v))a?\(/;this.error=false;color=color.replace(/^\s+/,'').replace(/\s+$/,'').replace(/;$/,'');if(color.match(leadingRE)&&color.match(/\)$/)){list=color.replace(/(\s|%)/g,'').replace(leadingRE,'').replace(/,?\);?$/,'').split(',');if(list.length<3)return this._error();if(list.length===4){this.a(parseFloat(list.pop()));if(this.error)return this;}for(var i=list.length-1;i>=0;i--){list[i]=parseInt(list[i],10);if(isNaN(list[i]))return this._error();}if(color.match(/^rgb/)){return this.fromRgb({r:list[0],g:list[1],b:list[2]});}else if(color.match(/^hsv/)){return this.fromHsv({h:list[0],s:list[1],v:list[2]});}else{return this.fromHsl({h:list[0],s:list[1],l:list[2]});}}else{return this.fromHex(color);}},fromRgb:function(rgb,preserve){if(typeof rgb!=='object'||rgb.r===undef||rgb.g===undef||rgb.b===undef)return this._error();this.error=false;return this.fromInt(parseInt((rgb.r<<16)+(rgb.g<<8)+rgb.b,10),preserve);},fromHex:function(color){color=color.replace(/^#/,'').replace(/^0x/,'');if(color.length===3){color=color[0]+color[0]+color[1]+color[1]+color[2]+color[2];}this.error=!/^[0-9A-F]{6}$/i.test(color);return this.fromInt(parseInt(color,16));},fromHsl:function(hsl){var r,g,b,q,p,h,s,l;if(typeof hsl!=='object'||hsl.h===undef||hsl.s===undef||hsl.l===undef)return this._error();this._hsl=hsl;this._hSpace='hsl';h=hsl.h/360;s=hsl.s/100;l=hsl.l/100;if(s===0){r=g=b=l;}else{q=l<0.5?l*(1+s):l+s-l*s;p=2*l-q;r=this.hue2rgb(p,q,h+1/3);g=this.hue2rgb(p,q,h);b=this.hue2rgb(p,q,h-1/3);}return this.fromRgb({r:r*255,g:g*255,b:b*255},true);},fromHsv:function(hsv){var h,s,v,r,g,b,i,f,p,q,t;if(typeof hsv!=='object'||hsv.h===undef||hsv.s===undef||hsv.v===undef)return this._error();this._hsv=hsv;this._hSpace='hsv';h=hsv.h/360;s=hsv.s/100;v=hsv.v/100;i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;}return this.fromRgb({r:r*255,g:g*255,b:b*255},true);},fromInt:function(color,preserve){this._color=parseInt(color,10);if(isNaN(this._color))this._color=0;if(this._color>16777215)this._color=16777215;else if(this._color<0)this._color=0;if(preserve===undef){this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0;}return this;},hue2rgb:function(p,q,t){if(t<0){t+=1;}if(t>1){t-=1;}if(t<1/6){return p+(q-p)*6*t;}if(t<1/2){return q;}if(t<2/3){return p+(q-p)*(2/3-t)*6;}return p;},toString:function(){var hex=parseInt(this._color,10).toString(16);if(this.error)return'';if(hex.length<6){for(var i=6-hex.length-1;i>=0;i--){hex='0'+hex;}}return'#'+hex;},toCSS:function(type,alpha){type=type||'hex';alpha=parseFloat(alpha||this._alpha);switch(type){case'rgb':case'rgba':var rgb=this.toRgb();if(alpha<1){return"rgba( "+rgb.r+", "+rgb.g+", "+rgb.b+", "+alpha+" )";}else{return"rgb( "+rgb.r+", "+rgb.g+", "+rgb.b+" )";}break;case'hsl':case'hsla':var hsl=this.toHsl();if(alpha<1){return"hsla( "+hsl.h+", "+hsl.s+"%, "+hsl.l+"%, "+alpha+" )";}else{return"hsl( "+hsl.h+", "+hsl.s+"%, "+hsl.l+"% )";}break;default:return this.toString();}},toRgb:function(){return{r:255&(this._color>>16),g:255&(this._color>>8),b:255&(this._color)};},toHsl:function(){var rgb=this.toRgb();var r=rgb.r/255,g=rgb.g/255,b=rgb.b/255;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,l=(max+min)/2;if(max===min){h=s=0;}else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}h=Math.round(h*360);if(h===0&&this._hsl.h!==h){h=this._hsl.h;}s=Math.round(s*100);if(s===0&&this._hsl.s){s=this._hsl.s;}return{h:h,s:s,l:Math.round(l*100)};},toHsv:function(){var rgb=this.toRgb();var r=rgb.r/255,g=rgb.g/255,b=rgb.b/255;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,v=max;var d=max-min;s=max===0?0:d/max;if(max===min){h=s=0;}else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}h=Math.round(h*360);if(h===0&&this._hsv.h!==h){h=this._hsv.h;}s=Math.round(s*100);if(s===0&&this._hsv.s){s=this._hsv.s;}return{h:h,s:s,v:Math.round(v*100)};},toInt:function(){return this._color;},toIEOctoHex:function(){var hex=this.toString();var AA=parseInt(255*this._alpha,10).toString(16);if(AA.length===1){AA='0'+AA;}return'#'+AA+hex.replace(/^#/,'');},toLuminosity:function(){var rgb=this.toRgb();return 0.2126*Math.pow(rgb.r/255,2.2)+0.7152*Math.pow(rgb.g/255,2.2)+0.0722*Math.pow(rgb.b/255,2.2);},getDistanceLuminosityFrom:function(color){if(!(color instanceof Color)){throw'getDistanceLuminosityFrom requires a Color object';}var lum1=this.toLuminosity();var lum2=color.toLuminosity();if(lum1>lum2){return(lum1+0.05)/(lum2+0.05);}else{return(lum2+0.05)/(lum1+0.05);}},getMaxContrastColor:function(){var lum=this.toLuminosity();var hex=(lum>=0.5)?'000000':'ffffff';return new Color(hex);},getReadableContrastingColor:function(bgColor,minContrast){if(!bgColor instanceof Color){return this;}var targetContrast=(minContrast===undef)?5:minContrast;var contrast=bgColor.getDistanceLuminosityFrom(this);var maxContrastColor=bgColor.getMaxContrastColor();var maxContrast=maxContrastColor.getDistanceLuminosityFrom(bgColor);if(maxContrast<=targetContrast){return maxContrastColor;}else if(contrast>=targetContrast){return this;}var incr=(0===maxContrastColor.toInt())?-1:1;while(contrast<targetContrast){this.l(incr,true);contrast=this.getDistanceLuminosityFrom(bgColor);if(this._color===0||this._color===16777215){break;}}return this;},a:function(val){if(val===undef)return this._alpha;var a=parseFloat(val);if(isNaN(a))return this._error();this._alpha=a;return this;},darken:function(amount){amount=amount||5;return this.l(-amount,true);},lighten:function(amount){amount=amount||5;return this.l(amount,true);},saturate:function(amount){amount=amount||15;return this.s(amount,true);},desaturate:function(amount){amount=amount||15;return this.s(-amount,true);},toGrayscale:function(){return this.setHSpace('hsl').s(0);},getComplement:function(){return this.h(180,true);},getSplitComplement:function(step){step=step||1;var incr=180+(step*30);return this.h(incr,true);},getAnalog:function(step){step=step||1;var incr=step*30;return this.h(incr,true);},getTetrad:function(step){step=step||1;var incr=step*60;return this.h(incr,true);},getTriad:function(step){step=step||1;var incr=step*120;return this.h(incr,true);},_partial:function(key){var prop=shortProps[key];return function(val,incr){var color=this._spaceFunc('to',prop.space);if(val===undef)return color[key];if(incr===true)val=color[key]+val;if(prop.mod)val=val%prop.mod;if(prop.range)val=(val<prop.range[0])?prop.range[0]:(val>prop.range[1])?prop.range[1]:val;color[key]=val;return this._spaceFunc('from',prop.space,color);};},_spaceFunc:function(dir,s,val){var space=s||this._hSpace,funcName=dir+space.charAt(0).toUpperCase()+space.substr(1);return this[funcName](val);}};var shortProps={h:{mod:360},s:{range:[0,100]},l:{space:'hsl',range:[0,100]},v:{space:'hsv',range:[0,100]},r:{space:'rgb',range:[0,255]},g:{space:'rgb',range:[0,255]},b:{space:'rgb',range:[0,255]}};for(var key in shortProps){if(shortProps.hasOwnProperty(key))Color.fn[key]=Color.fn._partial(key);}if(typeof exports==='object')module.exports=Color;else global.Color=Color;}(this));jQuery(function(){function applyPreview(target){var $style=target.jQuery('link[rel=stylesheet][href*="lib/exe/css.php"]');$style.attr('href','');var $loader=target.jQuery('#plugin__styling_loader');if(!$loader.length){$loader=target.jQuery('<div id="plugin__styling_loader">'+LANG.plugins.styling.loader+'</div>');$loader.css({'position':'absolute','width':'100%','height':'100%','top':0,'left':0,'z-index':5000,'background-color':'#fff','opacity':'0.7','color':'#000','font-size':'2.5em','text-align':'center','line-height':1.5,'padding-top':'2em'});target.jQuery('body').append($loader);}setTimeout(function(){var now=new Date().getTime();$style.attr('href',DOKU_BASE+'lib/exe/css.php?preview=1&tseed='+now);},500);}var doreload=1;var $styling_plugin=jQuery('#plugin__styling');if(!$styling_plugin.length){if(DokuCookie.getValue('styling_plugin')==1){applyPreview(window);}return;}$styling_plugin.find('.color').iris({});if(!$styling_plugin.hasClass('ispopup')){var $form=$styling_plugin.find('form.styling').first();var $btn=jQuery('<button>'+LANG.plugins.styling.popup+'</button>');$form.prepend($btn);$btn.click(function(e){var windowFeatures="menubar=no,location=no,resizable=yes,scrollbars=yes,status=false,width=500,height=500";window.open(DOKU_BASE+'lib/plugins/styling/popup.php','styling_popup',windowFeatures);e.preventDefault();e.stopPropagation();}).wrap('<p></p>');return;}window.onunload=function(e){if(doreload){window.opener.DokuCookie.setValue('styling_plugin',0);window.opener.document.location.reload();}return null;};jQuery(':button').click(function(e){doreload=false;});applyPreview(window.opener);window.opener.DokuCookie.setValue('styling_plugin',1);});jQuery(function(){dw_locktimer.init(840,1);});
        20190620151128       T                 
     
 !      
     v a r   D O K U _ B A S E = ' / ' ; v a r   D O K U _ T P L = ' / l i b / t p l / u b u n t u - p o r t a l / ' ; v a r   D O K U _ C O O K I E _ P A R A M = { " p a t h " : " \ / " , " s e c u r e " : t r u e } ; v a r   D O K U _ U H N = 0 ; v a r   D O K U _ U H C = 0 ; L A N G = { " w i l l e x p i r e " : " \ u 0 4 1 2 \ u 0 4 3 0 \ u 0 4 4 8 \ u 0 4 3 0   \ u 0 4 3 1 \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 8 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 a \ u 0 4 3 0   \ u 0 4 4 d \ u 0 4 4 2 \ u 0 4 3 e \ u 0 4 3 9   \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 4 6 \ u 0 4 4 b   \ u 0 4 3 d \ u 0 4 3 0 \ u 0 0 a 0 \ u 0 4 4 0 \ u 0 4 3 5 \ u 0 4 3 4 \ u 0 4 3 0 \ u 0 4 3 a \ u 0 4 4 2 \ u 0 4 3 8 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 3 a \ u 0 4 3 0 \ u 0 4 3 5 \ u 0 4 4 2   \ u 0 4 3 2 \ u 0 0 a 0 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 4 7 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 3 c \ u 0 4 3 8 \ u 0 4 3 d \ u 0 4 4 3 \ u 0 4 4 2 \ u 0 4 4 b . \ \ n \ u 0 4 2 7 \ u 0 4 4 2 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 4 b   \ u 0 4 3 f \ u 0 4 4 0 \ u 0 4 3 5 \ u 0 4 3 4 \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 2 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 a \ u 0 4 3 e \ u 0 4 3 d \ u 0 4 4 4 \ u 0 4 3 b \ u 0 4 3 8 \ u 0 4 3 a \ u 0 4 4 2 \ u 0 4 4 b   \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 3 f \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 4 c \ u 0 4 3 7 \ u 0 4 4 3 \ u 0 4 3 9 \ u 0 4 4 2 \ u 0 4 3 5   \ u 0 4 3 a \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 f \ u 0 4 3 a \ u 0 4 4 3   \ u 0 0 a b \ u 0 4 1 f \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 4 1 \ u 0 4 3 c \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 0 b b   \ u 0 4 3 4 \ u 0 4 3 b \ u 0 4 4 f   \ u 0 4 4 1 \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 4 1 \ u 0 4 3 0   \ u 0 4 4 2 \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 3 0   \ u 0 4 3 1 \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 8 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 a \ u 0 4 3 8 . " , " n o t s a v e d y e t " : " \ u 0 4 1 d \ u 0 4 3 5 \ u 0 4 4 1 \ u 0 4 3 e \ u 0 4 4 5 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 5 1 \ u 0 4 3 d \ u 0 4 3 d \ u 0 4 4 b \ u 0 4 3 5   \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 4 f   \ u 0 4 3 1 \ u 0 4 4 3 \ u 0 4 3 4 \ u 0 4 4 3 \ u 0 4 4 2   \ u 0 4 3 f \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 4 f \ u 0 4 3 d \ u 0 4 4 b .   \ u 0 4 1 2 \ u 0 4 4 b \ u 0 0 a 0 \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 3 9 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 4 c \ u 0 4 3 d \ u 0 4 3 e   \ u 0 4 4 5 \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 3 5   \ u 0 4 3 f \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 4 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 6 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c ? " , " s e a r c h m e d i a " : " \ u 0 4 1 f \ u 0 4 3 e \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 3 a   \ u 0 4 4 4 \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 " , " k e e p o p e n " : " \ u 0 4 1 d \ u 0 4 3 5   \ u 0 4 3 7 \ u 0 4 3 0 \ u 0 4 3 a \ u 0 4 4 0 \ u 0 4 4 b \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 d \ u 0 4 3 e   \ u 0 4 3 f \ u 0 4 3 e \ u 0 4 4 1 \ u 0 4 3 b \ u 0 4 3 5   \ u 0 4 3 2 \ u 0 4 4 b \ u 0 4 3 1 \ u 0 4 3 e \ u 0 4 4 0 \ u 0 4 3 0 " , " h i d e d e t a i l s " : " \ u 0 4 2 1 \ u 0 4 3 a \ u 0 4 4 0 \ u 0 4 4 b \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 4 2 \ u 0 4 3 0 \ u 0 4 3 b \ u 0 4 3 8 " , " m e d i a t i t l e " : " \ u 0 4 1 d \ u 0 4 3 0 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 9 \ u 0 4 3 a \ u 0 4 3 0   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 8 " , " m e d i a d i s p l a y " : " \ u 0 4 2 2 \ u 0 4 3 8 \ u 0 4 3 f   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 8 " , " m e d i a a l i g n " : " \ u 0 4 1 2 \ u 0 4 4 b \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5 \ n " , " m e d i a s i z e " : " \ u 0 4 2 0 \ u 0 4 3 0 \ u 0 4 3 7 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 4 0 " , " m e d i a t a r g e t " : " \ u 0 4 2 6 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 f   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0 " , " m e d i a c l o s e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 a \ u 0 4 4 0 \ u 0 4 4 b \ u 0 4 4 2 \ u 0 4 4 c " , " m e d i a i n s e r t " : " \ u 0 4 1 2 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 0 \ u 0 4 3 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c " , " m e d i a d i s p l a y i m g " : " \ u 0 4 1 f \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 0 \ u 0 4 3 7 \ u 0 4 4 b \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5 " , " m e d i a d i s p l a y l n k " : " \ u 0 4 1 f \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 0 \ u 0 4 3 7 \ u 0 4 4 b \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 2 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 4 c \ u 0 4 3 a \ u 0 4 3 e   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 4 3 " , " m e d i a s m a l l " : " \ u 0 4 1 c \ u 0 4 3 0 \ u 0 4 3 b \ u 0 4 3 0 \ u 0 4 4 f   \ u 0 4 3 2 \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 4 f " , " m e d i a m e d i u m " : " \ u 0 4 2 1 \ u 0 4 4 0 \ u 0 4 3 5 \ u 0 4 3 4 \ u 0 4 3 d \ u 0 4 4 f \ u 0 4 4 f   \ u 0 4 3 2 \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 4 f " , " m e d i a l a r g e " : " \ u 0 4 1 a \ u 0 4 4 0 \ u 0 4 4 3 \ u 0 4 3 f \ u 0 4 3 d \ u 0 4 3 0 \ u 0 4 4 f   \ u 0 4 3 2 \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 4 f " , " m e d i a o r i g i n a l " : " \ u 0 4 1 8 \ u 0 4 4 1 \ u 0 4 4 5 \ u 0 4 3 e \ u 0 4 3 4 \ u 0 4 3 d \ u 0 4 3 0 \ u 0 4 4 f   \ u 0 4 3 2 \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 4 f " , " m e d i a l n k " : " \ u 0 4 2 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0   \ u 0 4 3 d \ u 0 4 3 0   \ u 0 4 3 f \ u 0 4 3 e \ u 0 4 3 4 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 8 " , " m e d i a d i r e c t " : " \ u 0 4 1 f \ u 0 4 4 0 \ u 0 4 4 f \ u 0 4 3 c \ u 0 4 3 0 \ u 0 4 4 f   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0   \ u 0 4 3 d \ u 0 4 3 0 \ u 0 0 a 0 \ u 0 4 3 e \ u 0 4 4 0 \ u 0 4 3 8 \ u 0 4 3 3 \ u 0 4 3 8 \ u 0 4 3 d \ u 0 4 3 0 \ u 0 4 3 b " , " m e d i a n o l n k " : " \ u 0 4 1 1 \ u 0 4 3 5 \ u 0 4 3 7   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 8 " , " m e d i a n o l i n k " : " \ u 0 4 1 d \ u 0 4 3 5   \ u 0 4 3 4 \ u 0 4 3 0 \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 4 3   \ u 0 4 3 d \ u 0 4 3 0 \ u 0 0 a 0 \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5 " , " m e d i a l e f t " : " \ u 0 4 1 2 \ u 0 4 4 b \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 3 f \ u 0 4 3 e   \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 c \ u 0 4 4 3   \ u 0 4 3 a \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 4 e " , " m e d i a r i g h t " : " \ u 0 4 1 2 \ u 0 4 4 b \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 3 f \ u 0 4 3 e   \ u 0 4 3 f \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 c \ u 0 4 4 3   \ u 0 4 3 a \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 4 e " , " m e d i a c e n t e r " : " \ u 0 4 1 2 \ u 0 4 4 b \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 3 f \ u 0 4 3 e   \ u 0 4 4 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 4 4 3 " , " m e d i a n o a l i g n " : " \ u 0 4 1 d \ u 0 4 3 5   \ u 0 4 3 2 \ u 0 4 4 b \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c " , " n o s m b l i n k s " : " \ u 0 4 2 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0   \ u 0 4 3 d \ u 0 4 3 0 \ u 0 0 a 0 \ u 0 4 4 1 \ u 0 4 3 5 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 3 2 \ u 0 4 4 b \ u 0 4 3 5   \ u 0 4 3 a \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 3 0 \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 3 \ u 0 4 3 8   W i n d o w s   \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 1 \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 0 \ u 0 4 3 5 \ u 0 4 4 2   \ u 0 4 4 2 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 4 c \ u 0 4 3 a \ u 0 4 3 e   \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 0 a 0 M S \ u 0 0 a 0 I n t e r n e t   E x p l o r e r ,   \ u 0 4 3 d \ u 0 4 3 e \ u 0 0 a 0 \ u 0 4 3 2 \ u 0 4 4 b \ u 0 0 a 0 \ u 0 4 3 c \ u 0 4 3 e \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 4 2 \ u 0 4 3 5   \ u 0 4 4 1 \ u 0 4 3 a \ u 0 4 3 e \ u 0 4 3 f \ u 0 4 3 8 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 4 3 . " , " l i n k w i z " : " \ u 0 4 1 c \ u 0 4 3 0 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 4 0   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 a " , " l i n k t o " : " \ u 0 4 2 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0   \ u 0 4 3 d \ u 0 4 3 0 : " , " d e l _ c o n f i r m " : " \ u 0 4 1 2 \ u 0 4 4 b \ u 0 0 a 0 \ u 0 4 3 d \ u 0 4 3 0 \ u 0 0 a 0 \ u 0 4 4 1 \ u 0 4 3 0 \ u 0 4 3 c \ u 0 4 3 e \ u 0 4 3 c   \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 3 5   \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 3 0 \ u 0 4 3 5 \ u 0 4 4 2 \ u 0 4 3 5   \ u 0 4 4 3 \ u 0 4 3 4 \ u 0 4 3 0 \ u 0 4 3 b \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 2 \ u 0 4 4 b \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 5 ? " , " r e s t o r e _ c o n f i r m " : " \ u 0 4 1 4 \ u 0 4 3 5 \ u 0 4 3 9 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 4 c \ u 0 4 3 d \ u 0 4 3 e   \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 d \ u 0 4 4 2 \ u 0 4 4 3   \ u 0 4 3 2 \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 4 e ? " , " m e d i a _ d i f f " : " \ u 0 4 1 f \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 4 1 \ u 0 4 3 c \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 4 0   \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 b \ u 0 4 3 8 \ u 0 4 4 7 \ u 0 4 3 8 \ u 0 4 3 9 : " , " m e d i a _ d i f f _ b o t h " : " \ u 0 4 4 0 \ u 0 4 4 f \ u 0 4 3 4 \ u 0 4 3 e \ u 0 4 3 c " , " m e d i a _ d i f f _ o p a c i t y " : " \ u 0 4 3 d \ u 0 4 3 0 \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5 \ u 0 4 3 c " , " m e d i a _ d i f f _ p o r t i o n s " : " \ u 0 4 2 7 \ u 0 4 3 0 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 4 f \ u 0 4 3 c \ u 0 4 3 8 " , " m e d i a _ s e l e c t " : " \ u 0 4 1 2 \ u 0 4 4 b \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 4 \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 b \ u 0 4 4 b \ u 2 0 2 6 " , " m e d i a _ u p l o a d _ b t n " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 4 0 \ u 0 4 4 3 \ u 0 4 3 7 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c " , " m e d i a _ d o n e _ b t n " : " \ u 0 4 1 3 \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e " , " m e d i a _ d r o p " : " \ u 0 4 1 f \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 3 5 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 3 5   \ u 0 4 4 4 \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 b \ u 0 4 4 b   \ u 0 4 4 1 \ u 0 4 4 e \ u 0 4 3 4 \ u 0 4 3 0   \ u 0 4 3 4 \ u 0 4 3 b \ u 0 4 4 f   \ u 0 4 3 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 4 0 \ u 0 4 4 3 \ u 0 4 3 7 \ u 0 4 3 a \ u 0 4 3 8 " , " m e d i a _ c a n c e l " : " \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c " , " m e d i a _ o v e r w r t " : " \ u 0 4 1 f \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 3 5 \ u 0 4 3 7 \ u 0 4 3 0 \ u 0 4 3 f \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 1 \ u 0 4 4 3 \ u 0 4 4 9 \ u 0 4 3 5 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 2 \ u 0 4 4 3 \ u 0 4 4 e \ u 0 4 4 9 \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 4 4 \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 b \ u 0 4 4 b " , " p l u g i n s " : { " e x t e n s i o n " : { " r e a l l y d e l " : " \ u 0 4 1 4 \ u 0 4 3 5 \ u 0 4 3 9 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 4 c \ u 0 4 3 d \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 3 4 \ u 0 4 3 0 \ u 0 4 3 b \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 d \ u 0 4 4 2 \ u 0 4 3 e   \ u 0 4 3 4 \ u 0 4 3 e \ u 0 4 3 f \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 d \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5 ? " , " d i s p l a y _ v i e w o p t i o n s " : " \ u 0 4 1 f \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 0 \ u 0 4 3 7 \ u 0 4 3 0 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 a \ u 0 4 3 0 \ u 0 4 3 a : " , " d i s p l a y _ e n a b l e d " : " \ u 0 4 3 2 \ u 0 4 3 a \ u 0 4 3 b \ u 0 4 4 e \ u 0 4 4 7 \ u 0 4 5 1 \ u 0 4 3 d " , " d i s p l a y _ d i s a b l e d " : " \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 a \ u 0 4 3 b \ u 0 4 4 e \ u 0 4 4 7 \ u 0 4 5 1 \ u 0 4 3 d " , " d i s p l a y _ u p d a t a b l e " : " \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5 " } , " s e a r c h i n d e x " : { " i n d e x i n g " : " \ u 0 4 1 8 \ u 0 4 3 d \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 3 a \ u 0 4 4 1 \ u 0 4 3 0 \ u 0 4 4 6 \ u 0 4 3 8 \ u 0 4 4 f : " , " d o n e " : " \ u 0 4 1 8 \ u 0 4 3 d \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 3 a \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 e \ u 0 4 3 d \ u 0 4 4 7 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 e . " , " p a g e s " : " \ u 0 4 1 d \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 e   \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 4 6 :   % d . " , " c l e a r i n g " : " \ u 0 4 1 e \ u 0 4 4 7 \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 a \ u 0 4 3 0   \ u 0 4 3 8 \ u 0 4 3 d \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 3 a \ u 0 4 4 1 \ u 0 4 3 0 . . . " , " f i n d i n g " : " \ u 0 4 1 f \ u 0 4 3 e \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 3 a   \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 4 6 . . . " , " n o t i n d e x e d " : " S k i p p e d :   U p - t o - d a t e " , " i n d e x e d " : " \ u 0 4 1 e \ u 0 4 3 1 \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 e " } , " s t y l i n g " : { " l o a d e r " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 4 0 \ u 0 4 4 3 \ u 0 4 3 6 \ u 0 4 3 0 \ u 0 4 3 5 \ u 0 4 4 2 \ u 0 4 4 1 \ u 0 4 4 f   \ u 0 4 3 f \ u 0 4 4 0 \ u 0 4 3 5 \ u 0 4 3 4 \ u 0 4 3 f \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 4 1 \ u 0 4 3 c \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 4 0 . . . < b r   \ / > \ u 0 4 1 5 \ u 0 4 4 1 \ u 0 4 3 b \ u 0 4 3 8   \ u 0 4 3 7 \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 4 1 \ u 0 4 4 c   \ u 0 4 4 1 \ u 0 4 3 b \ u 0 4 4 3 \ u 0 4 4 7 \ u 0 4 3 8 \ u 0 4 3 b \ u 0 4 4 1 \ u 0 4 4 f   \ u 0 4 4 1 \ u 0 4 3 1 \ u 0 4 3 e \ u 0 4 3 9 ,   \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 8 \ u 0 4 3 8   \ u 0 4 3 d \ u 0 4 3 0 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 9 \ u 0 4 3 a \ u 0 4 3 8   \ u 0 4 3 c \ u 0 4 3 e \ u 0 4 3 3 \ u 0 4 4 3 \ u 0 4 4 2   \ u 0 4 3 1 \ u 0 4 4 b \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 4 1 \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 4 8 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 4 b " , " p o p u p " : " \ u 0 4 1 e \ u 0 4 4 2 \ u 0 4 3 a \ u 0 4 4 0 \ u 0 4 4 b \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 2 \ u 0 4 3 e   \ u 0 4 3 2 \ u 0 4 4 1 \ u 0 4 3 f \ u 0 4 3 b \ u 0 4 4 b \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 4 e \ u 0 4 4 9 \ u 0 4 3 5 \ u 0 4 3 c   \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 d \ u 0 4 3 5 " } } } ; v a r   t o o l b a r = [ { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 f \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 4 3 \ u 0 4 3 6 \ u 0 4 3 8 \ u 0 4 4 0 \ u 0 4 3 d \ u 0 4 4 b \ u 0 4 3 9 " , " i c o n " : " b o l d . p n g " , " k e y " : " b " , " o p e n " : " * * " , " c l o s e " : " * * " , " b l o c k " : f a l s e } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 a \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 3 2 " , " i c o n " : " i t a l i c . p n g " , " k e y " : " i " , " o p e n " : " \ / \ / " , " c l o s e " : " \ / \ / " , " b l o c k " : f a l s e } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 f \ u 0 4 3 e \ u 0 4 3 4 \ u 0 4 4 7 \ u 0 4 5 1 \ u 0 4 4 0 \ u 0 4 3 a \ u 0 4 3 d \ u 0 4 4 3 \ u 0 4 4 2 \ u 0 4 4 b \ u 0 4 3 9 " , " i c o n " : " u n d e r l i n e . p n g " , " k e y " : " u " , " o p e n " : " _ _ " , " c l o s e " : " _ _ " , " b l o c k " : f a l s e } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 2 2 \ u 0 4 3 5 \ u 0 4 3 a \ u 0 4 4 1 \ u 0 4 4 2   \ u 0 4 3 a \ u 0 4 3 e \ u 0 4 3 4 \ u 0 4 3 0 " , " i c o n " : " m o n o . p n g " , " k e y " : " m " , " o p e n " : " ' ' " , " c l o s e " : " ' ' " , " b l o c k " : f a l s e } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 4 7 \ u 0 4 5 1 \ u 0 4 4 0 \ u 0 4 3 a \ u 0 4 3 d \ u 0 4 4 3 \ u 0 4 4 2 \ u 0 4 4 b \ u 0 4 3 9 " , " i c o n " : " s t r i k e . p n g " , " k e y " : " d " , " o p e n " : " < d e l > " , " c l o s e " : " < \ / d e l > " , " b l o c k " : f a l s e } , { " t y p e " : " a u t o h e a d " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 3 a \ u 0 4 4 3 \ u 0 4 4 9 \ u 0 4 3 5 \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f " , " i c o n " : " h e q u a l . p n g " , " k e y " : " 8 " , " t e x t " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a " , " m o d " : 0 , " b l o c k " : t r u e } , { " t y p e " : " a u t o h e a d " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   \ u 0 4 3 1 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 5   \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 a \ u 0 4 3 e \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f   ( \ u 0 4 3 f \ u 0 4 3 e \ u 0 4 3 4 \ u 0 4 3 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a ) " , " i c o n " : " h m i n u s . p n g " , " k e y " : " 9 " , " t e x t " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a " , " m o d " : 1 , " b l o c k " : t r u e } , { " t y p e " : " a u t o h e a d " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   \ u 0 4 3 1 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 5   \ u 0 4 3 2 \ u 0 4 4 b \ u 0 4 4 1 \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 e \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f " , " i c o n " : " h p l u s . p n g " , " k e y " : " 0 " , " t e x t " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a " , " m o d " : - 1 , " b l o c k " : t r u e } , { " t y p e " : " p i c k e r " , " t i t l e " : " \ u 0 4 1 2 \ u 0 4 4 b \ u 0 4 3 1 \ u 0 4 3 e \ u 0 4 4 0   \ u 0 4 3 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 a \ u 0 4 3 0 " , " i c o n " : " h . p n g " , " c l a s s " : " p k _ h l " , " l i s t " : [ { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   1 - \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f " , " i c o n " : " h 1 . p n g " , " k e y " : " 1 " , " o p e n " : " = = = = = =   " , " c l o s e " : "   = = = = = = \ \ n " } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   2 - \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f " , " i c o n " : " h 2 . p n g " , " k e y " : " 2 " , " o p e n " : " = = = = =   " , " c l o s e " : "   = = = = = \ \ n " } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   3 - \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f " , " i c o n " : " h 3 . p n g " , " k e y " : " 3 " , " o p e n " : " = = = =   " , " c l o s e " : "   = = = = \ \ n " } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   4 - \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f " , " i c o n " : " h 4 . p n g " , " k e y " : " 4 " , " o p e n " : " = = =   " , " c l o s e " : "   = = = \ \ n " } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 7 \ u 0 4 3 0 \ u 0 4 3 3 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 a   5 - \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 3 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 d \ u 0 4 4 f " , " i c o n " : " h 5 . p n g " , " k e y " : " 5 " , " o p e n " : " = =   " , " c l o s e " : "   = = \ \ n " } ] , " b l o c k " : t r u e } , { " t y p e " : " l i n k w i z " , " t i t l e " : " \ u 0 4 1 2 \ u 0 4 3 d \ u 0 4 4 3 \ u 0 4 4 2 \ u 0 4 4 0 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 d \ u 0 4 4 f \ u 0 4 4 f   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0 " , " i c o n " : " l i n k . p n g " , " k e y " : " l " , " o p e n " : " [ [ " , " c l o s e " : " ] ] " , " b l o c k " : f a l s e } , { " t y p e " : " f o r m a t " , " t i t l e " : " \ u 0 4 1 2 \ u 0 4 3 d \ u 0 4 3 5 \ u 0 4 4 8 \ u 0 4 3 d \ u 0 4 4 f \ u 0 4 4 f   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0 " , " i c o n " : " l i n k e x t e r n . p n g " , " o p e n " : " [ [ " , " c l o s e " : " ] ] " , " s a m p l e " : " h t t p : \ / \ / e x a m p l e . c o m | \ u 0 4 1 2 \ u 0 4 3 d \ u 0 4 3 5 \ u 0 4 4 8 \ u 0 4 3 d \ u 0 4 4 f \ u 0 4 4 f   \ u 0 4 4 1 \ u 0 4 4 1 \ u 0 4 4 b \ u 0 4 3 b \ u 0 4 3 a \ u 0 4 3 0 " , " b l o c k " : f a l s e } , { " t y p e " : " f o r m a t l n " , " t i t l e " : " \ u 0 4 2 d \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 4 2   \ u 0 4 3 d \ u 0 4 4 3 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 1 \ u 0 4 3 f \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 3 a \ u 0 4 3 0 " , " i c o n " : " o l . p n g " , " o p e n " : "     -   " , " c l o s e " : " " , " k e y " : " - " , " b l o c k " : t r u e } , { " t y p e " : " f o r m a t l n " , " t i t l e " : " \ u 0 4 2 d \ u 0 4 3 b \ u 0 4 3 5 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 4 2   \ u 0 4 3 d \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 4 3 \ u 0 4 3 c \ u 0 4 3 5 \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 0 \ u 0 4 3 d \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 3 \ u 0 4 3 e   \ u 0 4 4 1 \ u 0 4 3 f \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 3 a \ u 0 4 3 0 " , " i c o n " : " u l . p n g " , " o p e n " : "     *   " , " c l o s e " : " " , " k e y " : " . " , " b l o c k " : t r u e } , { " t y p e " : " i n s e r t " , " t i t l e " : " \ u 0 4 2 0 \ u 0 4 3 0 \ u 0 4 3 7 \ u 0 4 3 4 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 3 5 \ u 0 4 3 b \ u 0 4 4 c " , " i c o n " : " h r . p n g " , " i n s e r t " : " \ \ n - - - - \ \ n " , " b l o c k " : t r u e } , { " t y p e " : " m e d i a p o p u p " , " t i t l e " : " \ u 0 4 1 4 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 3 0 \ u 0 4 3 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 8 \ u 0 4 3 7 \ u 0 4 3 e \ u 0 4 3 1 \ u 0 4 4 0 \ u 0 4 3 0 \ u 0 4 3 6 \ u 0 4 3 5 \ u 0 4 3 d \ u 0 4 3 8 \ u 0 4 4 f   \ u 0 4 3 8 \ u 0 4 3 b \ u 0 4 3 8   \ u 0 4 3 4 \ u 0 4 4 0 \ u 0 4 4 3 \ u 0 4 3 3 \ u 0 4 3 8 \ u 0 4 3 5   \ u 0 4 4 4 \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 b \ u 0 4 4 b   ( \ u 0 4 3 e \ u 0 4 4 2 \ u 0 4 3 a \ u 0 4 4 0 \ u 0 4 3 e \ u 0 4 3 5 \ u 0 4 4 2 \ u 0 4 4 1 \ u 0 4 4 f   \ u 0 4 3 2   \ u 0 4 3 d \ u 0 4 3 e \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 c   \ u 0 4 3 e \ u 0 4 3 a \ u 0 4 3 d \ u 0 4 3 5 ) " , " i c o n " : " i m a g e . p n g " , " u r l " : " l i b \ / e x e \ / m e d i a m a n a g e r . p h p ? n s = " , " n a m e " : " m e d i a s e l e c t " , " o p t i o n s " : " w i d t h = 7 5 0 , h e i g h t = 5 0 0 , l e f t = 2 0 , t o p = 2 0 , s c r o l l b a r s = y e s , r e s i z a b l e = y e s " , " b l o c k " : f a l s e } , { " t y p e " : " p i c k e r " , " t i t l e " : " \ u 0 4 2 1 \ u 0 4 3 c \ u 0 4 3 0 \ u 0 4 3 9 \ u 0 4 3 b \ u 0 4 3 8 \ u 0 4 3 a \ u 0 4 3 8 " , " i c o n " : " s m i l e y . p n g " , " l i s t " : { " 8 - ) " : " u b u n t u - p o r t a l \ / i c o n _ c o o l . p n g " , " 8 - O " : " u b u n t u - p o r t a l \ / i c o n _ e e k . p n g " , " 8 - o " : " u b u n t u - p o r t a l \ / i c o n _ e e k . p n g " , " : - ( " : " u b u n t u - p o r t a l \ / i c o n _ s a d . p n g " , " : - ) " : " u b u n t u - p o r t a l \ / i c o n _ s m i l e . p n g " , " = ) " : " u b u n t u - p o r t a l \ / i c o n _ s m i l e 2 . p n g " , " : - \ / " : " u b u n t u - p o r t a l \ / i c o n _ d o u b t . p n g " , " : - \ \ " : " u b u n t u - p o r t a l \ / i c o n _ d o u b t 2 . p n g " , " : - ? " : " u b u n t u - p o r t a l \ / i c o n _ c o n f u s e d . p n g " , " : - D " : " u b u n t u - p o r t a l \ / i c o n _ b i g g r i n . p n g " , " : - P " : " u b u n t u - p o r t a l \ / i c o n _ r a z z . p n g " , " : - o " : " u b u n t u - p o r t a l \ / i c o n _ s u r p r i s e d . p n g " , " : - O " : " u b u n t u - p o r t a l \ / i c o n _ s u r p r i s e d . p n g " , " : - x " : " u b u n t u - p o r t a l \ / i c o n _ s i l e n c e d . p n g " , " : - X " : " u b u n t u - p o r t a l \ / i c o n _ s i l e n c e d . p n g " , " : - | " : " u b u n t u - p o r t a l \ / i c o n _ n e u t r a l . p n g " , " ; - ) " : " u b u n t u - p o r t a l \ / i c o n _ w i n k . p n g " , " m ( " : " u b u n t u - p o r t a l \ / i c o n _ n e u t r a l . p n g " , " ^ _ ^ " : " u b u n t u - p o r t a l \ / i c o n _ f u n . p n g " , " : ? : " : " u b u n t u - p o r t a l \ / i c o n _ q u e s t i o n . p n g " , " : ! : " : " u b u n t u - p o r t a l \ / i c o n _ e x c l a i m . p n g " , " L O L " : " u b u n t u - p o r t a l \ / i c o n _ l o l . p n g " , " F I X M E " : " u b u n t u - p o r t a l \ / f i x m e . p n g " , " D E L E T E M E " : " u b u n t u - p o r t a l \ / d e l e t e . p n g " } , " i c o b a s e " : " s m i l e y s " , " b l o c k " : f a l s e } , { " t y p e " : " p i c k e r " , " t i t l e " : " \ u 0 4 2 1 \ u 0 4 3 f \ u 0 4 3 5 \ u 0 4 4 6 \ u 0 4 3 8 \ u 0 4 3 0 \ u 0 4 3 b \ u 0 4 4 c \ u 0 4 3 d \ u 0 4 4 b \ u 0 4 3 5   \ u 0 4 4 1 \ u 0 4 3 8 \ u 0 4 3 c \ u 0 4 3 2 \ u 0 4 3 e \ u 0 4 3 b \ u 0 4 4 b " , " i c o n " : " c h a r s . p n g " , " l i s t " : [ " \ u 0 0 c 0 " , " \ u 0 0 e 0 " , " \ u 0 0 c 1 " , " \ u 0 0 e 1 " , " \ u 0 0 c 2 " , " \ u 0 0 e 2 " , " \ u 0 0 c 3 " , " \ u 0 0 e 3 " , " \ u 0 0 c 4 " , " \ u 0 0 e 4 " , " \ u 0 1 c d " , " \ u 0 1 c e " , " \ u 0 1 0 2 " , " \ u 0 1 0 3 " , " \ u 0 0 c 5 " , " \ u 0 0 e 5 " , " \ u 0 1 0 0 " , " \ u 0 1 0 1 " , " \ u 0 1 0 4 " , " \ u 0 1 0 5 " , " \ u 0 0 c 6 " , " \ u 0 0 e 6 " , " \ u 0 1 0 6 " , " \ u 0 1 0 7 " , " \ u 0 0 c 7 " , " \ u 0 0 e 7 " , " \ u 0 1 0 c " , " \ u 0 1 0 d " , " \ u 0 1 0 8 " , " \ u 0 1 0 9 " , " \ u 0 1 0 a " , " \ u 0 1 0 b " , " \ u 0 0 d 0 " , " \ u 0 1 1 1 " , " \ u 0 0 f 0 " , " \ u 0 1 0 e " , " \ u 0 1 0 f " , " \ u 0 0 c 8 " , " \ u 0 0 e 8 " , " \ u 0 0 c 9 " , " \ u 0 0 e 9 " , " \ u 0 0 c a " , " \ u 0 0 e a " , " \ u 0 0 c b " , " \ u 0 0 e b " , " \ u 0 1 1 a " , " \ u 0 1 1 b " , " \ u 0 1 1 2 " , " \ u 0 1 1 3 " , " \ u 0 1 1 6 " , " \ u 0 1 1 7 " , " \ u 0 1 1 8 " , " \ u 0 1 1 9 " , " \ u 0 1 2 2 " , " \ u 0 1 2 3 " , " \ u 0 1 1 c " , " \ u 0 1 1 d " , " \ u 0 1 1 e " , " \ u 0 1 1 f " , " \ u 0 1 2 0 " , " \ u 0 1 2 1 " , " \ u 0 1 2 4 " , " \ u 0 1 2 5 " , " \ u 0 0 c c " , " \ u 0 0 e c " , " \ u 0 0 c d " , " \ u 0 0 e d " , " \ u 0 0 c e " , " \ u 0 0 e e " , " \ u 0 0 c f " , " \ u 0 0 e f " , " \ u 0 1 c f " , " \ u 0 1 d 0 " , " \ u 0 1 2 a " , " \ u 0 1 2 b " , " \ u 0 1 3 0 " , " \ u 0 1 3 1 " , " \ u 0 1 2 e " , " \ u 0 1 2 f " , " \ u 0 1 3 4 " , " \ u 0 1 3 5 " , " \ u 0 1 3 6 " , " \ u 0 1 3 7 " , " \ u 0 1 3 9 " , " \ u 0 1 3 a " , " \ u 0 1 3 b " , " \ u 0 1 3 c " , " \ u 0 1 3 d " , " \ u 0 1 3 e " , " \ u 0 1 4 1 " , " \ u 0 1 4 2 " , " \ u 0 1 3 f " , " \ u 0 1 4 0 " , " \ u 0 1 4 3 " , " \ u 0 1 4 4 " , " \ u 0 0 d 1 " , " \ u 0 0 f 1 " , " \ u 0 1 4 5 " , " \ u 0 1 4 6 " , " \ u 0 1 4 7 " , " \ u 0 1 4 8 " , " \ u 0 0 d 2 " , " \ u 0 0 f 2 " , " \ u 0 0 d 3 " , " \ u 0 0 f 3 " , " \ u 0 0 d 4 " , " \ u 0 0 f 4 " , " \ u 0 0 d 5 " , " \ u 0 0 f 5 " , " \ u 0 0 d 6 " , " \ u 0 0 f 6 " , " \ u 0 1 d 1 " , " \ u 0 1 d 2 " , " \ u 0 1 4 c " , " \ u 0 1 4 d " , " \ u 0 1 5 0 " , " \ u 0 1 5 1 " , " \ u 0 1 5 2 " , " \ u 0 1 5 3 " , " \ u 0 0 d 8 " , " \ u 0 0 f 8 " , " \ u 0 1 5 4 " , " \ u 0 1 5 5 " , " \ u 0 1 5 6 " , " \ u 0 1 5 7 " , " \ u 0 1 5 8 " , " \ u 0 1 5 9 " , " \ u 0 1 5 a " , " \ u 0 1 5 b " , " \ u 0 1 5 e " , " \ u 0 1 5 f " , " \ u 0 1 6 0 " , " \ u 0 1 6 1 " , " \ u 0 1 5 c " , " \ u 0 1 5 d " , " \ u 0 1 6 2 " , " \ u 0 1 6 3 " , " \ u 0 1 6 4 " , " \ u 0 1 6 5 " , " \ u 0 0 d 9 " , " \ u 0 0 f 9 " , " \ u 0 0 d a " , " \ u 0 0 f a " , " \ u 0 0 d b " , " \ u 0 0 f b " , " \ u 0 0 d c " , " \ u 0 0 f c " , " \ u 0 1 d 3 " , " \ u 0 1 d 4 " , " \ u 0 1 6 c " , " \ u 0 1 6 d " , " \ u 0 1 6 a " , " \ u 0 1 6 b " , " \ u 0 1 6 e " , " \ u 0 1 6 f " , " \ u 0 1 d 6 " , " \ u 0 1 d 8 " , " \ u 0 1 d a " , " \ u 0 1 d c " , " \ u 0 1 7 2 " , " \ u 0 1 7 3 " , " \ u 0 1 7 0 " , " \ u 0 1 7 1 " , " \ u 0 1 7 4 " , " \ u 0 1 7 5 " , " \ u 0 0 d d " , " \ u 0 0 f d " , " \ u 0 1 7 8 " , " \ u 0 0 f f " , " \ u 0 1 7 6 " , " \ u 0 1 7 7 " , " \ u 0 1 7 9 " , " \ u 0 1 7 a " , " \ u 0 1 7 d " , " \ u 0 1 7 e " , " \ u 0 1 7 b " , " \ u 0 1 7 c " , " \ u 0 0 d e " , " \ u 0 0 f e " , " \ u 0 0 d f " , " \ u 0 1 2 6 " , " \ u 0 1 2 7 " , " \ u 0 0 b f " , " \ u 0 0 a 1 " , " \ u 0 0 a 2 " , " \ u 0 0 a 3 " , " \ u 0 0 a 4 " , " \ u 0 0 a 5 " , " \ u 2 0 a c " , " \ u 0 0 a 6 " , " \ u 0 0 a 7 " , " \ u 0 0 a a " , " \ u 0 0 a c " , " \ u 0 0 a f " , " \ u 0 0 b 0 " , " \ u 0 0 b 1 " , " \ u 0 0 f 7 " , " \ u 2 0 3 0 " , " \ u 0 0 b c " , " \ u 0 0 b d " , " \ u 0 0 b e " , " \ u 0 0 b 9 " , " \ u 0 0 b 2 " , " \ u 0 0 b 3 " , " \ u 0 0 b 5 " , " \ u 0 0 b 6 " , " \ u 2 0 2 0 " , " \ u 2 0 2 1 " , " \ u 0 0 b 7 " , " \ u 2 0 2 2 " , " \ u 0 0 b a " , " \ u 2 2 0 0 " , " \ u 2 2 0 2 " , " \ u 2 2 0 3 " , " \ u 0 1 8 f " , " \ u 0 2 5 9 " , " \ u 2 2 0 5 " , " \ u 2 2 0 7 " , " \ u 2 2 0 8 " , " \ u 2 2 0 9 " , " \ u 2 2 0 b " , " \ u 2 2 0 f " , " \ u 2 2 1 1 " , " \ u 2 0 3 e " , " \ u 2 2 1 2 " , " \ u 2 2 1 7 " , " \ u 0 0 d 7 " , " \ u 2 0 4 4 " , " \ u 2 2 1 a " , " \ u 2 2 1 d " , " \ u 2 2 1 e " , " \ u 2 2 2 0 " , " \ u 2 2 2 7 " , " \ u 2 2 2 8 " , " \ u 2 2 2 9 " , " \ u 2 2 2 a " , " \ u 2 2 2 b " , " \ u 2 2 3 4 " , " \ u 2 2 3 c " , " \ u 2 2 4 5 " , " \ u 2 2 4 8 " , " \ u 2 2 6 0 " , " \ u 2 2 6 1 " , " \ u 2 2 6 4 " , " \ u 2 2 6 5 " , " \ u 2 2 8 2 " , " \ u 2 2 8 3 " , " \ u 2 2 8 4 " , " \ u 2 2 8 6 " , " \ u 2 2 8 7 " , " \ u 2 2 9 5 " , " \ u 2 2 9 7 " , " \ u 2 2 a 5 " , " \ u 2 2 c 5 " , " \ u 2 5 c a " , " \ u 2 1 1 8 " , " \ u 2 1 1 1 " , " \ u 2 1 1 c " , " \ u 2 1 3 5 " , " \ u 2 6 6 0 " , " \ u 2 6 6 3 " , " \ u 2 6 6 5 " , " \ u 2 6 6 6 " , " \ u 0 3 b 1 " , " \ u 0 3 b 2 " , " \ u 0 3 9 3 " , " \ u 0 3 b 3 " , " \ u 0 3 9 4 " , " \ u 0 3 b 4 " , " \ u 0 3 b 5 " , " \ u 0 3 b 6 " , " \ u 0 3 b 7 " , " \ u 0 3 9 8 " , " \ u 0 3 b 8 " , " \ u 0 3 b 9 " , " \ u 0 3 b a " , " \ u 0 3 9 b " , " \ u 0 3 b b " , " \ u 0 3 b c " , " \ u 0 3 9 e " , " \ u 0 3 b e " , " \ u 0 3 a 0 " , " \ u 0 3 c 0 " , " \ u 0 3 c 1 " , " \ u 0 3 a 3 " , " \ u 0 3 c 3 " , " \ u 0 3 a 4 " , " \ u 0 3 c 4 " , " \ u 0 3 c 5 " , " \ u 0 3 a 6 " , " \ u 0 3 c 6 " , " \ u 0 3 c 7 " , " \ u 0 3 a 8 " , " \ u 0 3 c 8 " , " \ u 0 3 a 9 " , " \ u 0 3 c 9 " , " \ u 2 6 0 5 " , " \ u 2 6 0 6 " , " \ u 2 6 0 e " , " \ u 2 6 1 a " , " \ u 2 6 1 b " , " \ u 2 6 1 c " , " \ u 2 6 1 d " , " \ u 2 6 1 e " , " \ u 2 6 1 f " , " \ u 2 6 3 9 " , " \ u 2 6 3 a " , " \ u 2 7 1 4 " , " \ u 2 7 1 8 " , " \ u 2 0 1 e " , " \ u 2 0 1 c " , " \ u 2 0 1 d " , " \ u 2 0 1 a " , " \ u 2 0 1 8 " , " \ u 2 0 1 9 " , " \ u 0 0 a b " , " \ u 0 0 b b " , " \ u 2 0 3 9 " , " \ u 2 0 3 a " , " \ u 2 0 1 4 " , " \ u 2 0 1 3 " , " \ u 2 0 2 6 " , " \ u 2 1 9 0 " , " \ u 2 1 9 1 " , " \ u 2 1 9 2 " , " \ u 2 1 9 3 " , " \ u 2 1 9 4 " , " \ u 2 1 d 0 " , " \ u 2 1 d 1 " , " \ u 2 1 d 2 " , " \ u 2 1 d 3 " , " \ u 2 1 d 4 " , " \ u 0 0 a 9 " , " \ u 2 1 2 2 " , " \ u 0 0 a e " , " \ u 2 0 3 2 " , " \ u 2 0 3 3 " , " [ " , " ] " , " { " , " } " , " ~ " , " ( " , " ) " , " % " , " \ u 0 0 a 7 " , " $ " , " # " , " | " , " @ " ] , " b l o c k " : f a l s e } , { " t y p e " : " s i g n a t u r e " , " t i t l e " : " \ u 0 4 1 2 \ u 0 4 4 1 \ u 0 4 4 2 \ u 0 4 3 0 \ u 0 4 3 2 \ u 0 4 3 8 \ u 0 4 4 2 \ u 0 4 4 c   \ u 0 4 3 f \ u 0 4 3 e \ u 0 4 3 4 \ u 0 4 3 f \ u 0 4 3 8 \ u 0 4 4 1 \ u 0 4 4 c " , " i c o n " : " s i g . p n g " , " k e y " : " y " , " b l o c k " : f a l s e } , { " t y p e " : " f o r m a t " , " t i t l e " : " M a r k   t e x t   a s   k e y   p r e s s " , " i c o n " : " . . \ / . . \ / p l u g i n s \ / k e y b o a r d \ / k e y b o a r d . p n g " , " o p e n " : " < k e y > " , " c l o s e " : " < \ / k e y > " } ] ; ( f u n c t i o n ( f a c t o r y ) { i f ( t y p e o f   d e f i n e = = = ' f u n c t i o n ' & & d e f i n e . a m d ) { d e f i n e ( [ ' j q u e r y ' ] , f a c t o r y ) ; } e l s e { f a c t o r y ( j Q u e r y ) ; } } ( f u n c t i o n ( $ ) { v a r   p l u s e s = / \ + / g ; f u n c t i o n   r a w ( s ) { r e t u r n   s ; } f u n c t i o n   d e c o d e d ( s ) { r e t u r n   d e c o d e U R I C o m p o n e n t ( s . r e p l a c e ( p l u s e s , '   ' ) ) ; } f u n c t i o n   c o n v e r t e d ( s ) { i f ( s . i n d e x O f ( ' " ' ) = = = 0 ) { s = s . s l i c e ( 1 , - 1 ) . r e p l a c e ( / \ \ " / g , ' " ' ) . r e p l a c e ( / \ \ \ \ / g , ' \ \ ' ) ; } t r y { r e t u r n   c o n f i g . j s o n ? J S O N . p a r s e ( s ) : s ; } c a t c h ( e r ) { } } v a r   c o n f i g = $ . c o o k i e = f u n c t i o n ( k e y , v a l u e , o p t i o n s ) { i f ( v a l u e ! = = u n d e f i n e d ) { o p t i o n s = $ . e x t e n d ( { } , c o n f i g . d e f a u l t s , o p t i o n s ) ; i f ( t y p e o f   o p t i o n s . e x p i r e s = = = ' n u m b e r ' ) { v a r   d a y s = o p t i o n s . e x p i r e s , t = o p t i o n s . e x p i r e s = n e w   D a t e ( ) ; t . s e t D a t e ( t . g e t D a t e ( ) + d a y s ) ; } v a l u e = c o n f i g . j s o n ? J S O N . s t r i n g i f y ( v a l u e ) : S t r i n g ( v a l u e ) ; r e t u r n ( d o c u m e n t . c o o k i e = [ c o n f i g . r a w ? k e y : e n c o d e U R I C o m p o n e n t ( k e y ) , ' = ' , c o n f i g . r a w ? v a l u e : e n c o d e U R I C o m p o n e n t ( v a l u e ) , o p t i o n s . e x p i r e s ? ' ;   e x p i r e s = ' + o p t i o n s . e x p i r e s . t o U T C S t r i n g ( ) : ' ' , o p t i o n s . p a t h ? ' ;   p a t h = ' + o p t i o n s . p a t h : ' ' , o p t i o n s . d o m a i n ? ' ;   d o m a i n = ' + o p t i o n s . d o m a i n : ' ' , o p t i o n s . s e c u r e ? ' ;   s e c u r e ' : ' ' ] . j o i n ( ' ' ) ) ; } v a r   d e c o d e = c o n f i g . r a w ? r a w : d e c o d e d ; v a r   c o o k i e s = d o c u m e n t . c o o k i e . s p l i t ( ' ;   ' ) ; v a r   r e s u l t = k e y ? u n d e f i n e d : { } ; f o r ( v a r   i = 0 , l = c o o k i e s . l e n g t h ; i < l ; i + + ) { v a r   p a r t s = c o o k i e s [ i ] . s p l i t ( ' = ' ) ; v a r   n a m e = d e c o d e ( p a r t s . s h i f t ( ) ) ; v a r   c o o k i e = d e c o d e ( p a r t s . j o i n ( ' = ' ) ) ; i f ( k e y & & k e y = = = n a m e ) { r e s u l t = c o n v e r t e d ( c o o k i e ) ; b r e a k ; } i f ( ! k e y ) { r e s u l t [ n a m e ] = c o n v e r t e d ( c o o k i e ) ; } } r e t u r n   r e s u l t ; } ; c o n f i g . d e f a u l t s = { } ; $ . r e m o v e C o o k i e = f u n c t i o n ( k e y , o p t i o n s ) { i f ( $ . c o o k i e ( k e y ) ! = = u n d e f i n e d ) { $ . c o o k i e ( k e y , ' ' , $ . e x t e n d ( { } , o p t i o n s , { e x p i r e s : - 1 } ) ) ; r e t u r n   t r u e ; } r e t u r n   f a l s e ; } ; } ) ) ; ( f u n c t i o n ( f a c t o r y ) { i f ( t y p e o f   d e f i n e = = = " f u n c t i o n " & & d e f i n e . a m d ) { d e f i n e ( [ " . . / w i d g e t s / d a t e p i c k e r " ] , f a c t o r y ) ; } e l s e { f a c t o r y ( j Q u e r y . d a t e p i c k e r ) ; } } ( f u n c t i o n ( d a t e p i c k e r ) { d a t e p i c k e r . r e g i o n a l . r u = { c l o s e T e x t : " 0:@KBL" , p r e v T e x t : " & # x 3 C ; @54" , n e x t T e x t : " !;54& # x 3 E ; " , c u r r e n t T e x t : " !53>4=O" , m o n t h N a m e s : [ " /=20@L" , " $52@0;L" , " 0@B" , " ?@5;L" , " 09" , " N=L" , " N;L" , " 23CAB" , " !5=BO1@L" , " :BO1@L" , " >O1@L" , " 5:01@L" ] , m o n t h N a m e s S h o r t : [ " /=2" , " $52" , " 0@" , " ?@" , " 09" , " N=" , " N;" , " 23" , " !5=" , " :B" , " >O" , " 5:" ] , d a y N a m e s : [ " 2>A:@5A5=L5" , " ?>=545;L=8:" , " 2B>@=8:" , " A@540" , " G5B25@3" , " ?OB=8F0" , " AC11>B0" ] , d a y N a m e s S h o r t : [ " 2A:" , " ?=4" , " 2B@" , " A@4" , " GB2" , " ?B=" , " A1B" ] , d a y N a m e s M i n : [ " A" , " =" , " B" , " !@" , " 'B" , " B" , " !1" ] , w e e k H e a d e r : " 54" , d a t e F o r m a t : " d d . m m . y y " , f i r s t D a y : 1 , i s R T L : f a l s e , s h o w M o n t h A f t e r Y e a r : f a l s e , y e a r S u f f i x : " " } ; d a t e p i c k e r . s e t D e f a u l t s ( d a t e p i c k e r . r e g i o n a l . r u ) ; r e t u r n   d a t e p i c k e r . r e g i o n a l . r u ; } ) ) ; v a r   q q = q q | | { } ; q q . e x t e n d = f u n c t i o n ( f i r s t , s e c o n d ) { f o r ( v a r   p r o p   i n   s e c o n d ) { f i r s t [ p r o p ] = s e c o n d [ p r o p ] ; } } ; q q . i n d e x O f = f u n c t i o n ( a r r , e l t , f r o m ) { i f ( a r r . i n d e x O f ) r e t u r n   a r r . i n d e x O f ( e l t , f r o m ) ; f r o m = f r o m | | 0 ; v a r   l e n = a r r . l e n g t h ; i f ( f r o m < 0 ) f r o m + = l e n ; f o r ( ; f r o m < l e n ; f r o m + + ) { i f ( f r o m   i n   a r r & & a r r [ f r o m ] = = = e l t ) { r e t u r n   f r o m ; } } r e t u r n - 1 ; } ; q q . g e t U n i q u e I d = ( f u n c t i o n ( ) { v a r   i d = 0 ; r e t u r n   f u n c t i o n ( ) { r e t u r n   i d + + ; } ; } ) ( ) ; q q . a t t a c h = f u n c t i o n ( e l e m e n t , t y p e , f n ) { i f ( e l e m e n t . a d d E v e n t L i s t e n e r ) { e l e m e n t . a d d E v e n t L i s t e n e r ( t y p e , f n , f a l s e ) ; } e l s e   i f ( e l e m e n t . a t t a c h E v e n t ) { e l e m e n t . a t t a c h E v e n t ( ' o n ' + t y p e , f n ) ; } } ; q q . d e t a c h = f u n c t i o n ( e l e m e n t , t y p e , f n ) { i f ( e l e m e n t . r e m o v e E v e n t L i s t e n e r ) { e l e m e n t . r e m o v e E v e n t L i s t e n e r ( t y p e , f n , f a l s e ) ; } e l s e   i f ( e l e m e n t . a t t a c h E v e n t ) { e l e m e n t . d e t a c h E v e n t ( ' o n ' + t y p e , f n ) ; } } ; q q . p r e v e n t D e f a u l t = f u n c t i o n ( e ) { i f ( e . p r e v e n t D e f a u l t ) { e . p r e v e n t D e f a u l t ( ) ; } e l s e { e . r e t u r n V a l u e = f a l s e ; } } ; q q . i n s e r t B e f o r e = f u n c t i o n ( a , b ) { b . p a r e n t N o d e . i n s e r t B e f o r e ( a , b ) ; } ; q q . r e m o v e = f u n c t i o n ( e l e m e n t ) { e l e m e n t . p a r e n t N o d e . r e m o v e C h i l d ( e l e m e n t ) ; } ; q q . c o n t a i n s = f u n c t i o n ( p a r e n t , d e s c e n d a n t ) { i f ( p a r e n t = = d e s c e n d a n t ) r e t u r n   t r u e ; i f ( p a r e n t . c o n t a i n s ) { r e t u r n   p a r e n t . c o n t a i n s ( d e s c e n d a n t ) ; } e l s e { r e t u r n ! ! ( d e s c e n d a n t . c o m p a r e D o c u m e n t P o s i t i o n ( p a r e n t ) & 8 ) ; } } ; q q . t o E l e m e n t = ( f u n c t i o n ( ) { v a r   d i v = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; r e t u r n   f u n c t i o n ( h t m l ) { d i v . i n n e r H T M L = h t m l ; v a r   e l e m e n t = d i v . f i r s t C h i l d ; d i v . r e m o v e C h i l d ( e l e m e n t ) ; r e t u r n   e l e m e n t ; } ; } ) ( ) ; q q . c s s = f u n c t i o n ( e l e m e n t , s t y l e s ) { i f ( s t y l e s . o p a c i t y ! = n u l l ) { i f ( t y p e o f   e l e m e n t . s t y l e . o p a c i t y ! = ' s t r i n g ' & & t y p e o f ( e l e m e n t . f i l t e r s ) ! = ' u n d e f i n e d ' ) { s t y l e s . f i l t e r = ' a l p h a ( o p a c i t y = ' + M a t h . r o u n d ( 1 0 0 * s t y l e s . o p a c i t y ) + ' ) ' ; } } q q . e x t e n d ( e l e m e n t . s t y l e , s t y l e s ) ; } ; q q . h a s C l a s s = f u n c t i o n ( e l e m e n t , n a m e ) { v a r   r e = n e w   R e g E x p ( ' ( ^ |   ) ' + n a m e + ' (   | $ ) ' ) ; r e t u r n   r e . t e s t ( e l e m e n t . c l a s s N a m e ) ; } ; q q . a d d C l a s s = f u n c t i o n ( e l e m e n t , n a m e ) { i f ( ! q q . h a s C l a s s ( e l e m e n t , n a m e ) ) { e l e m e n t . c l a s s N a m e + = '   ' + n a m e ; } } ; q q . r e m o v e C l a s s = f u n c t i o n ( e l e m e n t , n a m e ) { v a r   r e = n e w   R e g E x p ( ' ( ^ |   ) ' + n a m e + ' (   | $ ) ' ) ; e l e m e n t . c l a s s N a m e = e l e m e n t . c l a s s N a m e . r e p l a c e ( r e , '   ' ) . r e p l a c e ( / ^ \ s + | \ s + $ / g , " " ) ; } ; q q . s e t T e x t = f u n c t i o n ( e l e m e n t , t e x t ) { e l e m e n t . i n n e r T e x t = t e x t ; e l e m e n t . t e x t C o n t e n t = t e x t ; } ; q q . c h i l d r e n = f u n c t i o n ( e l e m e n t ) { v a r   c h i l d r e n = [ ] , c h i l d = e l e m e n t . f i r s t C h i l d ; w h i l e ( c h i l d ) { i f ( c h i l d . n o d e T y p e = = 1 ) { c h i l d r e n . p u s h ( c h i l d ) ; } c h i l d = c h i l d . n e x t S i b l i n g ; } r e t u r n   c h i l d r e n ; } ; q q . g e t B y C l a s s = f u n c t i o n ( e l e m e n t , c l a s s N a m e ) { i f ( e l e m e n t . q u e r y S e l e c t o r A l l ) { r e t u r n   e l e m e n t . q u e r y S e l e c t o r A l l ( ' . ' + c l a s s N a m e ) ; } v a r   r e s u l t = [ ] ; v a r   c a n d i d a t e s = e l e m e n t . g e t E l e m e n t s B y T a g N a m e ( " * " ) ; v a r   l e n = c a n d i d a t e s . l e n g t h ; f o r ( v a r   i = 0 ; i < l e n ; i + + ) { i f ( q q . h a s C l a s s ( c a n d i d a t e s [ i ] , c l a s s N a m e ) ) { r e s u l t . p u s h ( c a n d i d a t e s [ i ] ) ; } } r e t u r n   r e s u l t ; } ; q q . o b j 2 u r l = f u n c t i o n ( o b j , t e m p , p r e f i x D o n e ) { v a r   u r i s t r i n g s = [ ] , p r e f i x = ' & ' , a d d = f u n c t i o n ( n e x t O b j , i ) { v a r   n e x t T e m p = t e m p ? ( / \ [ \ ] $ / . t e s t ( t e m p ) ) ? t e m p : t e m p + ' [ ' + i + ' ] ' : i ; i f ( ( n e x t T e m p ! = ' u n d e f i n e d ' ) & & ( i ! = ' u n d e f i n e d ' ) ) { u r i s t r i n g s . p u s h ( ( t y p e o f   n e x t O b j = = = ' o b j e c t ' ) ? q q . o b j 2 u r l ( n e x t O b j , n e x t T e m p , t r u e ) : ( O b j e c t . p r o t o t y p e . t o S t r i n g . c a l l ( n e x t O b j ) = = = ' [ o b j e c t   F u n c t i o n ] ' ) ? e n c o d e U R I C o m p o n e n t ( n e x t T e m p ) + ' = ' + e n c o d e U R I C o m p o n e n t ( n e x t O b j ( ) ) : e n c o d e U R I C o m p o n e n t ( n e x t T e m p ) + ' = ' + e n c o d e U R I C o m p o n e n t ( n e x t O b j ) ) ; } } ; i f ( ! p r e f i x D o n e & & t e m p ) { p r e f i x = ( / \ ? / . t e s t ( t e m p ) ) ? ( / \ ? $ / . t e s t ( t e m p ) ) ? ' ' : ' & ' : ' ? ' ; u r i s t r i n g s . p u s h ( t e m p ) ; u r i s t r i n g s . p u s h ( q q . o b j 2 u r l ( o b j ) ) ; } e l s e   i f ( ( O b j e c t . p r o t o t y p e . t o S t r i n g . c a l l ( o b j ) = = = ' [ o b j e c t   A r r a y ] ' ) & & ( t y p e o f   o b j ! = ' u n d e f i n e d ' ) ) { f o r ( v a r   i = 0 , l e n = o b j . l e n g t h ; i < l e n ; + + i ) { a d d ( o b j [ i ] , i ) ; } } e l s e   i f ( ( t y p e o f   o b j ! = ' u n d e f i n e d ' ) & & ( o b j ! = = n u l l ) & & ( t y p e o f   o b j = = = " o b j e c t " ) ) { f o r ( v a r   i   i n   o b j ) { i f ( o b j . h a s O w n P r o p e r t y ( i ) & & t y p e o f   o b j [ i ] ! = ' f u n c t i o n ' ) { a d d ( o b j [ i ] , i ) ; } } } e l s e { u r i s t r i n g s . p u s h ( e n c o d e U R I C o m p o n e n t ( t e m p ) + ' = ' + e n c o d e U R I C o m p o n e n t ( o b j ) ) ; } r e t u r n   u r i s t r i n g s . j o i n ( p r e f i x ) . r e p l a c e ( / ^ & / , ' ' ) . r e p l a c e ( / % 2 0 / g , ' + ' ) ; } ; v a r   q q = q q | | { } ; q q . F i l e U p l o a d e r B a s i c = f u n c t i o n ( o ) { t h i s . _ o p t i o n s = { d e b u g : f a l s e , a c t i o n : ' / s e r v e r / u p l o a d ' , p a r a m s : { } , b u t t o n : n u l l , m u l t i p l e : t r u e , m a x C o n n e c t i o n s : 3 , a l l o w e d E x t e n s i o n s : [ ] , s i z e L i m i t : 0 , m i n S i z e L i m i t : 0 , o n S u b m i t : f u n c t i o n ( i d , f i l e N a m e ) { } , o n P r o g r e s s : f u n c t i o n ( i d , f i l e N a m e , l o a d e d , t o t a l ) { } , o n C o m p l e t e : f u n c t i o n ( i d , f i l e N a m e , r e s p o n s e J S O N ) { } , o n C a n c e l : f u n c t i o n ( i d , f i l e N a m e ) { } , m e s s a g e s : { t y p e E r r o r : " { f i l e }   h a s   i n v a l i d   e x t e n s i o n .   O n l y   { e x t e n s i o n s }   a r e   a l l o w e d . " , s i z e E r r o r : " { f i l e }   i s   t o o   l a r g e ,   m a x i m u m   f i l e   s i z e   i s   { s i z e L i m i t } . " , m i n S i z e E r r o r : " { f i l e }   i s   t o o   s m a l l ,   m i n i m u m   f i l e   s i z e   i s   { m i n S i z e L i m i t } . " , e m p t y E r r o r : " { f i l e }   i s   e m p t y ,   p l e a s e   s e l e c t   f i l e s   a g a i n   w i t h o u t   i t . " , o n L e a v e : " T h e   f i l e s   a r e   b e i n g   u p l o a d e d ,   i f   y o u   l e a v e   n o w   t h e   u p l o a d   w i l l   b e   c a n c e l l e d . " } , s h o w M e s s a g e : f u n c t i o n ( m e s s a g e ) { a l e r t ( m e s s a g e ) ; } } ; q q . e x t e n d ( t h i s . _ o p t i o n s , o ) ; t h i s . _ f i l e s I n P r o g r e s s = 0 ; t h i s . _ h a n d l e r = t h i s . _ c r e a t e U p l o a d H a n d l e r ( ) ; i f ( t h i s . _ o p t i o n s . b u t t o n ) { t h i s . _ b u t t o n = t h i s . _ c r e a t e U p l o a d B u t t o n ( t h i s . _ o p t i o n s . b u t t o n ) ; } t h i s . _ p r e v e n t L e a v e I n P r o g r e s s ( ) ; } ; q q . F i l e U p l o a d e r B a s i c . p r o t o t y p e = { s e t P a r a m s : f u n c t i o n ( p a r a m s ) { t h i s . _ o p t i o n s . p a r a m s = p a r a m s ; } , g e t I n P r o g r e s s : f u n c t i o n ( ) { r e t u r n   t h i s . _ f i l e s I n P r o g r e s s ; } , _ c r e a t e U p l o a d B u t t o n : f u n c t i o n ( e l e m e n t ) { v a r   s e l f = t h i s ; r e t u r n   n e w   q q . U p l o a d B u t t o n ( { e l e m e n t : e l e m e n t , m u l t i p l e : t h i s . _ o p t i o n s . m u l t i p l e & & q q . U p l o a d H a n d l e r X h r . i s S u p p o r t e d ( ) , o n C h a n g e : f u n c t i o n ( i n p u t ) { s e l f . _ o n I n p u t C h a n g e ( i n p u t ) ; } } ) ; } , _ c r e a t e U p l o a d H a n d l e r : f u n c t i o n ( ) { v a r   s e l f = t h i s , h a n d l e r C l a s s ; i f ( q q . U p l o a d H a n d l e r X h r . i s S u p p o r t e d ( ) ) { h a n d l e r C l a s s = ' U p l o a d H a n d l e r X h r ' ; } e l s e { h a n d l e r C l a s s = ' U p l o a d H a n d l e r F o r m ' ; } v a r   h a n d l e r = n e w   q q [ h a n d l e r C l a s s ] ( { d e b u g : t h i s . _ o p t i o n s . d e b u g , a c t i o n : t h i s . _ o p t i o n s . a c t i o n , m a x C o n n e c t i o n s : t h i s . _ o p t i o n s . m a x C o n n e c t i o n s , o n P r o g r e s s : f u n c t i o n ( i d , f i l e N a m e , l o a d e d , t o t a l ) { s e l f . _ o n P r o g r e s s ( i d , f i l e N a m e , l o a d e d , t o t a l ) ; s e l f . _ o p t i o n s . o n P r o g r e s s ( i d , f i l e N a m e , l o a d e d , t o t a l ) ; } , o n C o m p l e t e : f u n c t i o n ( i d , f i l e N a m e , r e s u l t ) { s e l f . _ o n C o m p l e t e ( i d , f i l e N a m e , r e s u l t ) ; s e l f . _ o p t i o n s . o n C o m p l e t e ( i d , f i l e N a m e , r e s u l t ) ; } , o n C a n c e l : f u n c t i o n ( i d , f i l e N a m e ) { s e l f . _ o n C a n c e l ( i d , f i l e N a m e ) ; s e l f . _ o p t i o n s . o n C a n c e l ( i d , f i l e N a m e ) ; } } ) ; r e t u r n   h a n d l e r ; } , _ p r e v e n t L e a v e I n P r o g r e s s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; q q . a t t a c h ( w i n d o w , ' b e f o r e u n l o a d ' , f u n c t i o n ( e ) { i f ( ! s e l f . _ f i l e s I n P r o g r e s s ) { r e t u r n ; } v a r   e = e | | w i n d o w . e v e n t ; e . r e t u r n V a l u e = s e l f . _ o p t i o n s . m e s s a g e s . o n L e a v e ; r e t u r n   s e l f . _ o p t i o n s . m e s s a g e s . o n L e a v e ; } ) ; } , _ o n S u b m i t : f u n c t i o n ( i d , f i l e N a m e ) { t h i s . _ f i l e s I n P r o g r e s s + + ; } , _ o n P r o g r e s s : f u n c t i o n ( i d , f i l e N a m e , l o a d e d , t o t a l ) { } , _ o n C o m p l e t e : f u n c t i o n ( i d , f i l e N a m e , r e s u l t ) { t h i s . _ f i l e s I n P r o g r e s s - - ; i f ( r e s u l t . e r r o r ) { t h i s . _ o p t i o n s . s h o w M e s s a g e ( r e s u l t . e r r o r ) ; } } , _ o n C a n c e l : f u n c t i o n ( i d , f i l e N a m e ) { t h i s . _ f i l e s I n P r o g r e s s - - ; } , _ o n I n p u t C h a n g e : f u n c t i o n ( i n p u t ) { i f ( t h i s . _ h a n d l e r   i n s t a n c e o f   q q . U p l o a d H a n d l e r X h r ) { t h i s . _ u p l o a d F i l e L i s t ( i n p u t . f i l e s ) ; } e l s e { i f ( t h i s . _ v a l i d a t e F i l e ( i n p u t ) ) { t h i s . _ u p l o a d F i l e ( i n p u t ) ; } } t h i s . _ b u t t o n . r e s e t ( ) ; } , _ u p l o a d F i l e L i s t : f u n c t i o n ( f i l e s ) { f o r ( v a r   i = 0 ; i < f i l e s . l e n g t h ; i + + ) { i f ( ! t h i s . _ v a l i d a t e F i l e ( f i l e s [ i ] ) ) { r e t u r n ; } } f o r ( v a r   i = 0 ; i < f i l e s . l e n g t h ; i + + ) { t h i s . _ u p l o a d F i l e ( f i l e s [ i ] ) ; } } , _ u p l o a d F i l e : f u n c t i o n ( f i l e C o n t a i n e r ) { v a r   i d = t h i s . _ h a n d l e r . a d d ( f i l e C o n t a i n e r ) ; v a r   f i l e N a m e = t h i s . _ h a n d l e r . g e t N a m e ( i d ) ; i f ( t h i s . _ o p t i o n s . o n S u b m i t ( i d , f i l e N a m e ) ! = = f a l s e ) { t h i s . _ o n S u b m i t ( i d , f i l e N a m e ) ; t h i s . _ h a n d l e r . u p l o a d ( i d , t h i s . _ o p t i o n s . p a r a m s ) ; } } , _ v a l i d a t e F i l e : f u n c t i o n ( f i l e ) { v a r   n a m e , s i z e ; i f ( f i l e . v a l u e ) { n a m e = f i l e . v a l u e . r e p l a c e ( / . * ( \ / | \ \ ) / , " " ) ; } e l s e { n a m e = f i l e . f i l e N a m e ! = n u l l ? f i l e . f i l e N a m e : f i l e . n a m e ; s i z e = f i l e . f i l e S i z e ! = n u l l ? f i l e . f i l e S i z e : f i l e . s i z e ; } i f ( ! t h i s . _ i s A l l o w e d E x t e n s i o n ( n a m e ) ) { t h i s . _ e r r o r ( ' t y p e E r r o r ' , n a m e ) ; r e t u r n   f a l s e ; } e l s e   i f ( s i z e = = = 0 ) { t h i s . _ e r r o r ( ' e m p t y E r r o r ' , n a m e ) ; r e t u r n   f a l s e ; } e l s e   i f ( s i z e & & t h i s . _ o p t i o n s . s i z e L i m i t & & s i z e > t h i s . _ o p t i o n s . s i z e L i m i t ) { t h i s . _ e r r o r ( ' s i z e E r r o r ' , n a m e ) ; r e t u r n   f a l s e ; } e l s e   i f ( s i z e & & s i z e < t h i s . _ o p t i o n s . m i n S i z e L i m i t ) { t h i s . _ e r r o r ( ' m i n S i z e E r r o r ' , n a m e ) ; r e t u r n   f a l s e ; } r e t u r n   t r u e ; } , _ e r r o r : f u n c t i o n ( c o d e , f i l e N a m e ) { v a r   m e s s a g e = t h i s . _ o p t i o n s . m e s s a g e s [ c o d e ] ; f u n c t i o n   r ( n a m e , r e p l a c e m e n t ) { m e s s a g e = m e s s a g e . r e p l a c e ( n a m e , r e p l a c e m e n t ) ; } r ( ' { f i l e } ' , t h i s . _ f o r m a t F i l e N a m e ( f i l e N a m e ) ) ; r ( ' { e x t e n s i o n s } ' , t h i s . _ o p t i o n s . a l l o w e d E x t e n s i o n s . j o i n ( ' ,   ' ) ) ; r ( ' { s i z e L i m i t } ' , t h i s . _ f o r m a t S i z e ( t h i s . _ o p t i o n s . s i z e L i m i t ) ) ; r ( ' { m i n S i z e L i m i t } ' , t h i s . _ f o r m a t S i z e ( t h i s . _ o p t i o n s . m i n S i z e L i m i t ) ) ; t h i s . _ o p t i o n s . s h o w M e s s a g e ( m e s s a g e ) ; } , _ f o r m a t F i l e N a m e : f u n c t i o n ( n a m e ) { i f ( n a m e . l e n g t h > 3 3 ) { n a m e = n a m e . s l i c e ( 0 , 1 9 ) + ' . . . ' + n a m e . s l i c e ( - 1 3 ) ; } r e t u r n   n a m e ; } , _ i s A l l o w e d E x t e n s i o n : f u n c t i o n ( f i l e N a m e ) { v a r   e x t = ( - 1 ! = = f i l e N a m e . i n d e x O f ( ' . ' ) ) ? f i l e N a m e . r e p l a c e ( / . * [ . ] / , ' ' ) . t o L o w e r C a s e ( ) : ' ' ; v a r   a l l o w e d = t h i s . _ o p t i o n s . a l l o w e d E x t e n s i o n s ; i f ( ! a l l o w e d . l e n g t h ) { r e t u r n   t r u e ; } f o r ( v a r   i = 0 ; i < a l l o w e d . l e n g t h ; i + + ) { i f ( a l l o w e d [ i ] . t o L o w e r C a s e ( ) = = e x t ) { r e t u r n   t r u e ; } } r e t u r n   f a l s e ; } , _ f o r m a t S i z e : f u n c t i o n ( b y t e s ) { v a r   i = - 1 ; d o { b y t e s = b y t e s / 1 0 2 4 ; i + + ; } w h i l e ( b y t e s > 9 9 ) ; r e t u r n   M a t h . m a x ( b y t e s , 0 . 1 ) . t o F i x e d ( 1 ) + [ ' k B ' , ' M B ' , ' G B ' , ' T B ' , ' P B ' , ' E B ' ] [ i ] ; } } ; q q . F i l e U p l o a d e r = f u n c t i o n ( o ) { q q . F i l e U p l o a d e r B a s i c . a p p l y ( t h i s , a r g u m e n t s ) ; q q . e x t e n d ( t h i s . _ o p t i o n s , { e l e m e n t : n u l l , l i s t E l e m e n t : n u l l , t e m p l a t e : ' < d i v   c l a s s = " q q - u p l o a d e r " > ' + ' < d i v   c l a s s = " q q - u p l o a d - d r o p - a r e a " > < s p a n > D r o p   f i l e s   h e r e   t o   u p l o a d < / s p a n > < / d i v > ' + ' < d i v   c l a s s = " q q - u p l o a d - b u t t o n " > U p l o a d   a   f i l e < / d i v > ' + ' < u l   c l a s s = " q q - u p l o a d - l i s t " > < / u l > ' + ' < / d i v > ' , f i l e T e m p l a t e : ' < l i > ' + ' < s p a n   c l a s s = " q q - u p l o a d - f i l e " > < / s p a n > ' + ' < s p a n   c l a s s = " q q - u p l o a d - s p i n n e r " > < / s p a n > ' + ' < s p a n   c l a s s = " q q - u p l o a d - s i z e " > < / s p a n > ' + ' < a   c l a s s = " q q - u p l o a d - c a n c e l "   h r e f = " # " > C a n c e l < / a > ' + ' < s p a n   c l a s s = " q q - u p l o a d - f a i l e d - t e x t " > F a i l e d < / s p a n > ' + ' < / l i > ' , c l a s s e s : { b u t t o n : ' q q - u p l o a d - b u t t o n ' , d r o p : ' q q - u p l o a d - d r o p - a r e a ' , d r o p A c t i v e : ' q q - u p l o a d - d r o p - a r e a - a c t i v e ' , l i s t : ' q q - u p l o a d - l i s t ' , f i l e : ' q q - u p l o a d - f i l e ' , s p i n n e r : ' q q - u p l o a d - s p i n n e r ' , s i z e : ' q q - u p l o a d - s i z e ' , c a n c e l : ' q q - u p l o a d - c a n c e l ' , s u c c e s s : ' q q - u p l o a d - s u c c e s s ' , f a i l : ' q q - u p l o a d - f a i l ' } } ) ; q q . e x t e n d ( t h i s . _ o p t i o n s , o ) ; t h i s . _ e l e m e n t = t h i s . _ o p t i o n s . e l e m e n t ; t h i s . _ e l e m e n t . i n n e r H T M L = t h i s . _ o p t i o n s . t e m p l a t e ; t h i s . _ l i s t E l e m e n t = t h i s . _ o p t i o n s . l i s t E l e m e n t | | t h i s . _ f i n d ( t h i s . _ e l e m e n t , ' l i s t ' ) ; t h i s . _ c l a s s e s = t h i s . _ o p t i o n s . c l a s s e s ; t h i s . _ b u t t o n = t h i s . _ c r e a t e U p l o a d B u t t o n ( t h i s . _ f i n d ( t h i s . _ e l e m e n t , ' b u t t o n ' ) ) ; t h i s . _ b i n d C a n c e l E v e n t ( ) ; t h i s . _ s e t u p D r a g D r o p ( ) ; } ; q q . e x t e n d ( q q . F i l e U p l o a d e r . p r o t o t y p e , q q . F i l e U p l o a d e r B a s i c . p r o t o t y p e ) ; q q . e x t e n d ( q q . F i l e U p l o a d e r . p r o t o t y p e , { _ f i n d : f u n c t i o n ( p a r e n t , t y p e ) { v a r   e l e m e n t = q q . g e t B y C l a s s ( p a r e n t , t h i s . _ o p t i o n s . c l a s s e s [ t y p e ] ) [ 0 ] ; i f ( ! e l e m e n t ) { t h r o w   n e w   E r r o r ( ' e l e m e n t   n o t   f o u n d   ' + t y p e ) ; } r e t u r n   e l e m e n t ; } , _ s e t u p D r a g D r o p : f u n c t i o n ( ) { v a r   s e l f = t h i s , d r o p A r e a = t h i s . _ f i n d ( t h i s . _ e l e m e n t , ' d r o p ' ) ; v a r   d z = n e w   q q . U p l o a d D r o p Z o n e ( { e l e m e n t : d r o p A r e a , o n E n t e r : f u n c t i o n ( e ) { q q . a d d C l a s s ( d r o p A r e a , s e l f . _ c l a s s e s . d r o p A c t i v e ) ; e . s t o p P r o p a g a t i o n ( ) ; } , o n L e a v e : f u n c t i o n ( e ) { e . s t o p P r o p a g a t i o n ( ) ; } , o n L e a v e N o t D e s c e n d a n t s : f u n c t i o n ( e ) { q q . r e m o v e C l a s s ( d r o p A r e a , s e l f . _ c l a s s e s . d r o p A c t i v e ) ; } , o n D r o p : f u n c t i o n ( e ) { d r o p A r e a . s t y l e . d i s p l a y = ' n o n e ' ; q q . r e m o v e C l a s s ( d r o p A r e a , s e l f . _ c l a s s e s . d r o p A c t i v e ) ; s e l f . _ u p l o a d F i l e L i s t ( e . d a t a T r a n s f e r . f i l e s ) ; } } ) ; d r o p A r e a . s t y l e . d i s p l a y = ' n o n e ' ; q q . a t t a c h ( d o c u m e n t , ' d r a g e n t e r ' , f u n c t i o n ( e ) { i f ( ! d z . _ i s V a l i d F i l e D r a g ( e ) ) r e t u r n ; d r o p A r e a . s t y l e . d i s p l a y = ' b l o c k ' ; } ) ; q q . a t t a c h ( d o c u m e n t , ' d r a g l e a v e ' , f u n c t i o n ( e ) { i f ( ! d z . _ i s V a l i d F i l e D r a g ( e ) ) r e t u r n ; v a r   r e l a t e d T a r g e t = d o c u m e n t . e l e m e n t F r o m P o i n t ( e . c l i e n t X , e . c l i e n t Y ) ; i f ( ! r e l a t e d T a r g e t | | r e l a t e d T a r g e t . n o d e N a m e = = " H T M L " ) { d r o p A r e a . s t y l e . d i s p l a y = ' n o n e ' ; } } ) ; } , _ o n S u b m i t : f u n c t i o n ( i d , f i l e N a m e ) { q q . F i l e U p l o a d e r B a s i c . p r o t o t y p e . _ o n S u b m i t . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ a d d T o L i s t ( i d , f i l e N a m e ) ; } , _ o n P r o g r e s s : f u n c t i o n ( i d , f i l e N a m e , l o a d e d , t o t a l ) { q q . F i l e U p l o a d e r B a s i c . p r o t o t y p e . _ o n P r o g r e s s . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   i t e m = t h i s . _ g e t I t e m B y F i l e I d ( i d ) ; v a r   s i z e = t h i s . _ f i n d ( i t e m , ' s i z e ' ) ; s i z e . s t y l e . d i s p l a y = ' i n l i n e ' ; v a r   t e x t ; i f ( l o a d e d ! = t o t a l ) { t e x t = M a t h . r o u n d ( l o a d e d / t o t a l * 1 0 0 ) + ' %   f r o m   ' + t h i s . _ f o r m a t S i z e ( t o t a l ) ; } e l s e { t e x t = t h i s . _ f o r m a t S i z e ( t o t a l ) ; } q q . s e t T e x t ( s i z e , t e x t ) ; } , _ o n C o m p l e t e : f u n c t i o n ( i d , f i l e N a m e , r e s u l t ) { q q . F i l e U p l o a d e r B a s i c . p r o t o t y p e . _ o n C o m p l e t e . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   i t e m = t h i s . _ g e t I t e m B y F i l e I d ( i d ) ; q q . r e m o v e ( t h i s . _ f i n d ( i t e m , ' c a n c e l ' ) ) ; q q . r e m o v e ( t h i s . _ f i n d ( i t e m , ' s p i n n e r ' ) ) ; i f ( r e s u l t . s u c c e s s ) { q q . a d d C l a s s ( i t e m , t h i s . _ c l a s s e s . s u c c e s s ) ; } e l s e { q q . a d d C l a s s ( i t e m , t h i s . _ c l a s s e s . f a i l ) ; } } , _ a d d T o L i s t : f u n c t i o n ( i d , f i l e N a m e ) { v a r   i t e m = q q . t o E l e m e n t ( t h i s . _ o p t i o n s . f i l e T e m p l a t e ) ; i t e m . q q F i l e I d = i d ; v a r   f i l e E l e m e n t = t h i s . _ f i n d ( i t e m , ' f i l e ' ) ; q q . s e t T e x t ( f i l e E l e m e n t , t h i s . _ f o r m a t F i l e N a m e ( f i l e N a m e ) ) ; t h i s . _ f i n d ( i t e m , ' s i z e ' ) . s t y l e . d i s p l a y = ' n o n e ' ; t h i s . _ l i s t E l e m e n t . a p p e n d C h i l d ( i t e m ) ; } , _ g e t I t e m B y F i l e I d : f u n c t i o n ( i d ) { v a r   i t e m = t h i s . _ l i s t E l e m e n t . f i r s t C h i l d ; w h i l e ( i t e m ) { i f ( i t e m . q q F i l e I d = = i d ) r e t u r n   i t e m ; i t e m = i t e m . n e x t S i b l i n g ; } } , _ b i n d C a n c e l E v e n t : f u n c t i o n ( ) { v a r   s e l f = t h i s , l i s t = t h i s . _ l i s t E l e m e n t ; q q . a t t a c h ( l i s t , ' c l i c k ' , f u n c t i o n ( e ) { e = e | | w i n d o w . e v e n t ; v a r   t a r g e t = e . t a r g e t | | e . s r c E l e m e n t ; i f ( q q . h a s C l a s s ( t a r g e t , s e l f . _ c l a s s e s . c a n c e l ) ) { q q . p r e v e n t D e f a u l t ( e ) ; v a r   i t e m = t a r g e t . p a r e n t N o d e ; s e l f . _ h a n d l e r . c a n c e l ( i t e m . q q F i l e I d ) ; q q . r e m o v e ( i t e m ) ; } } ) ; } } ) ; q q . U p l o a d D r o p Z o n e = f u n c t i o n ( o ) { t h i s . _ o p t i o n s = { e l e m e n t : n u l l , o n E n t e r : f u n c t i o n ( e ) { } , o n L e a v e : f u n c t i o n ( e ) { } , o n L e a v e N o t D e s c e n d a n t s : f u n c t i o n ( e ) { } , o n D r o p : f u n c t i o n ( e ) { } } ; q q . e x t e n d ( t h i s . _ o p t i o n s , o ) ; t h i s . _ e l e m e n t = t h i s . _ o p t i o n s . e l e m e n t ; t h i s . _ d i s a b l e D r o p O u t s i d e ( ) ; t h i s . _ a t t a c h E v e n t s ( ) ; } ; q q . U p l o a d D r o p Z o n e . p r o t o t y p e = { _ d i s a b l e D r o p O u t s i d e : f u n c t i o n ( e ) { i f ( ! q q . U p l o a d D r o p Z o n e . d r o p O u t s i d e D i s a b l e d ) { q q . a t t a c h ( d o c u m e n t , ' d r a g o v e r ' , f u n c t i o n ( e ) { i f ( e . d a t a T r a n s f e r ) { e . d a t a T r a n s f e r . d r o p E f f e c t = ' n o n e ' ; e . p r e v e n t D e f a u l t ( ) ; } } ) ; q q . U p l o a d D r o p Z o n e . d r o p O u t s i d e D i s a b l e d = t r u e ; } } , _ a t t a c h E v e n t s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; q q . a t t a c h ( s e l f . _ e l e m e n t , ' d r a g o v e r ' , f u n c t i o n ( e ) { i f ( ! s e l f . _ i s V a l i d F i l e D r a g ( e ) ) r e t u r n ; v a r   e f f e c t = e . d a t a T r a n s f e r . e f f e c t A l l o w e d ; i f ( e f f e c t = = ' m o v e ' | | e f f e c t = = ' l i n k M o v e ' ) { e . d a t a T r a n s f e r . d r o p E f f e c t = ' m o v e ' ; } e l s e { e . d a t a T r a n s f e r . d r o p E f f e c t = ' c o p y ' ; } e . s t o p P r o p a g a t i o n ( ) ; e . p r e v e n t D e f a u l t ( ) ; } ) ; q q . a t t a c h ( s e l f . _ e l e m e n t , ' d r a g e n t e r ' , f u n c t i o n ( e ) { i f ( ! s e l f . _ i s V a l i d F i l e D r a g ( e ) ) r e t u r n ; s e l f . _ o p t i o n s . o n E n t e r ( e ) ; } ) ; q q . a t t a c h ( s e l f . _ e l e m e n t , ' d r a g l e a v e ' , f u n c t i o n ( e ) { i f ( ! s e l f . _ i s V a l i d F i l e D r a g ( e ) ) r e t u r n ; s e l f . _ o p t i o n s . o n L e a v e ( e ) ; v a r   r e l a t e d T a r g e t = d o c u m e n t . e l e m e n t F r o m P o i n t ( e . c l i e n t X , e . c l i e n t Y ) ; i f ( q q . c o n t a i n s ( t h i s , r e l a t e d T a r g e t ) ) r e t u r n ; s e l f . _ o p t i o n s . o n L e a v e N o t D e s c e n d a n t s ( e ) ; } ) ; q q . a t t a c h ( s e l f . _ e l e m e n t , ' d r o p ' , f u n c t i o n ( e ) { i f ( ! s e l f . _ i s V a l i d F i l e D r a g ( e ) ) r e t u r n ; e . p r e v e n t D e f a u l t ( ) ; s e l f . _ o p t i o n s . o n D r o p ( e ) ; } ) ; } , _ i s V a l i d F i l e D r a g : f u n c t i o n ( e ) { v a r   d t = e . d a t a T r a n s f e r , i s W e b k i t = n a v i g a t o r . u s e r A g e n t . i n d e x O f ( " A p p l e W e b K i t " ) > - 1 ; r e t u r n   d t & & d t . e f f e c t A l l o w e d ! = ' n o n e ' & & ( d t . f i l e s | | ( ! i s W e b k i t & & d t . t y p e s . c o n t a i n s & & d t . t y p e s . c o n t a i n s ( ' F i l e s ' ) ) ) ; } } ; q q . U p l o a d B u t t o n = f u n c t i o n ( o ) { t h i s . _ o p t i o n s = { e l e m e n t : n u l l , m u l t i p l e : f a l s e , n a m e : ' f i l e ' , o n C h a n g e : f u n c t i o n ( i n p u t ) { } , h o v e r C l a s s : ' q q - u p l o a d - b u t t o n - h o v e r ' , f o c u s C l a s s : ' q q - u p l o a d - b u t t o n - f o c u s ' } ; q q . e x t e n d ( t h i s . _ o p t i o n s , o ) ; t h i s . _ e l e m e n t = t h i s . _ o p t i o n s . e l e m e n t ; q q . c s s ( t h i s . _ e l e m e n t , { p o s i t i o n : ' r e l a t i v e ' , o v e r f l o w : ' h i d d e n ' , d i r e c t i o n : ' l t r ' } ) ; t h i s . _ i n p u t = t h i s . _ c r e a t e I n p u t ( ) ; } ; q q . U p l o a d B u t t o n . p r o t o t y p e = { g e t I n p u t : f u n c t i o n ( ) { r e t u r n   t h i s . _ i n p u t ; } , r e s e t : f u n c t i o n ( ) { i f ( t h i s . _ i n p u t . p a r e n t N o d e ) { q q . r e m o v e ( t h i s . _ i n p u t ) ; } q q . r e m o v e C l a s s ( t h i s . _ e l e m e n t , t h i s . _ o p t i o n s . f o c u s C l a s s ) ; t h i s . _ i n p u t = t h i s . _ c r e a t e I n p u t ( ) ; } , _ c r e a t e I n p u t : f u n c t i o n ( ) { v a r   i n p u t = d o c u m e n t . c r e a t e E l e m e n t ( " i n p u t " ) ; i f ( t h i s . _ o p t i o n s . m u l t i p l e ) { i n p u t . s e t A t t r i b u t e ( " m u l t i p l e " , " m u l t i p l e " ) ; } i n p u t . s e t A t t r i b u t e ( " t y p e " , " f i l e " ) ; i n p u t . s e t A t t r i b u t e ( " n a m e " , t h i s . _ o p t i o n s . n a m e ) ; q q . c s s ( i n p u t , { p o s i t i o n : ' a b s o l u t e ' , r i g h t : 0 , t o p : 0 , f o n t F a m i l y : ' A r i a l ' , f o n t S i z e : ' 1 1 8 p x ' , m a r g i n : 0 , p a d d i n g : 0 , c u r s o r : ' p o i n t e r ' , o p a c i t y : 0 } ) ; t h i s . _ e l e m e n t . a p p e n d C h i l d ( i n p u t ) ; v a r   s e l f = t h i s ; q q . a t t a c h ( i n p u t , ' c h a n g e ' , f u n c t i o n ( ) { s e l f . _ o p t i o n s . o n C h a n g e ( i n p u t ) ; } ) ; q q . a t t a c h ( i n p u t , ' m o u s e o v e r ' , f u n c t i o n ( ) { q q . a d d C l a s s ( s e l f . _ e l e m e n t , s e l f . _ o p t i o n s . h o v e r C l a s s ) ; } ) ; q q . a t t a c h ( i n p u t , ' m o u s e o u t ' , f u n c t i o n ( ) { q q . r e m o v e C l a s s ( s e l f . _ e l e m e n t , s e l f . _ o p t i o n s . h o v e r C l a s s ) ; } ) ; q q . a t t a c h ( i n p u t , ' f o c u s ' , f u n c t i o n ( ) { q q . a d d C l a s s ( s e l f . _ e l e m e n t , s e l f . _ o p t i o n s . f o c u s C l a s s ) ; } ) ; q q . a t t a c h ( i n p u t , ' b l u r ' , f u n c t i o n ( ) { q q . r e m o v e C l a s s ( s e l f . _ e l e m e n t , s e l f . _ o p t i o n s . f o c u s C l a s s ) ; } ) ; i f ( w i n d o w . a t t a c h E v e n t ) { i n p u t . s e t A t t r i b u t e ( ' t a b I n d e x ' , " - 1 " ) ; } r e t u r n   i n p u t ; } } ; q q . U p l o a d H a n d l e r A b s t r a c t = f u n c t i o n ( o ) { t h i s . _ o p t i o n s = { d e b u g : f a l s e , a c t i o n : ' / u p l o a d . p h p ' , m a x C o n n e c t i o n s : 9 9 9 , o n P r o g r e s s : f u n c t i o n ( i d , f i l e N a m e , l o a d e d , t o t a l ) { } , o n C o m p l e t e : f u n c t i o n ( i d , f i l e N a m e , r e s p o n s e ) { } , o n C a n c e l : f u n c t i o n ( i d , f i l e N a m e ) { } } ; q q . e x t e n d ( t h i s . _ o p t i o n s , o ) ; t h i s . _ q u e u e = [ ] ; t h i s . _ p a r a m s = [ ] ; } ; q q . U p l o a d H a n d l e r A b s t r a c t . p r o t o t y p e = { l o g : f u n c t i o n ( s t r ) { i f ( t h i s . _ o p t i o n s . d e b u g & & w i n d o w . c o n s o l e ) c o n s o l e . l o g ( ' [ u p l o a d e r ]   ' + s t r ) ; } , a d d : f u n c t i o n ( f i l e ) { } , u p l o a d : f u n c t i o n ( i d , p a r a m s ) { v a r   l e n = t h i s . _ q u e u e . p u s h ( i d ) ; v a r   c o p y = { } ; q q . e x t e n d ( c o p y , p a r a m s ) ; t h i s . _ p a r a m s [ i d ] = c o p y ; i f ( l e n < = t h i s . _ o p t i o n s . m a x C o n n e c t i o n s ) { t h i s . _ u p l o a d ( i d , t h i s . _ p a r a m s [ i d ] ) ; } } , c a n c e l : f u n c t i o n ( i d ) { t h i s . _ c a n c e l ( i d ) ; t h i s . _ d e q u e u e ( i d ) ; } , c a n c e l A l l : f u n c t i o n ( ) { f o r ( v a r   i = 0 ; i < t h i s . _ q u e u e . l e n g t h ; i + + ) { t h i s . _ c a n c e l ( t h i s . _ q u e u e [ i ] ) ; } t h i s . _ q u e u e = [ ] ; } , g e t N a m e : f u n c t i o n ( i d ) { } , g e t S i z e : f u n c t i o n ( i d ) { } , g e t Q u e u e : f u n c t i o n ( ) { r e t u r n   t h i s . _ q u e u e ; } , _ u p l o a d : f u n c t i o n ( i d ) { } , _ c a n c e l : f u n c t i o n ( i d ) { } , _ d e q u e u e : f u n c t i o n ( i d ) { v a r   i = q q . i n d e x O f ( t h i s . _ q u e u e , i d ) ; t h i s . _ q u e u e . s p l i c e ( i , 1 ) ; v a r   m a x = t h i s . _ o p t i o n s . m a x C o n n e c t i o n s ; i f ( t h i s . _ q u e u e . l e n g t h > = m a x & & i < m a x ) { v a r   n e x t I d = t h i s . _ q u e u e [ m a x - 1 ] ; t h i s . _ u p l o a d ( n e x t I d , t h i s . _ p a r a m s [ n e x t I d ] ) ; } } } ; q q . U p l o a d H a n d l e r F o r m = f u n c t i o n ( o ) { q q . U p l o a d H a n d l e r A b s t r a c t . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ i n p u t s = { } ; } ; q q . e x t e n d ( q q . U p l o a d H a n d l e r F o r m . p r o t o t y p e , q q . U p l o a d H a n d l e r A b s t r a c t . p r o t o t y p e ) ; q q . e x t e n d ( q q . U p l o a d H a n d l e r F o r m . p r o t o t y p e , { a d d : f u n c t i o n ( f i l e I n p u t ) { f i l e I n p u t . s e t A t t r i b u t e ( ' n a m e ' , ' q q f i l e ' ) ; v a r   i d = ' q q - u p l o a d - h a n d l e r - i f r a m e ' + q q . g e t U n i q u e I d ( ) ; t h i s . _ i n p u t s [ i d ] = f i l e I n p u t ; i f ( f i l e I n p u t . p a r e n t N o d e ) { q q . r e m o v e ( f i l e I n p u t ) ; } r e t u r n   i d ; } , g e t N a m e : f u n c t i o n ( i d ) { r e t u r n   t h i s . _ i n p u t s [ i d ] . v a l u e . r e p l a c e ( / . * ( \ / | \ \ ) / , " " ) ; } , _ c a n c e l : f u n c t i o n ( i d ) { t h i s . _ o p t i o n s . o n C a n c e l ( i d , t h i s . g e t N a m e ( i d ) ) ; d e l e t e   t h i s . _ i n p u t s [ i d ] ; v a r   i f r a m e = d o c u m e n t . g e t E l e m e n t B y I d ( i d ) ; i f ( i f r a m e ) { i f r a m e . s e t A t t r i b u t e ( ' s r c ' , ' j a v a s c r i p t : f a l s e ; ' ) ; q q . r e m o v e ( i f r a m e ) ; } } , _ u p l o a d : f u n c t i o n ( i d , p a r a m s ) { v a r   i n p u t = t h i s . _ i n p u t s [ i d ] ; i f ( ! i n p u t ) { t h r o w   n e w   E r r o r ( ' f i l e   w i t h   p a s s e d   i d   w a s   n o t   a d d e d ,   o r   a l r e a d y   u p l o a d e d   o r   c a n c e l l e d ' ) ; } v a r   f i l e N a m e = t h i s . g e t N a m e ( i d ) ; v a r   i f r a m e = t h i s . _ c r e a t e I f r a m e ( i d ) ; v a r   f o r m = t h i s . _ c r e a t e F o r m ( i f r a m e , p a r a m s ) ; f o r m . a p p e n d C h i l d ( i n p u t ) ; v a r   s e l f = t h i s ; t h i s . _ a t t a c h L o a d E v e n t ( i f r a m e , f u n c t i o n ( ) { s e l f . l o g ( ' i f r a m e   l o a d e d ' ) ; v a r   r e s p o n s e = s e l f . _ g e t I f r a m e C o n t e n t J S O N ( i f r a m e ) ; s e l f . _ o p t i o n s . o n C o m p l e t e ( i d , f i l e N a m e , r e s p o n s e ) ; s e l f . _ d e q u e u e ( i d ) ; d e l e t e   s e l f . _ i n p u t s [ i d ] ; s e t T i m e o u t ( f u n c t i o n ( ) { q q . r e m o v e ( i f r a m e ) ; } , 1 ) ; } ) ; f o r m . s u b m i t ( ) ; q q . r e m o v e ( f o r m ) ; r e t u r n   i d ; } , _ a t t a c h L o a d E v e n t : f u n c t i o n ( i f r a m e , c a l l b a c k ) { q q . a t t a c h ( i f r a m e , ' l o a d ' , f u n c t i o n ( ) { i f ( ! i f r a m e . p a r e n t N o d e ) { r e t u r n ; } i f ( i f r a m e . c o n t e n t D o c u m e n t & & i f r a m e . c o n t e n t D o c u m e n t . b o d y & & i f r a m e . c o n t e n t D o c u m e n t . b o d y . i n n e r H T M L = = " f a l s e " ) { r e t u r n ; } c a l l b a c k ( ) ; } ) ; } , _ g e t I f r a m e C o n t e n t J S O N : f u n c t i o n ( i f r a m e ) { v a r   d o c = i f r a m e . c o n t e n t D o c u m e n t ? i f r a m e . c o n t e n t D o c u m e n t : i f r a m e . c o n t e n t W i n d o w . d o c u m e n t , r e s p o n s e ; t h i s . l o g ( " c o n v e r t i n g   i f r a m e ' s   i n n e r H T M L   t o   J S O N " ) ; t h i s . l o g ( " i n n e r H T M L   =   " + d o c . b o d y . i n n e r H T M L ) ; t r y { r e s p o n s e = e v a l ( " ( " + d o c . b o d y . i n n e r H T M L + " ) " ) ; } c a t c h ( e r r ) { r e s p o n s e = { } ; } r e t u r n   r e s p o n s e ; } , _ c r e a t e I f r a m e : f u n c t i o n ( i d ) { v a r   i f r a m e = q q . t o E l e m e n t ( ' < i f r a m e   s r c = " j a v a s c r i p t : f a l s e ; "   n a m e = " ' + i d + ' "   / > ' ) ; i f r a m e . s e t A t t r i b u t e ( ' i d ' , i d ) ; i f r a m e . s t y l e . d i s p l a y = ' n o n e ' ; d o c u m e n t . b o d y . a p p e n d C h i l d ( i f r a m e ) ; r e t u r n   i f r a m e ; } , _ c r e a t e F o r m : f u n c t i o n ( i f r a m e , p a r a m s ) { v a r   f o r m = q q . t o E l e m e n t ( ' < f o r m   m e t h o d = " p o s t "   e n c t y p e = " m u l t i p a r t / f o r m - d a t a " > < / f o r m > ' ) ; v a r   q u e r y S t r i n g = q q . o b j 2 u r l ( p a r a m s , t h i s . _ o p t i o n s . a c t i o n ) ; f o r m . s e t A t t r i b u t e ( ' a c t i o n ' , q u e r y S t r i n g ) ; f o r m . s e t A t t r i b u t e ( ' t a r g e t ' , i f r a m e . n a m e ) ; f o r m . s t y l e . d i s p l a y = ' n o n e ' ; d o c u m e n t . b o d y . a p p e n d C h i l d ( f o r m ) ; r e t u r n   f o r m ; } } ) ; q q . U p l o a d H a n d l e r X h r = f u n c t i o n ( o ) { q q . U p l o a d H a n d l e r A b s t r a c t . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ f i l e s = [ ] ; t h i s . _ x h r s = [ ] ; t h i s . _ l o a d e d = [ ] ; } ; q q . U p l o a d H a n d l e r X h r . i s S u p p o r t e d = f u n c t i o n ( ) { v a r   i n p u t = d o c u m e n t . c r e a t e E l e m e n t ( ' i n p u t ' ) ; i n p u t . t y p e = ' f i l e ' ; r e t u r n ( ' m u l t i p l e ' i n   i n p u t & & t y p e o f   F i l e ! = " u n d e f i n e d " & & t y p e o f ( n e w   X M L H t t p R e q u e s t ( ) ) . u p l o a d ! = " u n d e f i n e d " ) ; } ; q q . e x t e n d ( q q . U p l o a d H a n d l e r X h r . p r o t o t y p e , q q . U p l o a d H a n d l e r A b s t r a c t . p r o t o t y p e ) ; q q . e x t e n d ( q q . U p l o a d H a n d l e r X h r . p r o t o t y p e , { a d d : f u n c t i o n ( f i l e ) { i f ( ! ( f i l e   i n s t a n c e o f   F i l e ) ) { t h r o w   n e w   E r r o r ( ' P a s s e d   o b j   i n   n o t   a   F i l e   ( i n   q q . U p l o a d H a n d l e r X h r ) ' ) ; } r e t u r n   t h i s . _ f i l e s . p u s h ( f i l e ) - 1 ; } , g e t N a m e : f u n c t i o n ( i d ) { v a r   f i l e = t h i s . _ f i l e s [ i d ] ; r e t u r n   f i l e . f i l e N a m e ! = n u l l ? f i l e . f i l e N a m e : f i l e . n a m e ; } , g e t S i z e : f u n c t i o n ( i d ) { v a r   f i l e = t h i s . _ f i l e s [ i d ] ; r e t u r n   f i l e . f i l e S i z e ! = n u l l ? f i l e . f i l e S i z e : f i l e . s i z e ; } , g e t L o a d e d : f u n c t i o n ( i d ) { r e t u r n   t h i s . _ l o a d e d [ i d ] | | 0 ; } , _ u p l o a d : f u n c t i o n ( i d , p a r a m s ) { v a r   f i l e = t h i s . _ f i l e s [ i d ] , n a m e = t h i s . g e t N a m e ( i d ) , s i z e = t h i s . g e t S i z e ( i d ) ; t h i s . _ l o a d e d [ i d ] = 0 ; v a r   x h r = t h i s . _ x h r s [ i d ] = n e w   X M L H t t p R e q u e s t ( ) ; v a r   s e l f = t h i s ; x h r . u p l o a d . o n p r o g r e s s = f u n c t i o n ( e ) { i f ( e . l e n g t h C o m p u t a b l e ) { s e l f . _ l o a d e d [ i d ] = e . l o a d e d ; s e l f . _ o p t i o n s . o n P r o g r e s s ( i d , n a m e , e . l o a d e d , e . t o t a l ) ; } } ; x h r . o n r e a d y s t a t e c h a n g e = f u n c t i o n ( ) { i f ( x h r . r e a d y S t a t e = = 4 ) { s e l f . _ o n C o m p l e t e ( i d , x h r ) ; } } ; p a r a m s = p a r a m s | | { } ; p a r a m s [ ' q q f i l e ' ] = n a m e ; v a r   q u e r y S t r i n g = q q . o b j 2 u r l ( p a r a m s , t h i s . _ o p t i o n s . a c t i o n ) ; x h r . o p e n ( " P O S T " , q u e r y S t r i n g , t r u e ) ; x h r . s e t R e q u e s t H e a d e r ( " X - R e q u e s t e d - W i t h " , " X M L H t t p R e q u e s t " ) ; x h r . s e t R e q u e s t H e a d e r ( " X - F i l e - N a m e " , e n c o d e U R I C o m p o n e n t ( n a m e ) ) ; x h r . s e t R e q u e s t H e a d e r ( " C o n t e n t - T y p e " , " a p p l i c a t i o n / o c t e t - s t r e a m " ) ; x h r . s e n d ( f i l e ) ; } , _ o n C o m p l e t e : f u n c t i o n ( i d , x h r ) { i f ( ! t h i s . _ f i l e s [ i d ] ) r e t u r n ; v a r   n a m e = t h i s . g e t N a m e ( i d ) ; v a r   s i z e = t h i s . g e t S i z e ( i d ) ; t h i s . _ o p t i o n s . o n P r o g r e s s ( i d , n a m e , s i z e , s i z e ) ; i f ( x h r . s t a t u s = = 2 0 0 ) { t h i s . l o g ( " x h r   -   s e r v e r   r e s p o n s e   r e c e i v e d " ) ; t h i s . l o g ( " r e s p o n s e T e x t   =   " + x h r . r e s p o n s e T e x t ) ; v a r   r e s p o n s e ; t r y { r e s p o n s e = e v a l ( " ( " + x h r . r e s p o n s e T e x t + " ) " ) ; } c a t c h ( e r r ) { r e s p o n s e = { } ; } t h i s . _ o p t i o n s . o n C o m p l e t e ( i d , n a m e , r e s p o n s e ) ; } e l s e { t h i s . _ o p t i o n s . o n C o m p l e t e ( i d , n a m e , { } ) ; } t h i s . _ f i l e s [ i d ] = n u l l ; t h i s . _ x h r s [ i d ] = n u l l ; t h i s . _ d e q u e u e ( i d ) ; } , _ c a n c e l : f u n c t i o n ( i d ) { t h i s . _ o p t i o n s . o n C a n c e l ( i d , t h i s . g e t N a m e ( i d ) ) ; t h i s . _ f i l e s [ i d ] = n u l l ; i f ( t h i s . _ x h r s [ i d ] ) { t h i s . _ x h r s [ i d ] . a b o r t ( ) ; t h i s . _ x h r s [ i d ] = n u l l ; } } } ) ; q q . e x t e n d ( q q . F i l e U p l o a d e r . p r o t o t y p e , { _ c r e a t e U p l o a d H a n d l e r : f u n c t i o n ( ) { v a r   s e l f = t h i s , h a n d l e r C l a s s ; i f ( q q . U p l o a d H a n d l e r X h r . i s S u p p o r t e d ( ) ) { h a n d l e r C l a s s = ' U p l o a d H a n d l e r X h r ' ; } e l s e { h a n d l e r C l a s s = ' U p l o a d H a n d l e r F o r m ' ; } v a r   h a n d l e r = n e w   q q [ h a n d l e r C l a s s ] ( { d e b u g : t h i s . _ o p t i o n s . d e b u g , a c t i o n : t h i s . _ o p t i o n s . a c t i o n , m a x C o n n e c t i o n s : t h i s . _ o p t i o n s . m a x C o n n e c t i o n s , o n P r o g r e s s : f u n c t i o n ( i d , f i l e N a m e , l o a d e d , t o t a l ) { s e l f . _ o n P r o g r e s s ( i d , f i l e N a m e , l o a d e d , t o t a l ) ; s e l f . _ o p t i o n s . o n P r o g r e s s ( i d , f i l e N a m e , l o a d e d , t o t a l ) ; } , o n C o m p l e t e : f u n c t i o n ( i d , f i l e N a m e , r e s u l t ) { s e l f . _ o n C o m p l e t e ( i d , f i l e N a m e , r e s u l t ) ; s e l f . _ o p t i o n s . o n C o m p l e t e ( i d , f i l e N a m e , r e s u l t ) ; } , o n C a n c e l : f u n c t i o n ( i d , f i l e N a m e ) { s e l f . _ o n C a n c e l ( i d , f i l e N a m e ) ; s e l f . _ o p t i o n s . o n C a n c e l ( i d , f i l e N a m e ) ; } , o n U p l o a d : f u n c t i o n ( ) { s e l f . _ o n U p l o a d ( ) ; } } ) ; r e t u r n   h a n d l e r ; } , _ o n U p l o a d : f u n c t i o n ( ) { t h i s . _ h a n d l e r . u p l o a d A l l ( t h i s . _ o p t i o n s . p a r a m s ) ; } , _ u p l o a d F i l e : f u n c t i o n ( f i l e C o n t a i n e r ) { v a r   i d = t h i s . _ h a n d l e r . a d d ( f i l e C o n t a i n e r ) ; v a r   f i l e N a m e = t h i s . _ h a n d l e r . g e t N a m e ( i d ) ; i f ( t h i s . _ o p t i o n s . o n S u b m i t ( i d , f i l e N a m e ) ! = = f a l s e ) { t h i s . _ o n S u b m i t ( i d , f i l e N a m e ) ; } } , _ a d d T o L i s t : f u n c t i o n ( i d , f i l e N a m e ) { v a r   i t e m = q q . t o E l e m e n t ( t h i s . _ o p t i o n s . f i l e T e m p l a t e ) ; i t e m . q q F i l e I d = i d ; v a r   f i l e E l e m e n t = t h i s . _ f i n d ( i t e m , ' f i l e ' ) ; q q . s e t T e x t ( f i l e E l e m e n t , f i l e N a m e ) ; t h i s . _ f i n d ( i t e m , ' s i z e ' ) . s t y l e . d i s p l a y = ' n o n e ' ; v a r   n a m e E l e m e n t = t h i s . _ f i n d ( i t e m , ' n a m e I n p u t ' ) ; f i l e N a m e = f i l e N a m e . t o L o w e r C a s e ( ) ; f i l e N a m e = f i l e N a m e . r e p l a c e ( / ( [   ! " # $ % & \ ' ( ) + , \ / ; < = > ? @ [ \ ] ^ ` { | } ~ : ] + ) / g , ' _ ' ) ; f i l e N a m e = f i l e N a m e . r e p l a c e ( / ^ _ + / , ' ' ) ; n a m e E l e m e n t . v a l u e = f i l e N a m e ; n a m e E l e m e n t . i d = ' m e d i a m a n a g e r _ _ u p l o a d _ i t e m ' + i d ; t h i s . _ l i s t E l e m e n t . a p p e n d C h i l d ( i t e m ) ; } } ) ; q q . F i l e U p l o a d e r E x t e n d e d = f u n c t i o n ( o ) { q q . F i l e U p l o a d e r B a s i c . a p p l y ( t h i s , a r g u m e n t s ) ; q q . e x t e n d ( t h i s . _ o p t i o n s , { e l e m e n t : n u l l , l i s t E l e m e n t : n u l l , t e m p l a t e : ' < d i v   c l a s s = " q q - u p l o a d e r " > ' + ' < d i v   c l a s s = " q q - u p l o a d - d r o p - a r e a " > < s p a n > ' + L A N G . m e d i a _ d r o p + ' < / s p a n > < / d i v > ' + ' < d i v   c l a s s = " q q - u p l o a d - b u t t o n " > ' + L A N G . m e d i a _ s e l e c t + ' < / d i v > ' + ' < u l   c l a s s = " q q - u p l o a d - l i s t " > < / u l > ' + ' < d i v   c l a s s = " q q - a c t i o n - c o n t a i n e r " > ' + '     < b u t t o n   c l a s s = " q q - u p l o a d - a c t i o n "   t y p e = " s u b m i t "   i d = " m e d i a m a n a g e r _ _ u p l o a d _ b u t t o n " > ' + L A N G . m e d i a _ u p l o a d _ b t n + ' < / b u t t o n > ' + '     < l a b e l   c l a s s = " q q - o v e r w r i t e - c h e c k " > < i n p u t   t y p e = " c h e c k b o x "   v a l u e = " 1 "   n a m e = " o w "   c l a s s = " d w _ _ o w " >   < s p a n > ' + L A N G . m e d i a _ o v e r w r t + ' < / s p a n > < / l a b e l > ' + ' < / d i v > ' + ' < / d i v > ' , f i l e T e m p l a t e : ' < l i > ' + ' < s p a n   c l a s s = " q q - u p l o a d - f i l e   h i d d e n " > < / s p a n > ' + '     < i n p u t   c l a s s = " q q - u p l o a d - n a m e - i n p u t   e d i t "   t y p e = " t e x t "   v a l u e = " "   / > ' + '     < s p a n   c l a s s = " q q - u p l o a d - s p i n n e r   h i d d e n " > < / s p a n > ' + '     < s p a n   c l a s s = " q q - u p l o a d - s i z e " > < / s p a n > ' + '     < a   c l a s s = " q q - u p l o a d - c a n c e l "   h r e f = " # " > ' + L A N G . m e d i a _ c a n c e l + ' < / a > ' + '     < s p a n   c l a s s = " q q - u p l o a d - f a i l e d - t e x t   e r r o r " > F a i l e d < / s p a n > ' + ' < / l i > ' , c l a s s e s : { b u t t o n : ' q q - u p l o a d - b u t t o n ' , d r o p : ' q q - u p l o a d - d r o p - a r e a ' , d r o p A c t i v e : ' q q - u p l o a d - d r o p - a r e a - a c t i v e ' , l i s t : ' q q - u p l o a d - l i s t ' , n a m e I n p u t : ' q q - u p l o a d - n a m e - i n p u t ' , o v e r w r i t e I n p u t : ' q q - o v e r w r i t e - c h e c k ' , u p l o a d B u t t o n : ' q q - u p l o a d - a c t i o n ' , f i l e : ' q q - u p l o a d - f i l e ' , s p i n n e r : ' q q - u p l o a d - s p i n n e r ' , s i z e : ' q q - u p l o a d - s i z e ' , c a n c e l : ' q q - u p l o a d - c a n c e l ' , s u c c e s s : ' q q - u p l o a d - s u c c e s s ' , f a i l : ' q q - u p l o a d - f a i l ' , f a i l e d T e x t : ' q q - u p l o a d - f a i l e d - t e x t ' } } ) ; q q . e x t e n d ( t h i s . _ o p t i o n s , o ) ; t h i s . _ e l e m e n t = t h i s . _ o p t i o n s . e l e m e n t ; t h i s . _ e l e m e n t . i n n e r H T M L = t h i s . _ o p t i o n s . t e m p l a t e ; t h i s . _ l i s t E l e m e n t = t h i s . _ o p t i o n s . l i s t E l e m e n t | | t h i s . _ f i n d ( t h i s . _ e l e m e n t , ' l i s t ' ) ; t h i s . _ c l a s s e s = t h i s . _ o p t i o n s . c l a s s e s ; t h i s . _ b u t t o n = t h i s . _ c r e a t e U p l o a d B u t t o n ( t h i s . _ f i n d ( t h i s . _ e l e m e n t , ' b u t t o n ' ) ) ; t h i s . _ b i n d C a n c e l E v e n t ( ) ; t h i s . _ b i n d U p l o a d E v e n t ( ) ; t h i s . _ s e t u p D r a g D r o p ( ) ; } ; q q . e x t e n d ( q q . F i l e U p l o a d e r E x t e n d e d . p r o t o t y p e , q q . F i l e U p l o a d e r . p r o t o t y p e ) ; q q . e x t e n d ( q q . F i l e U p l o a d e r E x t e n d e d . p r o t o t y p e , { _ b i n d U p l o a d E v e n t : f u n c t i o n ( ) { v a r   s e l f = t h i s , l i s t = t h i s . _ l i s t E l e m e n t ; q q . a t t a c h ( d o c u m e n t . g e t E l e m e n t B y I d ( ' m e d i a m a n a g e r _ _ u p l o a d _ b u t t o n ' ) , ' c l i c k ' , f u n c t i o n ( e ) { e = e | | w i n d o w . e v e n t ; v a r   t a r g e t = e . t a r g e t | | e . s r c E l e m e n t ; q q . p r e v e n t D e f a u l t ( e ) ; s e l f . _ h a n d l e r . _ o p t i o n s . o n U p l o a d ( ) ; j Q u e r y ( " . q q - u p l o a d - n a m e - i n p u t " ) . e a c h ( f u n c t i o n ( i ) { j Q u e r y ( t h i s ) . a t t r ( ' d i s a b l e d ' , ' d i s a b l e d ' ) ; } ) ; } ) ; } , _ o n C o m p l e t e : f u n c t i o n ( i d , f i l e N a m e , r e s u l t ) { t h i s . _ f i l e s I n P r o g r e s s - - ; v a r   i t e m = t h i s . _ g e t I t e m B y F i l e I d ( i d ) ; q q . r e m o v e ( t h i s . _ f i n d ( i t e m , ' c a n c e l ' ) ) ; q q . r e m o v e ( t h i s . _ f i n d ( i t e m , ' s p i n n e r ' ) ) ; v a r   n a m e I n p u t = t h i s . _ f i n d ( i t e m , ' n a m e I n p u t ' ) ; v a r   f i l e E l e m e n t = t h i s . _ f i n d ( i t e m , ' f i l e ' ) ; q q . s e t T e x t ( f i l e E l e m e n t , n a m e I n p u t . v a l u e ) ; q q . r e m o v e C l a s s ( f i l e E l e m e n t , ' h i d d e n ' ) ; q q . r e m o v e ( n a m e I n p u t ) ; j Q u e r y ( ' . q q - u p l o a d - b u t t o n ,   # m e d i a m a n a g e r _ _ u p l o a d _ b u t t o n ' ) . r e m o v e ( ) ; j Q u e r y ( ' . d w _ _ o w ' ) . p a r e n t ( ) . h i d e ( ) ; j Q u e r y ( ' . q q - u p l o a d - d r o p - a r e a ' ) . r e m o v e ( ) ; i f ( r e s u l t . s u c c e s s ) { q q . a d d C l a s s ( i t e m , t h i s . _ c l a s s e s . s u c c e s s ) ; $ l i n k = ' < a   h r e f = " ' + r e s u l t . l i n k + ' "   i d = " h _ : ' + r e s u l t . i d + ' "   c l a s s = " s e l e c t " > ' + n a m e I n p u t . v a l u e + ' < / a > ' ; j Q u e r y ( f i l e E l e m e n t ) . h t m l ( $ l i n k ) ; } e l s e { q q . a d d C l a s s ( i t e m , t h i s . _ c l a s s e s . f a i l ) ; v a r   f a i l = t h i s . _ f i n d ( i t e m , ' f a i l e d T e x t ' ) ; i f ( r e s u l t . e r r o r ) q q . s e t T e x t ( f a i l , r e s u l t . e r r o r ) ; } i f ( d o c u m e n t . g e t E l e m e n t B y I d ( ' m e d i a _ _ c o n t e n t ' ) & & ! d o c u m e n t . g e t E l e m e n t B y I d ( ' m e d i a m a n a g e r _ _ d o n e _ f o r m ' ) ) { v a r   a c t i o n = d o c u m e n t . l o c a t i o n . h r e f ; v a r   i = a c t i o n . i n d e x O f ( ' ? ' ) ; i f ( i ) a c t i o n = a c t i o n . s u b s t r ( 0 , i ) ; v a r   b u t t o n = ' < f o r m   m e t h o d = " p o s t "   a c t i o n = " ' + a c t i o n + ' "   i d = " m e d i a m a n a g e r _ _ d o n e _ f o r m " > < d i v > ' ; b u t t o n + = ' < i n p u t   t y p e = " h i d d e n "   v a l u e = " ' + r e s u l t . n s + ' "   n a m e = " n s " > ' ; b u t t o n + = ' < i n p u t   t y p e = " h i d d e n "   v a l u e = " 1 "   n a m e = " r e c e n t " > ' ; b u t t o n + = ' < b u t t o n   t y p e = " s u b m i t " > ' + L A N G . m e d i a _ d o n e _ b t n + ' < / b u t t o n > < / d i v > < / f o r m > ' ; j Q u e r y ( ' # m e d i a m a n a g e r _ _ u p l o a d e r ' ) . a p p e n d ( b u t t o n ) ; } } } ) ; q q . e x t e n d ( q q . U p l o a d H a n d l e r F o r m . p r o t o t y p e , { u p l o a d A l l : f u n c t i o n ( p a r a m s ) { t h i s . _ u p l o a d A l l ( p a r a m s ) ; } , g e t N a m e : f u n c t i o n ( i d ) { v a r   f i l e = t h i s . _ i n p u t s [ i d ] ; v a r   n a m e = d o c u m e n t . g e t E l e m e n t B y I d ( ' m e d i a m a n a g e r _ _ u p l o a d _ i t e m ' + i d ) ; i f ( n a m e ! = n u l l ) { r e t u r n   n a m e . v a l u e ; } e l s e { i f ( f i l e ! = n u l l ) { r e t u r n   f i l e . v a l u e . r e p l a c e ( / . * ( \ / | \ \ ) / , " " ) ; } e l s e { r e t u r n   n u l l ; } } } , _ u p l o a d A l l : f u n c t i o n ( p a r a m s ) { j Q u e r y ( " . q q - u p l o a d - s p i n n e r " ) . e a c h ( f u n c t i o n ( i ) { j Q u e r y ( t h i s ) . r e m o v e C l a s s ( ' h i d d e n ' ) ; } ) ; f o r ( k e y   i n   t h i s . _ i n p u t s ) { t h i s . u p l o a d ( k e y , p a r a m s ) ; } } , _ u p l o a d : f u n c t i o n ( i d , p a r a m s ) { v a r   i n p u t = t h i s . _ i n p u t s [ i d ] ; i f ( ! i n p u t ) { t h r o w   n e w   E r r o r ( ' f i l e   w i t h   p a s s e d   i d   w a s   n o t   a d d e d ,   o r   a l r e a d y   u p l o a d e d   o r   c a n c e l l e d ' ) ; } v a r   f i l e N a m e = t h i s . g e t N a m e ( i d ) ; v a r   i f r a m e = t h i s . _ c r e a t e I f r a m e ( i d ) ; v a r   f o r m = t h i s . _ c r e a t e F o r m ( i f r a m e , p a r a m s ) ; f o r m . a p p e n d C h i l d ( i n p u t ) ; v a r   n a m e I n p u t = q q . t o E l e m e n t ( ' < i n p u t   n a m e = " m e d i a i d "   v a l u e = " ' + f i l e N a m e + ' "   t y p e = " t e x t " > ' ) ; f o r m . a p p e n d C h i l d ( n a m e I n p u t ) ; v a r   c h e c k e d = j Q u e r y ( ' . d w _ _ o w ' ) . i s ( ' : c h e c k e d ' ) ; v a r   o w C h e c k b o x = j Q u e r y ( ' . d w _ _ o w ' ) . c l o n e ( ) ; o w C h e c k b o x . a t t r ( ' c h e c k e d ' , c h e c k e d ) ; j Q u e r y ( f o r m ) . a p p e n d ( o w C h e c k b o x ) ; v a r   s e l f = t h i s ; t h i s . _ a t t a c h L o a d E v e n t ( i f r a m e , f u n c t i o n ( ) { s e l f . l o g ( ' i f r a m e   l o a d e d ' ) ; v a r   r e s p o n s e = s e l f . _ g e t I f r a m e C o n t e n t J S O N ( i f r a m e ) ; s e l f . _ o p t i o n s . o n C o m p l e t e ( i d , f i l e N a m e , r e s p o n s e ) ; s e l f . _ d e q u e u e ( i d ) ; d e l e t e   s e l f . _ i n p u t s [ i d ] ; s e t T i m e o u t ( f u n c t i o n ( ) { q q . r e m o v e ( i f r a m e ) ; } , 1 ) ; } ) ; f o r m . s u b m i t ( ) ; q q . r e m o v e ( f o r m ) ; r e t u r n   i d ; } } ) ; q q . e x t e n d ( q q . U p l o a d H a n d l e r X h r . p r o t o t y p e , { u p l o a d A l l : f u n c t i o n ( p a r a m s ) { t h i s . _ u p l o a d A l l ( p a r a m s ) ; } , g e t N a m e : f u n c t i o n ( i d ) { v a r   f i l e = t h i s . _ f i l e s [ i d ] ; v a r   n a m e = d o c u m e n t . g e t E l e m e n t B y I d ( ' m e d i a m a n a g e r _ _ u p l o a d _ i t e m ' + i d ) ; i f ( n a m e ! = n u l l ) { r e t u r n   n a m e . v a l u e ; } e l s e { i f ( f i l e ! = n u l l ) { r e t u r n   f i l e . f i l e N a m e ! = n u l l ? f i l e . f i l e N a m e : f i l e . n a m e ; } e l s e { r e t u r n   n u l l ; } } } , g e t S i z e : f u n c t i o n ( i d ) { v a r   f i l e = t h i s . _ f i l e s [ i d ] ; i f ( f i l e = = n u l l ) r e t u r n   n u l l ; r e t u r n   f i l e . f i l e S i z e ! = n u l l ? f i l e . f i l e S i z e : f i l e . s i z e ; } , _ u p l o a d : f u n c t i o n ( i d , p a r a m s ) { v a r   f i l e = t h i s . _ f i l e s [ i d ] , n a m e = t h i s . g e t N a m e ( i d ) , s i z e = t h i s . g e t S i z e ( i d ) ; i f ( n a m e = = n u l l | | s i z e = = n u l l ) r e t u r n ; t h i s . _ l o a d e d [ i d ] = 0 ; v a r   x h r = t h i s . _ x h r s [ i d ] = n e w   X M L H t t p R e q u e s t ( ) ; v a r   s e l f = t h i s ; x h r . u p l o a d . o n p r o g r e s s = f u n c t i o n ( e ) { i f ( e . l e n g t h C o m p u t a b l e ) { s e l f . _ l o a d e d [ i d ] = e . l o a d e d ; s e l f . _ o p t i o n s . o n P r o g r e s s ( i d , n a m e , e . l o a d e d , e . t o t a l ) ; } } ; x h r . o n r e a d y s t a t e c h a n g e = f u n c t i o n ( ) { i f ( x h r . r e a d y S t a t e = = 4 ) { s e l f . _ o n C o m p l e t e ( i d , x h r ) ; } } ; p a r a m s = p a r a m s | | { } ; p a r a m s [ ' q q f i l e ' ] = n a m e ; p a r a m s [ ' o w ' ] = j Q u e r y ( ' . d w _ _ o w ' ) . i s ( ' : c h e c k e d ' ) ; v a r   q u e r y S t r i n g = q q . o b j 2 u r l ( p a r a m s , t h i s . _ o p t i o n s . a c t i o n ) ; x h r . o p e n ( " P O S T " , q u e r y S t r i n g , t r u e ) ; x h r . s e t R e q u e s t H e a d e r ( " X - R e q u e s t e d - W i t h " , " X M L H t t p R e q u e s t " ) ; x h r . s e t R e q u e s t H e a d e r ( " X - F i l e - N a m e " , e n c o d e U R I C o m p o n e n t ( n a m e ) ) ; x h r . s e t R e q u e s t H e a d e r ( " C o n t e n t - T y p e " , " a p p l i c a t i o n / o c t e t - s t r e a m " ) ; x h r . s e n d ( f i l e ) ; } , _ u p l o a d A l l : f u n c t i o n ( p a r a m s ) { j Q u e r y ( " . q q - u p l o a d - s p i n n e r " ) . e a c h ( f u n c t i o n ( i ) { j Q u e r y ( t h i s ) . r e m o v e C l a s s ( ' h i d d e n ' ) ; } ) ; f o r ( k e y   i n   t h i s . _ f i l e s ) { t h i s . u p l o a d ( k e y , p a r a m s ) ; } } } ) ; f u n c t i o n   s u b s t r _ r e p l a c e ( s t r , r e p l a c e , s t a r t , l e n g t h ) { v a r   a 2 , b 1 ; a 2 = ( s t a r t < 0 ? s t r . l e n g t h : 0 ) + s t a r t ; i f ( t y p e o f   l e n g t h = = = ' u n d e f i n e d ' ) { l e n g t h = s t r . l e n g t h - a 2 ; } e l s e   i f ( l e n g t h < 0 & & s t a r t < 0 & & l e n g t h < = s t a r t ) { l e n g t h = 0 ; } b 1 = ( l e n g t h < 0 ? s t r . l e n g t h : a 2 ) + l e n g t h ; r e t u r n   s t r . s u b s t r i n g ( 0 , a 2 ) + r e p l a c e + s t r . s u b s t r i n g ( b 1 ) ; } f u n c t i o n   b i n d ( f n c ) { v a r   A p s = A r r a y . p r o t o t y p e . s l i c e , s t a t i c _ a r g s = A p s . c a l l ( a r g u m e n t s , 1 ) ; r e t u r n   f u n c t i o n ( ) { r e t u r n   f n c . a p p l y ( t h i s , s t a t i c _ a r g s . c o n c a t ( A p s . c a l l ( a r g u m e n t s , 0 ) ) ) ; } ; } f u n c t i o n   l o g E r r o r ( e , f i l e ) { i f ( w i n d o w . c o n s o l e & & c o n s o l e . e r r o r ) { c o n s o l e . e r r o r ( ' T h e   e r r o r   " % s :   % s "   o c c u r r e d   i n   f i l e   " % s " .   ' + ' I f   t h i s   i s   i n   a   p l u g i n   t r y   u p d a t i n g   o r   d i s a b l i n g   t h e   p l u g i n ,   ' + ' i f   t h i s   i s   i n   a   t e m p l a t e   t r y   u p d a t i n g   t h e   t e m p l a t e   o r   s w i t c h i n g   t o   t h e   " d o k u w i k i "   t e m p l a t e . ' , e . n a m e , e . m e s s a g e , f i l e ) ; i f ( e . s t a c k ) { c o n s o l e . e r r o r ( e . s t a c k ) ; } } } v a r   t i m e r = { _ c u r _ i d : 0 , _ h a n d l e r s : { } , e x e c D i s p a t c h : f u n c t i o n ( i d ) { t i m e r . _ h a n d l e r s [ i d ] ( ) ; } , a d d : f u n c t i o n ( f u n c , t i m e o u t ) { v a r   i d = + + t i m e r . _ c u r _ i d ; t i m e r . _ h a n d l e r s [ i d ] = f u n c ; r e t u r n   w i n d o w . s e t T i m e o u t ( ' t i m e r . e x e c D i s p a t c h ( ' + i d + ' ) ' , t i m e o u t ) ; } } ; f u n c t i o n   D e l a y ( f u n c , t i m e o u t ) { t h i s . f u n c = f u n c ; i f ( t i m e o u t ) { t h i s . t i m e o u t = t i m e o u t ; } } D e l a y . p r o t o t y p e = { f u n c : n u l l , t i m e o u t : 5 0 0 , d e l T i m e r : f u n c t i o n ( ) { i f ( t h i s . t i m e r ! = = n u l l ) { w i n d o w . c l e a r T i m e o u t ( t h i s . t i m e r ) ; t h i s . t i m e r = n u l l ; } } , s t a r t : f u n c t i o n ( ) { D E P R E C A T E D ( ' d o n \ ' t   u s e   t h e   D e l a y   o b j e c t ,   u s e   w i n d o w . t i m e o u t   w i t h   a   c a l l b a c k   i n s t e a d ' ) ; t h i s . d e l T i m e r ( ) ; v a r   _ t h i s = t h i s ; t h i s . t i m e r = t i m e r . a d d ( f u n c t i o n ( ) { _ t h i s . e x e c . c a l l ( _ t h i s ) ; } , t h i s . t i m e o u t ) ; t h i s . _ d a t a = { _ t h i s : a r g u m e n t s [ 0 ] , _ p a r a m s : A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 2 ) } ; } , e x e c : f u n c t i o n ( ) { t h i s . d e l T i m e r ( ) ; t h i s . f u n c . c a l l ( t h i s . _ d a t a . _ t h i s , t h i s . _ d a t a . _ p a r a m s ) ; } } ; v a r   D o k u C o o k i e = { d a t a : { } , n a m e : ' D O K U _ P R E F S ' , s e t V a l u e : f u n c t i o n ( k e y , v a l ) { v a r   t e x t = [ ] , _ t h i s = t h i s ; t h i s . i n i t ( ) ; t h i s . d a t a [ k e y ] = v a l ; j Q u e r y . e a c h ( _ t h i s . d a t a , f u n c t i o n ( k e y , v a l ) { i f ( _ t h i s . d a t a . h a s O w n P r o p e r t y ( k e y ) ) { t e x t . p u s h ( e n c o d e U R I C o m p o n e n t ( k e y ) + ' # ' + e n c o d e U R I C o m p o n e n t ( v a l ) ) ; } } ) ; j Q u e r y . c o o k i e ( t h i s . n a m e , t e x t . j o i n ( ' # ' ) , { e x p i r e s : 3 6 5 , p a t h : D O K U _ C O O K I E _ P A R A M . p a t h , s e c u r e : D O K U _ C O O K I E _ P A R A M . s e c u r e } ) ; } , g e t V a l u e : f u n c t i o n ( k e y ) { t h i s . i n i t ( ) ; r e t u r n   t h i s . d a t a [ k e y ] ; } , i n i t : f u n c t i o n ( ) { v a r   t e x t , p a r t s , i ; i f ( ! j Q u e r y . i s E m p t y O b j e c t ( t h i s . d a t a ) ) { r e t u r n ; } t e x t = j Q u e r y . c o o k i e ( t h i s . n a m e ) ; i f ( t e x t ) { p a r t s = t e x t . s p l i t ( ' # ' ) ; f o r ( i = 0 ; i < p a r t s . l e n g t h ; i + = 2 ) { t h i s . d a t a [ d e c o d e U R I C o m p o n e n t ( p a r t s [ i ] ) ] = d e c o d e U R I C o m p o n e n t ( p a r t s [ i + 1 ] ) ; } } } } ; i f ( ' f u n c t i o n ' = = = t y p e o f   j Q u e r y & & ' f u n c t i o n ' = = = t y p e o f   j Q u e r y . n o C o n f l i c t ) { j Q u e r y . n o C o n f l i c t ( ) ; } v a r   c l i e n t P C = n a v i g a t o r . u s e r A g e n t . t o L o w e r C a s e ( ) ; v a r   i s _ m a c o s = n a v i g a t o r . a p p V e r s i o n . i n d e x O f ( ' M a c ' ) ! = - 1 ; v a r   i s _ g e c k o = ( ( c l i e n t P C . i n d e x O f ( ' g e c k o ' ) ! = - 1 ) & & ( c l i e n t P C . i n d e x O f ( ' s p o o f e r ' ) = = - 1 ) & & ( c l i e n t P C . i n d e x O f ( ' k h t m l ' ) = = - 1 ) & & ( c l i e n t P C . i n d e x O f ( ' n e t s c a p e / 7 . 0 ' ) = = - 1 ) ) ; v a r   i s _ s a f a r i = ( ( c l i e n t P C . i n d e x O f ( ' a p p l e w e b k i t ' ) ! = - 1 ) & & ( c l i e n t P C . i n d e x O f ( ' s p o o f e r ' ) = = - 1 ) ) ; v a r   i s _ k h t m l = ( n a v i g a t o r . v e n d o r = = ' K D E ' | | ( d o c u m e n t . c h i l d N o d e s & & ! d o c u m e n t . a l l & & ! n a v i g a t o r . t a i n t E n a b l e d ) ) ; i f ( c l i e n t P C . i n d e x O f ( ' o p e r a ' ) ! = - 1 ) { v a r   i s _ o p e r a = t r u e ; v a r   i s _ o p e r a _ p r e s e v e n = ( w i n d o w . o p e r a & & ! d o c u m e n t . c h i l d N o d e s ) ; v a r   i s _ o p e r a _ s e v e n = ( w i n d o w . o p e r a & & d o c u m e n t . c h i l d N o d e s ) ; } f u n c t i o n   s h o w L o a d B a r ( ) { d o c u m e n t . w r i t e ( ' < i m g   s r c = " ' + D O K U _ B A S E + ' l i b / i m a g e s / l o a d i n g . g i f "   ' + ' w i d t h = " 1 5 0 "   h e i g h t = " 1 2 "   a l t = " . . . "   / > ' ) ; } f u n c t i o n   h i d e L o a d B a r ( i d ) { j Q u e r y ( ' # ' + i d ) . h i d e ( ) ; } f u n c t i o n   c l o s e P o p u p s ( ) { j Q u e r y ( ' d i v . J S p o p u p ' ) . h i d e ( ) ; } j Q u e r y ( f u n c t i o n ( ) { j Q u e r y ( d o c u m e n t ) . c l i c k ( c l o s e P o p u p s ) ; } ) ; j Q u e r y . f n . d w _ q s e a r c h = f u n c t i o n ( o v e r r i d e s ) { v a r   d w _ q s e a r c h = { o u t p u t : ' # q s e a r c h _ _ o u t ' , $ i n O b j : t h i s , $ o u t O b j : n u l l , t i m e r : n u l l , c u r R e q u e s t : n u l l , i n i t : f u n c t i o n ( ) { v a r   d o _ q s e a r c h ; d w _ q s e a r c h . $ o u t O b j = j Q u e r y ( d w _ q s e a r c h . o u t p u t ) ; i f ( d w _ q s e a r c h . $ i n O b j . l e n g t h = = = 0 | | d w _ q s e a r c h . $ o u t O b j . l e n g t h = = = 0 ) { r e t u r n ; } d o _ q s e a r c h = f u n c t i o n ( ) { i f ( d w _ q s e a r c h . c u r R e q u e s t ! = n u l l ) { d w _ q s e a r c h . c u r R e q u e s t . a b o r t ( ) ; } v a r   v a l u e = d w _ q s e a r c h . g e t S e a r c h t e r m ( ) ; i f ( v a l u e = = = ' ' ) { d w _ q s e a r c h . c l e a r _ r e s u l t s ( ) ; r e t u r n ; } d w _ q s e a r c h . $ i n O b j . p a r e n t s ( ' f o r m ' ) . a d d C l a s s ( ' s e a r c h i n g ' ) ; d w _ q s e a r c h . c u r R e q u e s t = j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , { c a l l : ' q s e a r c h ' , q : e n c o d e U R I ( v a l u e ) } , d w _ q s e a r c h . o n C o m p l e t i o n , ' h t m l ' ) ; } ; d w _ q s e a r c h . $ i n O b j . k e y u p ( f u n c t i o n ( ) { i f ( d w _ q s e a r c h . t i m e r ) { w i n d o w . c l e a r T i m e o u t ( d w _ q s e a r c h . t i m e r ) ; d w _ q s e a r c h . t i m e r = n u l l ; } d w _ q s e a r c h . t i m e r = w i n d o w . s e t T i m e o u t ( d o _ q s e a r c h , 5 0 0 ) ; } ) ; d w _ q s e a r c h . $ o u t O b j . c l i c k ( d w _ q s e a r c h . c l e a r _ r e s u l t s ) ; } , g e t S e a r c h t e r m : f u n c t i o n ( ) { r e t u r n   d w _ q s e a r c h . $ i n O b j . v a l ( ) ; } , c l e a r _ r e s u l t s : f u n c t i o n ( ) { d w _ q s e a r c h . $ i n O b j . p a r e n t s ( ' f o r m ' ) . r e m o v e C l a s s ( ' s e a r c h i n g ' ) ; d w _ q s e a r c h . $ o u t O b j . h i d e ( ) ; d w _ q s e a r c h . $ o u t O b j . t e x t ( ' ' ) ; } , o n C o m p l e t i o n : f u n c t i o n ( d a t a ) { v a r   m a x , $ l i n k s , t o o _ b i g ; d w _ q s e a r c h . $ i n O b j . p a r e n t s ( ' f o r m ' ) . r e m o v e C l a s s ( ' s e a r c h i n g ' ) ; d w _ q s e a r c h . c u r R e q u e s t = n u l l ; i f ( d a t a = = = ' ' ) { d w _ q s e a r c h . c l e a r _ r e s u l t s ( ) ; r e t u r n ; } d w _ q s e a r c h . $ o u t O b j   . h t m l ( d a t a ) . s h o w ( ) . c s s ( ' w h i t e - s p a c e ' , ' n o w r a p ' ) ; d w _ q s e a r c h . $ o u t O b j . f i n d ( ' l i ' ) . c s s ( ' o v e r f l o w ' , ' v i s i b l e ' ) ; $ l i n k s = d w _ q s e a r c h . $ o u t O b j . f i n d ( ' a ' ) ; m a x = d w _ q s e a r c h . $ o u t O b j [ 0 ] . c l i e n t W i d t h ; i f ( d o c u m e n t . d o c u m e n t E l e m e n t . d i r = = = ' r t l ' ) { m a x - = p a r s e I n t ( d w _ q s e a r c h . $ o u t O b j . c s s ( ' p a d d i n g - l e f t ' ) ) ; t o o _ b i g = f u n c t i o n ( l ) { r e t u r n   l . o f f s e t L e f t < 0 ; } ; } e l s e { m a x - = p a r s e I n t ( d w _ q s e a r c h . $ o u t O b j . c s s ( ' p a d d i n g - r i g h t ' ) ) ; t o o _ b i g = f u n c t i o n ( l ) { r e t u r n   l . o f f s e t W i d t h + l . o f f s e t L e f t > m a x ; } ; } $ l i n k s . e a c h ( f u n c t i o n ( ) { v a r   s t a r t , l e n g t h , r e p l a c e , n s L , n s R , e l i , r u n a w a y ; i f ( ! t o o _ b i g ( t h i s ) ) { r e t u r n ; } n s L = t h i s . t e x t C o n t e n t . i n d e x O f ( ' ( ' ) ; n s R = t h i s . t e x t C o n t e n t . i n d e x O f ( ' ) ' ) ; e l i = 0 ; r u n a w a y = 0 ; w h i l e ( ( n s R - n s L > 3 ) & & t o o _ b i g ( t h i s ) & & r u n a w a y + + < 5 0 0 ) { i f ( e l i ! = = 0 ) { i f ( ( e l i - n s L ) > ( n s R - e l i ) ) { s t a r t = e l i - 2 ; l e n g t h = 2 ; } e l s e { s t a r t = e l i + 1 ; l e n g t h = 1 ; } r e p l a c e = ' ' ; } e l s e { s t a r t = M a t h . f l o o r ( n s L + ( ( n s R - n s L ) / 2 ) ) ; l e n g t h = 1 ; r e p l a c e = ' & ' ; } t h i s . t e x t C o n t e n t = s u b s t r _ r e p l a c e ( t h i s . t e x t C o n t e n t , r e p l a c e , s t a r t , l e n g t h ) ; e l i = t h i s . t e x t C o n t e n t . i n d e x O f ( ' & ' ) ; n s L = t h i s . t e x t C o n t e n t . i n d e x O f ( ' ( ' ) ; n s R = t h i s . t e x t C o n t e n t . i n d e x O f ( ' ) ' ) ; } } ) ; d w _ q s e a r c h . $ o u t O b j . f i n d ( ' l i ' ) . c s s ( ' o v e r f l o w ' , ' h i d d e n ' ) . c s s ( ' t e x t - o v e r f l o w ' , ' e l l i p s i s ' ) ; } } ; j Q u e r y . e x t e n d ( d w _ q s e a r c h , o v e r r i d e s ) ; i f ( ! o v e r r i d e s . d e f e r I n i t ) { d w _ q s e a r c h . i n i t ( ) ; } r e t u r n   d w _ q s e a r c h ; } ; j Q u e r y ( f u n c t i o n ( ) { j Q u e r y ( ' # q s e a r c h _ _ i n ' ) . d w _ q s e a r c h ( { o u t p u t : ' # q s e a r c h _ _ o u t ' } ) ; } ) ; j Q u e r y . f n . d w _ t r e e = f u n c t i o n ( o v e r r i d e s ) { v a r   d w _ t r e e = { t h r o b b e r _ d e l a y : 5 0 0 , $ o b j : t h i s , t o g g l e _ s e l e c t o r : ' a . i d x _ d i r ' , i n i t : f u n c t i o n ( ) { t h i s . $ o b j . o n ( ' c l i c k ' , t h i s . t o g g l e _ s e l e c t o r , t h i s , t h i s . t o g g l e ) ; j Q u e r y ( ' u l : f i r s t ' , t h i s . $ o b j ) . a t t r ( ' r o l e ' , ' t r e e ' ) ; j Q u e r y ( ' u l ' , t h i s . $ o b j ) . n o t ( ' : f i r s t ' ) . a t t r ( ' r o l e ' , ' g r o u p ' ) ; j Q u e r y ( ' l i ' , t h i s . $ o b j ) . a t t r ( ' r o l e ' , ' t r e e i t e m ' ) ; j Q u e r y ( ' l i . o p e n   >   u l ' , t h i s . $ o b j ) . a t t r ( ' a r i a - e x p a n d e d ' , ' t r u e ' ) ; j Q u e r y ( ' l i . c l o s e d   >   u l ' , t h i s . $ o b j ) . a t t r ( ' a r i a - e x p a n d e d ' , ' f a l s e ' ) ; j Q u e r y ( ' l i . c l o s e d ' , t h i s . $ o b j ) . a t t r ( ' a r i a - l i v e ' , ' a s s e r t i v e ' ) ; } , t o g g l e : f u n c t i o n ( e ) { v a r   $ l i s t i t e m , $ s u b l i s t , t i m e o u t , $ c l i c k y , s h o w _ s u b l i s t , d w _ t r e e , o p e n i n g ; e . p r e v e n t D e f a u l t ( ) ; d w _ t r e e = e . d a t a ; $ c l i c k y = j Q u e r y ( t h i s ) ; $ l i s t i t e m = $ c l i c k y . c l o s e s t ( ' l i ' ) ; $ s u b l i s t = $ l i s t i t e m . f i n d ( ' u l ' ) . f i r s t ( ) ; o p e n i n g = $ l i s t i t e m . h a s C l a s s ( ' c l o s e d ' ) ; d w _ t r e e . t o g g l e _ d i s p l a y ( $ c l i c k y , o p e n i n g ) ; i f ( $ s u b l i s t . i s ( ' : v i s i b l e ' ) ) { $ l i s t i t e m . r e m o v e C l a s s ( ' o p e n ' ) . a d d C l a s s ( ' c l o s e d ' ) ; $ s u b l i s t . a t t r ( ' a r i a - e x p a n d e d ' , ' f a l s e ' ) ; } e l s e { $ l i s t i t e m . r e m o v e C l a s s ( ' c l o s e d ' ) . a d d C l a s s ( ' o p e n ' ) ; $ s u b l i s t . a t t r ( ' a r i a - e x p a n d e d ' , ' t r u e ' ) ; } i f ( ! o p e n i n g ) { $ s u b l i s t . d w _ h i d e ( ) ; r e t u r n ; } s h o w _ s u b l i s t = f u n c t i o n ( d a t a ) { $ s u b l i s t . h i d e ( ) ; i f ( t y p e o f   d a t a ! = = ' u n d e f i n e d ' ) { $ s u b l i s t . h t m l ( d a t a ) ; $ s u b l i s t . p a r e n t ( ) . a t t r ( ' a r i a - b u s y ' , ' f a l s e ' ) . r e m o v e A t t r ( ' a r i a - l i v e ' ) ; j Q u e r y ( ' l i . c l o s e d ' , $ s u b l i s t ) . a t t r ( ' a r i a - l i v e ' , ' a s s e r t i v e ' ) ; } i f ( $ l i s t i t e m . h a s C l a s s ( ' o p e n ' ) ) { $ s u b l i s t . d w _ s h o w ( ) ; } } ; i f ( $ s u b l i s t . l e n g t h > 0 ) { s h o w _ s u b l i s t ( ) ; r e t u r n ; } $ s u b l i s t = j Q u e r y ( ' < u l   c l a s s = " i d x "   r o l e = " g r o u p " / > ' ) ; $ l i s t i t e m . a p p e n d ( $ s u b l i s t ) ; t i m e o u t = w i n d o w . s e t T i m e o u t ( b i n d ( s h o w _ s u b l i s t , ' < l i   a r i a - b u s y = " t r u e " > < i m g   s r c = " ' + D O K U _ B A S E + ' l i b / i m a g e s / t h r o b b e r . g i f "   a l t = " l o a d i n g . . . "   t i t l e = " l o a d i n g . . . "   / > < / l i > ' ) , d w _ t r e e . t h r o b b e r _ d e l a y ) ; d w _ t r e e . l o a d _ d a t a ( f u n c t i o n ( d a t a ) { w i n d o w . c l e a r T i m e o u t ( t i m e o u t ) ; s h o w _ s u b l i s t ( d a t a ) ; } , $ c l i c k y ) ; } , t o g g l e _ d i s p l a y : f u n c t i o n ( $ c l i c k y , o p e n i n g ) { } , l o a d _ d a t a : f u n c t i o n ( s h o w _ d a t a , $ c l i c k y ) { s h o w _ d a t a ( ) ; } } ; j Q u e r y . e x t e n d ( d w _ t r e e , o v e r r i d e s ) ; i f ( ! o v e r r i d e s . d e f e r I n i t ) { d w _ t r e e . i n i t ( ) ; } r e t u r n   d w _ t r e e ; } ; v a r   d w _ i n d e x = j Q u e r y ( ' # i n d e x _ _ t r e e ' ) . d w _ t r e e ( { d e f e r I n i t : t r u e , l o a d _ d a t a : f u n c t i o n ( s h o w _ s u b l i s t , $ c l i c k y ) { j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , $ c l i c k y [ 0 ] . s e a r c h . s u b s t r ( 1 ) + ' & c a l l = i n d e x ' , s h o w _ s u b l i s t , ' h t m l ' ) ; } } ) ; j Q u e r y ( f u n c t i o n ( ) { v a r   $ t r e e = j Q u e r y ( ' # i n d e x _ _ t r e e ' ) ; d w _ i n d e x . $ o b j = $ t r e e ; d w _ i n d e x . i n i t ( ) ; } ) ; f u n c t i o n   s e l e c t i o n _ c l a s s ( ) { t h i s . s t a r t = 0 ; t h i s . e n d = 0 ; t h i s . o b j = n u l l ; t h i s . s c r o l l = 0 ; t h i s . f i x = 0 ; t h i s . g e t L e n g t h = f u n c t i o n ( ) { r e t u r n   t h i s . e n d - t h i s . s t a r t ; } ; t h i s . g e t T e x t = f u n c t i o n ( ) { r e t u r n ( ! t h i s . o b j ) ? ' ' : t h i s . o b j . v a l u e . s u b s t r i n g ( t h i s . s t a r t , t h i s . e n d ) ; } ; } f u n c t i o n   D W g e t S e l e c t i o n ( t e x t A r e a ) { v a r   s e l = n e w   s e l e c t i o n _ c l a s s ( ) ; t e x t A r e a . f o c u s ( ) ; s e l . o b j = t e x t A r e a ; s e l . s t a r t = t e x t A r e a . s e l e c t i o n S t a r t ; s e l . e n d = t e x t A r e a . s e l e c t i o n E n d ; s e l . s c r o l l = t e x t A r e a . s c r o l l T o p ; r e t u r n   s e l ; } f u n c t i o n   D W s e t S e l e c t i o n ( s e l e c t i o n ) { s e l e c t i o n . o b j . s e t S e l e c t i o n R a n g e ( s e l e c t i o n . s t a r t , s e l e c t i o n . e n d ) ; i f ( s e l e c t i o n . s c r o l l ) s e l e c t i o n . o b j . s c r o l l T o p = s e l e c t i o n . s c r o l l ; } f u n c t i o n   p a s t e T e x t ( s e l e c t i o n , t e x t , o p t s ) { i f ( ! o p t s ) o p t s = { } ; s e l e c t i o n . o b j . v a l u e = s e l e c t i o n . o b j . v a l u e . s u b s t r i n g ( 0 , s e l e c t i o n . s t a r t ) + t e x t + s e l e c t i o n . o b j . v a l u e . s u b s t r i n g ( s e l e c t i o n . e n d , s e l e c t i o n . o b j . v a l u e . l e n g t h ) ; i f ( i s _ o p e r a ) { s e l e c t i o n . e n d = s e l e c t i o n . s t a r t + t e x t . r e p l a c e ( / \ r ? \ n / g , ' \ r \ n ' ) . l e n g t h ; } e l s e { s e l e c t i o n . e n d = s e l e c t i o n . s t a r t + t e x t . l e n g t h ; } i f ( o p t s . s t a r t o f s ) s e l e c t i o n . s t a r t + = o p t s . s t a r t o f s ; i f ( o p t s . e n d o f s ) s e l e c t i o n . e n d - = o p t s . e n d o f s ; i f ( o p t s . n o s e l ) s e l e c t i o n . s t a r t = s e l e c t i o n . e n d ; D W s e t S e l e c t i o n ( s e l e c t i o n ) ; } f u n c t i o n   i n s e r t T a g s ( t e x t A r e a I D , t a g O p e n , t a g C l o s e , s a m p l e T e x t ) { v a r   t x t a r e a = j Q u e r y ( ' # ' + t e x t A r e a I D ) [ 0 ] ; v a r   s e l e c t i o n = D W g e t S e l e c t i o n ( t x t a r e a ) ; v a r   t e x t = s e l e c t i o n . g e t T e x t ( ) ; v a r   o p t s ; i f ( t e x t . c h a r A t ( t e x t . l e n g t h - 1 ) = = '   ' ) { s e l e c t i o n . e n d - - ; t e x t = s e l e c t i o n . g e t T e x t ( ) ; } i f ( ! t e x t ) { t e x t = s a m p l e T e x t ; o p t s = { s t a r t o f s : t a g O p e n . l e n g t h , e n d o f s : t a g C l o s e . l e n g t h } ; } e l s e { o p t s = { n o s e l : t r u e } ; } t e x t = t a g O p e n + t e x t + t a g C l o s e ; p a s t e T e x t ( s e l e c t i o n , t e x t , o p t s ) ; } f u n c t i o n   i n s e r t A t C a r r e t ( t e x t A r e a I D , t e x t ) { v a r   t x t a r e a = j Q u e r y ( ' # ' + t e x t A r e a I D ) [ 0 ] ; v a r   s e l e c t i o n = D W g e t S e l e c t i o n ( t x t a r e a ) ; p a s t e T e x t ( s e l e c t i o n , t e x t , { n o s e l : t r u e } ) ; } v a r   p i c k e r c o u n t e r = 0 ; f u n c t i o n   i n i t T o o l b a r ( t b i d , e d i d , t b , a l l o w b l o c k ) { v a r   $ t o o l b a r , $ e d i t ; i f ( t y p e o f   t b i d = = ' s t r i n g ' ) { $ t o o l b a r = j Q u e r y ( ' # ' + t b i d ) ; } e l s e { $ t o o l b a r = j Q u e r y ( t b i d ) ; } $ e d i t = j Q u e r y ( ' # ' + e d i d ) ; i f ( $ t o o l b a r . l e n g t h = = 0 | | $ e d i t . l e n g t h = = 0 | | $ e d i t . a t t r ( ' r e a d O n l y ' ) ) { r e t u r n ; } i f ( t y p e o f   a l l o w b l o c k = = = ' u n d e f i n e d ' ) { a l l o w b l o c k = t r u e ; } $ t o o l b a r . h t m l ( ' ' ) ; j Q u e r y . e a c h ( t b , f u n c t i o n ( k , v a l ) { i f ( ! t b . h a s O w n P r o p e r t y ( k ) | | ( ! a l l o w b l o c k & & v a l . b l o c k = = = t r u e ) ) { r e t u r n ; } v a r   a c t i o n F u n c , $ b t n ; $ b t n = j Q u e r y ( c r e a t e T o o l B u t t o n ( v a l . i c o n , v a l . t i t l e , v a l . k e y , v a l . i d , v a l [ ' c l a s s ' ] ) ) ; a c t i o n F u n c = ' t b _ ' + v a l . t y p e ; i f ( j Q u e r y . i s F u n c t i o n ( w i n d o w [ a c t i o n F u n c ] ) ) { $ b t n . o n ( ' c l i c k ' , b i n d ( w i n d o w [ a c t i o n F u n c ] , $ b t n , v a l , e d i d ) ) ; $ t o o l b a r . a p p e n d ( $ b t n ) ; r e t u r n ; } a c t i o n F u n c = ' a d d B t n A c t i o n ' + v a l . t y p e . c h a r A t ( 0 ) . t o U p p e r C a s e ( ) + v a l . t y p e . s u b s t r i n g ( 1 ) ; i f ( j Q u e r y . i s F u n c t i o n ( w i n d o w [ a c t i o n F u n c ] ) ) { v a r   p i c k e r i d = w i n d o w [ a c t i o n F u n c ] ( $ b t n , v a l , e d i d ) ; i f ( p i c k e r i d ! = = ' ' ) { $ t o o l b a r . a p p e n d ( $ b t n ) ; $ b t n . a t t r ( ' a r i a - c o n t r o l s ' , p i c k e r i d ) ; i f ( a c t i o n F u n c = = = ' a d d B t n A c t i o n P i c k e r ' ) { $ b t n . a t t r ( ' a r i a - h a s p o p u p ' , ' t r u e ' ) ; } } r e t u r n ; } a l e r t ( ' u n k n o w n   t o o l b a r   t y p e :   ' + v a l . t y p e + '     ' + a c t i o n F u n c ) ; } ) ; } f u n c t i o n   t b _ f o r m a t ( b t n , p r o p s , e d i d ) { v a r   s a m p l e = p r o p s . s a m p l e | | p r o p s . t i t l e ; i n s e r t T a g s ( e d i d , f i x t x t ( p r o p s . o p e n ) , f i x t x t ( p r o p s . c l o s e ) , f i x t x t ( s a m p l e ) ) ; p i c k e r C l o s e ( ) ; r e t u r n   f a l s e ; } f u n c t i o n   t b _ f o r m a t l n ( b t n , p r o p s , e d i d ) { v a r   s a m p l e = p r o p s . s a m p l e | | p r o p s . t i t l e , o p t s , s e l e c t i o n = D W g e t S e l e c t i o n ( j Q u e r y ( ' # ' + e d i d ) [ 0 ] ) ; s a m p l e = f i x t x t ( s a m p l e ) ; p r o p s . o p e n = f i x t x t ( p r o p s . o p e n ) ; p r o p s . c l o s e = f i x t x t ( p r o p s . c l o s e ) ; i f ( s e l e c t i o n . g e t L e n g t h ( ) ) { s a m p l e = s e l e c t i o n . g e t T e x t ( ) ; o p t s = { n o s e l : t r u e } ; } e l s e { o p t s = { s t a r t o f s : p r o p s . o p e n . l e n g t h , e n d o f s : p r o p s . c l o s e . l e n g t h } ; } s a m p l e = s a m p l e . s p l i t ( " \ n " ) . j o i n ( p r o p s . c l o s e + " \ n " + p r o p s . o p e n ) ; s a m p l e = p r o p s . o p e n + s a m p l e + p r o p s . c l o s e ; p a s t e T e x t ( s e l e c t i o n , s a m p l e , o p t s ) ; p i c k e r C l o s e ( ) ; r e t u r n   f a l s e ; } f u n c t i o n   t b _ i n s e r t ( b t n , p r o p s , e d i d ) { i n s e r t A t C a r r e t ( e d i d , f i x t x t ( p r o p s . i n s e r t ) ) ; p i c k e r C l o s e ( ) ; r e t u r n   f a l s e ; } f u n c t i o n   t b _ m e d i a p o p u p ( b t n , p r o p s , e d i d ) { w i n d o w . o p e n ( D O K U _ B A S E + p r o p s . u r l + e n c o d e U R I C o m p o n e n t ( N S ) + ' & e d i d = ' + e n c o d e U R I C o m p o n e n t ( e d i d ) , p r o p s . n a m e , p r o p s . o p t i o n s ) ; r e t u r n   f a l s e ; } f u n c t i o n   t b _ a u t o h e a d ( b t n , p r o p s , e d i d ) { v a r   l v l = c u r r e n t H e a d l i n e L e v e l ( e d i d ) , t a g s ; l v l + = p r o p s . m o d ; i f ( l v l < 1 ) l v l = 1 ; i f ( l v l > 5 ) l v l = 5 ; t a g s = ( n e w   A r r a y ( 8 - l v l ) ) . j o i n ( ' = ' ) ; i n s e r t T a g s ( e d i d , t a g s + '   ' , '   ' + t a g s + " \ n " , p r o p s . t e x t ) ; p i c k e r C l o s e ( ) ; r e t u r n   f a l s e ; } f u n c t i o n   a d d B t n A c t i o n P i c k e r ( $ b t n , p r o p s , e d i d ) { v a r   p i c k e r i d = ' p i c k e r ' + ( p i c k e r c o u n t e r + + ) ; v a r   p i c k e r = c r e a t e P i c k e r ( p i c k e r i d , p r o p s , e d i d ) ; j Q u e r y ( p i c k e r ) . a t t r ( ' a r i a - h i d d e n ' , ' t r u e ' ) ; $ b t n . c l i c k ( f u n c t i o n ( e ) { p i c k e r T o g g l e ( p i c k e r i d , $ b t n ) ; e . p r e v e n t D e f a u l t ( ) ; r e t u r n ' ' ; } ) ; r e t u r n   p i c k e r i d ; } f u n c t i o n   a d d B t n A c t i o n L i n k w i z ( $ b t n , p r o p s , e d i d ) { d w _ l i n k w i z . i n i t ( j Q u e r y ( ' # ' + e d i d ) ) ; j Q u e r y ( $ b t n ) . c l i c k ( f u n c t i o n ( e ) { d w _ l i n k w i z . v a l = p r o p s ; d w _ l i n k w i z . t o g g l e ( ) ; e . p r e v e n t D e f a u l t ( ) ; r e t u r n ' ' ; } ) ; r e t u r n ' l i n k _ _ w i z ' ; } f u n c t i o n   p i c k e r T o g g l e ( p i c k e r i d , $ b t n ) { v a r   $ p i c k e r = j Q u e r y ( ' # ' + p i c k e r i d ) , p o s = $ b t n . o f f s e t ( ) ; i f ( $ p i c k e r . h a s C l a s s ( ' a 1 1 y ' ) ) { $ p i c k e r . r e m o v e C l a s s ( ' a 1 1 y ' ) . a t t r ( ' a r i a - h i d d e n ' , ' f a l s e ' ) ; } e l s e { $ p i c k e r . a d d C l a s s ( ' a 1 1 y ' ) . a t t r ( ' a r i a - h i d d e n ' , ' t r u e ' ) ; } v a r   p i c k e r _ l e f t = p o s . l e f t + 3 , p i c k e r _ w i d t h = $ p i c k e r . w i d t h ( ) , w i n d o w _ w i d t h = j Q u e r y ( w i n d o w ) . w i d t h ( ) ; i f ( p i c k e r _ w i d t h > 3 0 0 ) { $ p i c k e r . c s s ( " m a x - w i d t h " , " 3 0 0 " ) ; p i c k e r _ w i d t h = 3 0 0 ; } i f ( ( p i c k e r _ l e f t + p i c k e r _ w i d t h + 4 0 ) > w i n d o w _ w i d t h ) { p i c k e r _ l e f t = w i n d o w _ w i d t h - p i c k e r _ w i d t h - 4 0 ; } i f ( p i c k e r _ l e f t < 0 ) { p i c k e r _ l e f t = 0 ; } $ p i c k e r . o f f s e t ( { l e f t : p i c k e r _ l e f t , t o p : p o s . t o p + $ b t n [ 0 ] . o f f s e t H e i g h t + 3 } ) ; } f u n c t i o n   p i c k e r C l o s e ( ) { j Q u e r y ( ' . p i c k e r ' ) . a d d C l a s s ( ' a 1 1 y ' ) ; } f u n c t i o n   f i x t x t ( s t r ) { r e t u r n   s t r . r e p l a c e ( / \ \ n / g , " \ n " ) ; } j Q u e r y ( f u n c t i o n ( ) { i n i t T o o l b a r ( ' t o o l _ _ b a r ' , ' w i k i _ _ t e x t ' , t o o l b a r ) ; j Q u e r y ( ' # t o o l _ _ b a r ' ) . a t t r ( ' r o l e ' , ' t o o l b a r ' ) ; } ) ; f u n c t i o n   c r e a t e T o o l B u t t o n ( i c o n , l a b e l , k e y , i d , c l a s s n a m e ) { v a r   $ b t n = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' b u t t o n ' ) ) , $ i c o = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' i m g ' ) ) ; $ b t n . a d d C l a s s ( ' t o o l b u t t o n ' ) ; i f ( c l a s s n a m e ) { $ b t n . a d d C l a s s ( c l a s s n a m e ) ; } $ b t n . a t t r ( ' t i t l e ' , l a b e l ) . a t t r ( ' a r i a - c o n t r o l s ' , ' w i k i _ _ t e x t ' ) ; i f ( k e y ) { $ b t n . a t t r ( ' t i t l e ' , l a b e l + '   [ ' + k e y . t o U p p e r C a s e ( ) + ' ] ' ) . a t t r ( ' a c c e s s K e y ' , k e y ) ; } i f ( i d ) { $ b t n . a t t r ( ' i d ' , i d ) ; $ i c o . a t t r ( ' i d ' , i d + ' _ i c o ' ) ; } i f ( i c o n . s u b s t r ( 0 , 1 ) ! = = ' / ' ) { i c o n = D O K U _ B A S E + ' l i b / i m a g e s / t o o l b a r / ' + i c o n ; } $ i c o . a t t r ( ' s r c ' , i c o n ) ; $ i c o . a t t r ( ' a l t ' , ' ' ) ; $ i c o . a t t r ( ' w i d t h ' , 1 6 ) ; $ i c o . a t t r ( ' h e i g h t ' , 1 6 ) ; $ b t n . a p p e n d ( $ i c o ) ; r e t u r n   $ b t n [ 0 ] ; } f u n c t i o n   c r e a t e P i c k e r ( i d , p r o p s , e d i d ) { v a r   $ p i c k e r = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ) ; $ p i c k e r . a d d C l a s s ( ' p i c k e r   a 1 1 y ' ) ; i f ( p r o p s [ ' c l a s s ' ] ) { $ p i c k e r . a d d C l a s s ( p r o p s [ ' c l a s s ' ] ) ; } $ p i c k e r . a t t r ( ' i d ' , i d ) . c s s ( ' p o s i t i o n ' , ' a b s o l u t e ' ) ; f u n c t i o n   $ m a k e b u t t o n ( t i t l e ) { v a r   $ b t n = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' b u t t o n ' ) ) . a d d C l a s s ( ' p i c k e r b u t t o n ' ) . a t t r ( ' t i t l e ' , t i t l e ) . a t t r ( ' a r i a - c o n t r o l s ' , e d i d ) . o n ( ' c l i c k ' , b i n d ( p i c k e r I n s e r t , t i t l e , e d i d ) ) . a p p e n d T o ( $ p i c k e r ) ; r e t u r n   $ b t n ; } j Q u e r y . e a c h ( p r o p s . l i s t , f u n c t i o n ( k e y , i t e m ) { i f ( ! p r o p s . l i s t . h a s O w n P r o p e r t y ( k e y ) ) { r e t u r n ; } i f ( i s N a N ( k e y ) ) { i f ( i t e m . s u b s t r ( 0 , 1 ) ! = = ' / ' ) { i t e m = D O K U _ B A S E + ' l i b / i m a g e s / ' + p r o p s . i c o b a s e + ' / ' + i t e m ; } j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' i m g ' ) ) . a t t r ( ' s r c ' , i t e m ) . a t t r ( ' a l t ' , ' ' ) . a p p e n d T o ( $ m a k e b u t t o n ( k e y ) ) ; } e l s e   i f ( t y p e o f   i t e m = = ' s t r i n g ' ) { $ m a k e b u t t o n ( i t e m ) . t e x t ( i t e m ) ; } e l s e { i n i t T o o l b a r ( $ p i c k e r , e d i d , p r o p s . l i s t ) ; r e t u r n   f a l s e ; } } ) ; j Q u e r y ( ' b o d y ' ) . a p p e n d ( $ p i c k e r ) ; r e t u r n   $ p i c k e r [ 0 ] ; } f u n c t i o n   p i c k e r I n s e r t ( t e x t , e d i d ) { i n s e r t A t C a r r e t ( e d i d , t e x t ) ; p i c k e r C l o s e ( ) ; } f u n c t i o n   a d d B t n A c t i o n S i g n a t u r e ( $ b t n , p r o p s , e d i d ) { i f ( t y p e o f   S I G ! = ' u n d e f i n e d ' & & S I G ! = ' ' ) { $ b t n . o n ( ' c l i c k ' , f u n c t i o n ( e ) { i n s e r t A t C a r r e t ( e d i d , S I G ) ; e . p r e v e n t D e f a u l t ( ) ; } ) ; r e t u r n   e d i d ; } r e t u r n ' ' ; } f u n c t i o n   c u r r e n t H e a d l i n e L e v e l ( t e x t b o x I d ) { v a r   f i e l d = j Q u e r y ( ' # ' + t e x t b o x I d ) [ 0 ] , s = f a l s e , o p t s = [ f i e l d . v a l u e . s u b s t r ( 0 , D W g e t S e l e c t i o n ( f i e l d ) . s t a r t ) ] ; i f ( f i e l d . f o r m . p r e f i x ) { o p t s . p u s h ( f i e l d . f o r m . p r e f i x . v a l u e ) ; } j Q u e r y . e a c h ( o p t s , f u n c t i o n ( _ , o p t ) { v a r   s t r = " \ n " + o p t , l a s t h l = s t r . l a s t I n d e x O f ( " \ n = = " ) ; i f ( l a s t h l ! = = - 1 ) { s = s t r . s u b s t r ( l a s t h l + 1 , 6 ) ; r e t u r n   f a l s e ; } } ) ; i f ( s = = = f a l s e ) { r e t u r n   0 ; } r e t u r n   7 - s . m a t c h ( / ^ = { 2 , 6 } / ) [ 0 ] . l e n g t h ; } w i n d o w . t e x t C h a n g e d = f a l s e ; w i n d o w . d o k u _ e d i t _ t e x t _ c o n t e n t = ' ' ; f u n c t i o n   d e l e t e D r a f t ( ) { i f ( i s _ o p e r a | | w i n d o w . k e e p D r a f t ) { r e t u r n ; } v a r   $ d w f o r m = j Q u e r y ( ' # d w _ _ e d i t f o r m ' ) ; i f ( $ d w f o r m . l e n g t h = = = 0 ) { r e t u r n ; } j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , { c a l l : ' d r a f t d e l ' , i d : $ d w f o r m . f i n d ( ' i n p u t [ n a m e = i d ] ' ) . v a l ( ) } ) ; } j Q u e r y ( f u n c t i o n ( ) { v a r   $ e d i t f o r m = j Q u e r y ( ' # d w _ _ e d i t f o r m ' ) ; i f ( $ e d i t f o r m . l e n g t h = = 0 ) { r e t u r n ; } v a r   $ e d i t _ t e x t = j Q u e r y ( ' # w i k i _ _ t e x t ' ) ; i f ( $ e d i t _ t e x t . l e n g t h > 0 ) { i f ( $ e d i t _ t e x t . a t t r ( ' r e a d O n l y ' ) ) { r e t u r n ; } v a r   s e l = D W g e t S e l e c t i o n ( $ e d i t _ t e x t [ 0 ] ) ; s e l . s t a r t = 0 ; s e l . e n d = 0 ; D W s e t S e l e c t i o n ( s e l ) ; $ e d i t _ t e x t . f o c u s ( ) ; d o k u _ e d i t _ t e x t _ c o n t e n t = $ e d i t _ t e x t . v a l ( ) ; } v a r   c h a n g e H a n d l e r = f u n c t i o n ( ) { d o k u _ h a s T e x t B e e n M o d i f i e d ( ) ; d o k u _ s u m m a r y C h e c k ( ) ; } ; $ e d i t f o r m . c h a n g e ( c h a n g e H a n d l e r ) ; $ e d i t f o r m . k e y d o w n ( c h a n g e H a n d l e r ) ; w i n d o w . o n b e f o r e u n l o a d = f u n c t i o n ( ) { i f ( w i n d o w . t e x t C h a n g e d ) { r e t u r n   L A N G . n o t s a v e d y e t ; } } ; w i n d o w . o n u n l o a d = d e l e t e D r a f t ; j Q u e r y ( ' # e d b t n _ _ s a v e ' ) . c l i c k ( f u n c t i o n ( ) { w i n d o w . o n b e f o r e u n l o a d = ' ' ; t e x t C h a n g e d = f a l s e ; } ) ; j Q u e r y ( ' # e d b t n _ _ p r e v i e w ' ) . c l i c k ( f u n c t i o n ( ) { w i n d o w . o n b e f o r e u n l o a d = ' ' ; t e x t C h a n g e d = f a l s e ; w i n d o w . k e e p D r a f t = t r u e ; } ) ; v a r   $ s u m m a r y = j Q u e r y ( ' # e d i t _ _ s u m m a r y ' ) ; $ s u m m a r y . c h a n g e ( d o k u _ s u m m a r y C h e c k ) ; $ s u m m a r y . k e y u p ( d o k u _ s u m m a r y C h e c k ) ; i f ( t e x t C h a n g e d ) d o k u _ s u m m a r y C h e c k ( ) ; } ) ; f u n c t i o n   d o k u _ h a s T e x t B e e n M o d i f i e d ( ) { i f ( ! t e x t C h a n g e d ) { v a r   $ e d i t _ t e x t = j Q u e r y ( ' # w i k i _ _ t e x t ' ) ; i f ( $ e d i t _ t e x t . l e n g t h > 0 ) { t e x t C h a n g e d = d o k u _ e d i t _ t e x t _ c o n t e n t ! = $ e d i t _ t e x t . v a l ( ) ; } e l s e { t e x t C h a n g e d = t r u e ; } } } f u n c t i o n   d o k u _ s u m m a r y C h e c k ( ) { v a r   $ s u m = j Q u e r y ( ' # e d i t _ _ s u m m a r y ' ) , m i s s i n g = $ s u m . v a l ( ) = = = ' ' ; $ s u m . t o g g l e C l a s s ( ' m i s s i n g ' , m i s s i n g ) . t o g g l e C l a s s ( ' e d i t ' , ! m i s s i n g ) ; } v a r   d w _ e d i t o r = { i n i t : f u n c t i o n ( ) { v a r   $ e d i t o r = j Q u e r y ( ' # w i k i _ _ t e x t ' ) ; i f ( $ e d i t o r . l e n g t h = = = 0 ) { r e t u r n ; } d w _ e d i t o r . i n i t S i z e C t l ( ' # s i z e _ _ c t l ' , $ e d i t o r ) ; i f ( $ e d i t o r . a t t r ( ' r e a d O n l y ' ) ) { r e t u r n ; } $ e d i t o r . k e y d o w n ( d w _ e d i t o r . k e y H a n d l e r ) ; } , i n i t S i z e C t l : f u n c t i o n ( c t l a r e a , e d i t o r ) { v a r   $ c t l = j Q u e r y ( c t l a r e a ) , $ t e x t a r e a = j Q u e r y ( e d i t o r ) ; i f ( $ c t l . l e n g t h = = = 0 | | $ t e x t a r e a . l e n g t h = = = 0 ) { r e t u r n ; } $ t e x t a r e a . c s s ( ' h e i g h t ' , D o k u C o o k i e . g e t V a l u e ( ' s i z e C t l ' ) | | ' 3 0 0 p x ' ) ; v a r   w r p = D o k u C o o k i e . g e t V a l u e ( ' w r a p C t l ' ) ; i f ( w r p ) { d w _ e d i t o r . s e t W r a p ( $ t e x t a r e a [ 0 ] , w r p ) ; } j Q u e r y . e a c h ( [ [ ' l a r g e r ' , f u n c t i o n ( ) { d w _ e d i t o r . s i z e C t l ( e d i t o r , 1 0 0 ) ; } ] , [ ' s m a l l e r ' , f u n c t i o n ( ) { d w _ e d i t o r . s i z e C t l ( e d i t o r , - 1 0 0 ) ; } ] , [ ' w r a p ' , f u n c t i o n ( ) { d w _ e d i t o r . t o g g l e W r a p ( e d i t o r ) ; } ] ] , f u n c t i o n ( _ , i m g ) { j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' i m g ' ) ) . a t t r ( ' s r c ' , D O K U _ B A S E + ' l i b / i m a g e s / ' + i m g [ 0 ] + ' . g i f ' ) . a t t r ( ' a l t ' , ' ' ) . c l i c k ( i m g [ 1 ] ) . a p p e n d T o ( $ c t l ) ; } ) ; } , s i z e C t l : f u n c t i o n ( e d i t o r , v a l ) { v a r   $ t e x t a r e a = j Q u e r y ( e d i t o r ) , h e i g h t = p a r s e I n t ( $ t e x t a r e a . c s s ( ' h e i g h t ' ) ) + v a l ; $ t e x t a r e a . c s s ( ' h e i g h t ' , h e i g h t + ' p x ' ) ; D o k u C o o k i e . s e t V a l u e ( ' s i z e C t l ' , $ t e x t a r e a . c s s ( ' h e i g h t ' ) ) ; } , t o g g l e W r a p : f u n c t i o n ( e d i t o r ) { v a r   $ t e x t a r e a = j Q u e r y ( e d i t o r ) , w r a p = $ t e x t a r e a . a t t r ( ' w r a p ' ) ; d w _ e d i t o r . s e t W r a p ( $ t e x t a r e a [ 0 ] , ( w r a p & & w r a p . t o L o w e r C a s e ( ) = = ' o f f ' ) ? ' s o f t ' : ' o f f ' ) ; D o k u C o o k i e . s e t V a l u e ( ' w r a p C t l ' , $ t e x t a r e a . a t t r ( ' w r a p ' ) ) ; } , s e t W r a p : f u n c t i o n ( t e x t a r e a , w r a p A t t r V a l u e ) { t e x t a r e a . s e t A t t r i b u t e ( ' w r a p ' , w r a p A t t r V a l u e ) ; v a r   p a r N o d = t e x t a r e a . p a r e n t N o d e ; v a r   n x t S i b = t e x t a r e a . n e x t S i b l i n g ; p a r N o d . r e m o v e C h i l d ( t e x t a r e a ) ; p a r N o d . i n s e r t B e f o r e ( t e x t a r e a , n x t S i b ) ; } , k e y H a n d l e r : f u n c t i o n ( e ) { i f ( j Q u e r y . i n A r r a y ( e . k e y C o d e , [ 8 , 1 0 , 1 3 , 3 2 ] ) = = = - 1 ) { r e t u r n ; } v a r   s e l e c t i o n = D W g e t S e l e c t i o n ( t h i s ) ; i f ( s e l e c t i o n . g e t L e n g t h ( ) > 0 ) { r e t u r n ; } v a r   s e a r c h = " \ n " + t h i s . v a l u e . s u b s t r ( 0 , s e l e c t i o n . s t a r t ) ; v a r   l i n e s t a r t = M a t h . m a x ( s e a r c h . l a s t I n d e x O f ( " \ n " ) , s e a r c h . l a s t I n d e x O f ( " \ r " ) ) ; s e a r c h = s e a r c h . s u b s t r ( l i n e s t a r t ) ; i f ( ( e . k e y C o d e = = 1 3 | | e . k e y C o d e = = 1 0 ) & & e . c t r l K e y ) { j Q u e r y ( ' # e d b t n _ _ s a v e ' ) . c l i c k ( ) ; e . p r e v e n t D e f a u l t ( ) ; r e t u r n   f a l s e ; } e l s e   i f ( e . k e y C o d e = = 1 3 ) { v a r   m a t c h = s e a r c h . m a t c h ( / ( \ n     + ( [ \ * - ]   ? ) ? ) / ) ; i f ( m a t c h ) { v a r   s c r o l l = t h i s . s c r o l l H e i g h t ; v a r   m a t c h 2 = s e a r c h . m a t c h ( / ^ \ n     + [ \ * - ] \ s * $ / ) ; i f ( m a t c h 2 & & t h i s . v a l u e . s u b s t r ( s e l e c t i o n . s t a r t ) . m a t c h ( / ^ ( $ | \ r ? \ n ) / ) ) { t h i s . v a l u e = t h i s . v a l u e . s u b s t r ( 0 , l i n e s t a r t ) + " \ n " + t h i s . v a l u e . s u b s t r ( s e l e c t i o n . s t a r t ) ; s e l e c t i o n . s t a r t = l i n e s t a r t + 1 ; s e l e c t i o n . e n d = l i n e s t a r t + 1 ; D W s e t S e l e c t i o n ( s e l e c t i o n ) ; } e l s e { i n s e r t A t C a r r e t ( t h i s . i d , m a t c h [ 1 ] ) ; } t h i s . s c r o l l T o p + = ( t h i s . s c r o l l H e i g h t - s c r o l l ) ; e . p r e v e n t D e f a u l t ( ) ; r e t u r n   f a l s e ; } } e l s e   i f ( e . k e y C o d e = = 8 ) { v a r   m a t c h = s e a r c h . m a t c h ( / ( \ n     + ) ( [ * - ]   ? ) $ / ) ; i f ( m a t c h ) { v a r   s p a c e s = m a t c h [ 1 ] . l e n g t h - 1 ; i f ( s p a c e s > 3 ) { t h i s . v a l u e = t h i s . v a l u e . s u b s t r ( 0 , l i n e s t a r t ) + t h i s . v a l u e . s u b s t r ( l i n e s t a r t + 2 ) ; s e l e c t i o n . s t a r t = s e l e c t i o n . s t a r t - 2 ; s e l e c t i o n . e n d = s e l e c t i o n . s t a r t ; } e l s e { t h i s . v a l u e = t h i s . v a l u e . s u b s t r ( 0 , l i n e s t a r t ) + t h i s . v a l u e . s u b s t r ( s e l e c t i o n . s t a r t ) ; s e l e c t i o n . s t a r t = l i n e s t a r t ; s e l e c t i o n . e n d = l i n e s t a r t ; } D W s e t S e l e c t i o n ( s e l e c t i o n ) ; e . p r e v e n t D e f a u l t ( ) ; r e t u r n   f a l s e ; } } e l s e   i f ( e . k e y C o d e = = 3 2 ) { v a r   m a t c h = s e a r c h . m a t c h ( / ( \ n     + ) ( [ * - ]   ) $ / ) ; i f ( m a t c h ) { t h i s . v a l u e = t h i s . v a l u e . s u b s t r ( 0 , l i n e s t a r t ) + '     ' + t h i s . v a l u e . s u b s t r ( l i n e s t a r t ) ; s e l e c t i o n . s t a r t = s e l e c t i o n . s t a r t + 2 ; s e l e c t i o n . e n d = s e l e c t i o n . s t a r t ; D W s e t S e l e c t i o n ( s e l e c t i o n ) ; e . p r e v e n t D e f a u l t ( ) ; r e t u r n   f a l s e ; } } } } ; j Q u e r y ( d w _ e d i t o r . i n i t ) ; v a r   d w _ l o c k t i m e r = { t i m e o u t : 0 , d r a f t : f a l s e , t i m e r I D : n u l l , l a s t t i m e : n u l l , m s g : L A N G . w i l l e x p i r e , p a g e i d : ' ' , i n i t : f u n c t i o n ( t i m e o u t , d r a f t , e d i d ) { v a r   $ e d i t ; e d i d = e d i d | | ' w i k i _ _ t e x t ' ; $ e d i t = j Q u e r y ( ' # ' + e d i d ) ; i f ( $ e d i t . l e n g t h = = = 0 | | $ e d i t . a t t r ( ' r e a d o n l y ' ) ) { r e t u r n ; } d w _ l o c k t i m e r . t i m e o u t = t i m e o u t * 1 0 0 0 ; d w _ l o c k t i m e r . d r a f t = d r a f t ; d w _ l o c k t i m e r . l a s t t i m e = n e w   D a t e ( ) ; d w _ l o c k t i m e r . p a g e i d = j Q u e r y ( ' # d w _ _ e d i t f o r m ' ) . f i n d ( ' i n p u t [ n a m e = i d ] ' ) . v a l ( ) ; i f ( ! d w _ l o c k t i m e r . p a g e i d ) { r e t u r n ; } $ e d i t . k e y p r e s s ( d w _ l o c k t i m e r . r e f r e s h ) ; d w _ l o c k t i m e r . r e s e t ( ) ; } , r e s e t : f u n c t i o n ( ) { d w _ l o c k t i m e r . c l e a r ( ) ; d w _ l o c k t i m e r . t i m e r I D = w i n d o w . s e t T i m e o u t ( d w _ l o c k t i m e r . w a r n i n g , d w _ l o c k t i m e r . t i m e o u t ) ; } , w a r n i n g : f u n c t i o n ( ) { d w _ l o c k t i m e r . c l e a r ( ) ; a l e r t ( f i x t x t ( d w _ l o c k t i m e r . m s g ) ) ; } , c l e a r : f u n c t i o n ( ) { i f ( d w _ l o c k t i m e r . t i m e r I D ! = = n u l l ) { w i n d o w . c l e a r T i m e o u t ( d w _ l o c k t i m e r . t i m e r I D ) ; d w _ l o c k t i m e r . t i m e r I D = n u l l ; } } , r e f r e s h : f u n c t i o n ( ) { v a r   n o w = n e w   D a t e ( ) , p a r a m s = ' c a l l = l o c k & i d = ' + d w _ l o c k t i m e r . p a g e i d + ' & ' ; i f ( n o w . g e t T i m e ( ) - d w _ l o c k t i m e r . l a s t t i m e . g e t T i m e ( ) < = 3 0 * 1 0 0 0 ) { r e t u r n ; } i f ( d w _ l o c k t i m e r . d r a f t & & j Q u e r y ( ' # d w _ _ e d i t f o r m ' ) . f i n d ( ' t e x t a r e a [ n a m e = w i k i t e x t ] ' ) . l e n g t h > 0 ) { p a r a m s + = j Q u e r y ( ' # d w _ _ e d i t f o r m ' ) . f i n d ( ' i n p u t [ n a m e = p r e f i x ] ,   ' + ' t e x t a r e a [ n a m e = w i k i t e x t ] ,   ' + ' i n p u t [ n a m e = s u f f i x ] ,   ' + ' i n p u t [ n a m e = d a t e ] ' ) . s e r i a l i z e ( ) ; } j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , p a r a m s , d w _ l o c k t i m e r . r e f r e s h e d , ' h t m l ' ) ; d w _ l o c k t i m e r . l a s t t i m e = n o w ; } , r e f r e s h e d : f u n c t i o n ( d a t a ) { v a r   e r r o r = d a t a . c h a r A t ( 0 ) ; d a t a = d a t a . s u b s t r i n g ( 1 ) ; j Q u e r y ( ' # d r a f t _ _ s t a t u s ' ) . h t m l ( d a t a ) ; i f ( e r r o r ! = ' 1 ' ) { r e t u r n ; } d w _ l o c k t i m e r . r e s e t ( ) ; } } ; v a r   d w _ l i n k w i z = { $ w i z : n u l l , $ e n t r y : n u l l , r e s u l t : n u l l , t i m e r : n u l l , t e x t A r e a : n u l l , s e l e c t e d : n u l l , s e l e c t i o n : n u l l , i n i t : f u n c t i o n ( $ e d i t o r ) { v a r   p o s = $ e d i t o r . p o s i t i o n ( ) ; i f ( d w _ l i n k w i z . $ w i z ) r e t u r n ; d w _ l i n k w i z . $ w i z = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ) . d i a l o g ( { a u t o O p e n : f a l s e , d r a g g a b l e : t r u e , t i t l e : L A N G . l i n k w i z , r e s i z a b l e : f a l s e } ) . h t m l ( ' < d i v > ' + L A N G . l i n k t o + '   < i n p u t   t y p e = " t e x t "   c l a s s = " e d i t "   i d = " l i n k _ _ w i z _ e n t r y "   a u t o c o m p l e t e = " o f f "   / > < / d i v > ' + ' < d i v   i d = " l i n k _ _ w i z _ r e s u l t " > < / d i v > ' ) . p a r e n t ( ) . a t t r ( ' i d ' , ' l i n k _ _ w i z ' ) . c s s ( { ' p o s i t i o n ' : ' a b s o l u t e ' , ' t o p ' : ( p o s . t o p + 2 0 ) + ' p x ' , ' l e f t ' : ( p o s . l e f t + 8 0 ) + ' p x ' } ) . h i d e ( ) . a p p e n d T o ( ' . d o k u w i k i : f i r s t ' ) ; d w _ l i n k w i z . t e x t A r e a = $ e d i t o r [ 0 ] ; d w _ l i n k w i z . r e s u l t = j Q u e r y ( ' # l i n k _ _ w i z _ r e s u l t ' ) [ 0 ] ; j Q u e r y ( d w _ l i n k w i z . r e s u l t ) . c s s ( ' p o s i t i o n ' , ' r e l a t i v e ' ) ; d w _ l i n k w i z . $ e n t r y = j Q u e r y ( ' # l i n k _ _ w i z _ e n t r y ' ) ; i f ( J S I N F O . n a m e s p a c e ) { d w _ l i n k w i z . $ e n t r y . v a l ( J S I N F O . n a m e s p a c e + ' : ' ) ; } j Q u e r y ( ' # l i n k _ _ w i z   . u i - d i a l o g - t i t l e b a r - c l o s e ' ) . c l i c k ( d w _ l i n k w i z . h i d e ) ; d w _ l i n k w i z . $ e n t r y . k e y u p ( d w _ l i n k w i z . o n E n t r y ) ; j Q u e r y ( d w _ l i n k w i z . r e s u l t ) . o n ( ' c l i c k ' , ' a ' , d w _ l i n k w i z . o n R e s u l t C l i c k ) ; } , o n E n t r y : f u n c t i o n ( e ) { i f ( e . k e y C o d e = = 3 7 | | e . k e y C o d e = = 3 9 ) { r e t u r n   t r u e ; } i f ( e . k e y C o d e = = 2 7 ) { d w _ l i n k w i z . h i d e ( ) ; e . p r e v e n t D e f a u l t ( ) ; e . s t o p P r o p a g a t i o n ( ) ; r e t u r n   f a l s e ; } i f ( e . k e y C o d e = = 3 8 ) { d w _ l i n k w i z . s e l e c t ( d w _ l i n k w i z . s e l e c t e d - 1 ) ; e . p r e v e n t D e f a u l t ( ) ; e . s t o p P r o p a g a t i o n ( ) ; r e t u r n   f a l s e ; } i f ( e . k e y C o d e = = 4 0 ) { d w _ l i n k w i z . s e l e c t ( d w _ l i n k w i z . s e l e c t e d + 1 ) ; e . p r e v e n t D e f a u l t ( ) ; e . s t o p P r o p a g a t i o n ( ) ; r e t u r n   f a l s e ; } i f ( e . k e y C o d e = = 1 3 ) { i f ( d w _ l i n k w i z . s e l e c t e d > - 1 ) { v a r   $ o b j = d w _ l i n k w i z . $ g e t R e s u l t ( d w _ l i n k w i z . s e l e c t e d ) ; i f ( $ o b j . l e n g t h > 0 ) { d w _ l i n k w i z . r e s u l t C l i c k ( $ o b j . f i n d ( ' a ' ) [ 0 ] ) ; } } e l s e   i f ( d w _ l i n k w i z . $ e n t r y . v a l ( ) ) { d w _ l i n k w i z . i n s e r t L i n k ( d w _ l i n k w i z . $ e n t r y . v a l ( ) ) ; } e . p r e v e n t D e f a u l t ( ) ; e . s t o p P r o p a g a t i o n ( ) ; r e t u r n   f a l s e ; } d w _ l i n k w i z . a u t o c o m p l e t e ( ) ; } , g e t R e s u l t : f u n c t i o n ( n u m ) { D E P R E C A T E D ( ' u s e   d w _ l i n k w i z . $ g e t R e s u l t ( ) [ 0 ]   i n s t e a d ' ) ; r e t u r n   d w _ l i n k w i z . $ g e t R e s u l t ( ) [ 0 ] | | n u l l ; } , $ g e t R e s u l t : f u n c t i o n ( n u m ) { r e t u r n   j Q u e r y ( d w _ l i n k w i z . r e s u l t ) . f i n d ( ' d i v ' ) . e q ( n u m ) ; } , s e l e c t : f u n c t i o n ( n u m ) { i f ( n u m < 0 ) { d w _ l i n k w i z . d e s e l e c t ( ) ; r e t u r n ; } v a r   $ o b j = d w _ l i n k w i z . $ g e t R e s u l t ( n u m ) ; i f ( $ o b j . l e n g t h = = = 0 ) { r e t u r n ; } d w _ l i n k w i z . d e s e l e c t ( ) ; $ o b j . a d d C l a s s ( ' s e l e c t e d ' ) ; v a r   c h i l d P o s = $ o b j . p o s i t i o n ( ) . t o p ; v a r   y D i f f = c h i l d P o s + $ o b j . o u t e r H e i g h t ( ) - j Q u e r y ( d w _ l i n k w i z . r e s u l t ) . i n n e r H e i g h t ( ) ; i f ( c h i l d P o s < 0 ) { j Q u e r y ( d w _ l i n k w i z . r e s u l t ) [ 0 ] . s c r o l l T o p + = c h i l d P o s ; } e l s e   i f ( y D i f f > 0 ) { j Q u e r y ( d w _ l i n k w i z . r e s u l t ) [ 0 ] . s c r o l l T o p + = y D i f f ; } d w _ l i n k w i z . s e l e c t e d = n u m ; } , d e s e l e c t : f u n c t i o n ( ) { i f ( d w _ l i n k w i z . s e l e c t e d > - 1 ) { d w _ l i n k w i z . $ g e t R e s u l t ( d w _ l i n k w i z . s e l e c t e d ) . r e m o v e C l a s s ( ' s e l e c t e d ' ) ; } d w _ l i n k w i z . s e l e c t e d = - 1 ; } , o n R e s u l t C l i c k : f u n c t i o n ( e ) { i f ( ! j Q u e r y ( t h i s ) . i s ( ' a ' ) ) { r e t u r n ; } e . s t o p P r o p a g a t i o n ( ) ; e . p r e v e n t D e f a u l t ( ) ; d w _ l i n k w i z . r e s u l t C l i c k ( t h i s ) ; r e t u r n   f a l s e ; } , r e s u l t C l i c k : f u n c t i o n ( a ) { d w _ l i n k w i z . $ e n t r y . v a l ( a . t i t l e ) ; i f ( a . t i t l e = = ' ' | | a . t i t l e . s u b s t r ( a . t i t l e . l e n g t h - 1 ) = = ' : ' ) { d w _ l i n k w i z . a u t o c o m p l e t e _ e x e c ( ) ; } e l s e { i f ( j Q u e r y ( a . n e x t S i b l i n g ) . i s ( ' s p a n ' ) ) { d w _ l i n k w i z . i n s e r t L i n k ( a . n e x t S i b l i n g . i n n e r H T M L ) ; } e l s e { d w _ l i n k w i z . i n s e r t L i n k ( ' ' ) ; } } } , i n s e r t L i n k : f u n c t i o n ( t i t l e ) { v a r   l i n k = d w _ l i n k w i z . $ e n t r y . v a l ( ) , s e l , s t x t ; i f ( ! l i n k ) { r e t u r n ; } s e l = D W g e t S e l e c t i o n ( d w _ l i n k w i z . t e x t A r e a ) ; i f ( s e l . s t a r t = = 0 & & s e l . e n d = = 0 ) { s e l = d w _ l i n k w i z . s e l e c t i o n ; } s t x t = s e l . g e t T e x t ( ) ; i f ( s t x t . c h a r A t ( s t x t . l e n g t h - 1 ) = = '   ' ) { s e l . e n d - - ; s t x t = s e l . g e t T e x t ( ) ; } i f ( ! s t x t & & ! D O K U _ U H C ) { s t x t = t i t l e ; } i f ( d w _ l i n k w i z . t e x t A r e a . f o r m . i d . v a l u e . i n d e x O f ( ' : ' ) ! = - 1 & & l i n k . i n d e x O f ( ' : ' ) = = - 1 ) { l i n k = ' : ' + l i n k ; } v a r   s o = l i n k . l e n g t h ; v a r   e o = 0 ; i f ( d w _ l i n k w i z . v a l ) { i f ( d w _ l i n k w i z . v a l . o p e n ) { s o + = d w _ l i n k w i z . v a l . o p e n . l e n g t h ; l i n k = d w _ l i n k w i z . v a l . o p e n + l i n k ; } l i n k + = ' | ' ; s o + = 1 ; i f ( s t x t ) { l i n k + = s t x t ; } i f ( d w _ l i n k w i z . v a l . c l o s e ) { l i n k + = d w _ l i n k w i z . v a l . c l o s e ; e o = d w _ l i n k w i z . v a l . c l o s e . l e n g t h ; } } p a s t e T e x t ( s e l , l i n k , { s t a r t o f s : s o , e n d o f s : e o } ) ; d w _ l i n k w i z . h i d e ( ) ; v a r   e x t e r n a l l i n k p a t t e r n = n e w   R e g E x p ( ' ^ ( ( f | h t ) t p s ? : ) ? / / ' , ' i ' ) , e n t r y _ v a l u e ; i f ( e x t e r n a l l i n k p a t t e r n . t e s t ( d w _ l i n k w i z . $ e n t r y . v a l ( ) ) ) { i f ( J S I N F O . n a m e s p a c e ) { e n t r y _ v a l u e = J S I N F O . n a m e s p a c e + ' : ' ; } e l s e { e n t r y _ v a l u e = ' ' ; } } e l s e { e n t r y _ v a l u e = d w _ l i n k w i z . $ e n t r y . v a l ( ) . r e p l a c e ( / [ ^ : ] * $ / , ' ' ) } d w _ l i n k w i z . $ e n t r y . v a l ( e n t r y _ v a l u e ) ; } , a u t o c o m p l e t e : f u n c t i o n ( ) { i f ( d w _ l i n k w i z . t i m e r ! = = n u l l ) { w i n d o w . c l e a r T i m e o u t ( d w _ l i n k w i z . t i m e r ) ; d w _ l i n k w i z . t i m e r = n u l l ; } d w _ l i n k w i z . t i m e r = w i n d o w . s e t T i m e o u t ( d w _ l i n k w i z . a u t o c o m p l e t e _ e x e c , 3 5 0 ) ; } , a u t o c o m p l e t e _ e x e c : f u n c t i o n ( ) { v a r   $ r e s = j Q u e r y ( d w _ l i n k w i z . r e s u l t ) ; d w _ l i n k w i z . d e s e l e c t ( ) ; $ r e s . h t m l ( ' < i m g   s r c = " ' + D O K U _ B A S E + ' l i b / i m a g e s / t h r o b b e r . g i f "   a l t = " "   w i d t h = " 1 6 "   h e i g h t = " 1 6 "   / > ' ) . l o a d ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , { c a l l : ' l i n k w i z ' , q : d w _ l i n k w i z . $ e n t r y . v a l ( ) } ) ; } , s h o w : f u n c t i o n ( ) { d w _ l i n k w i z . s e l e c t i o n = D W g e t S e l e c t i o n ( d w _ l i n k w i z . t e x t A r e a ) ; d w _ l i n k w i z . $ w i z . s h o w ( ) ; d w _ l i n k w i z . $ e n t r y . f o c u s ( ) ; d w _ l i n k w i z . a u t o c o m p l e t e ( ) ; v a r   t e m p = d w _ l i n k w i z . $ e n t r y . v a l ( ) ; d w _ l i n k w i z . $ e n t r y . v a l ( ' ' ) ; d w _ l i n k w i z . $ e n t r y . v a l ( t e m p ) ; } , h i d e : f u n c t i o n ( ) { d w _ l i n k w i z . $ w i z . h i d e ( ) ; d w _ l i n k w i z . t e x t A r e a . f o c u s ( ) ; } , t o g g l e : f u n c t i o n ( ) { i f ( d w _ l i n k w i z . $ w i z . c s s ( ' d i s p l a y ' ) = = ' n o n e ' ) { d w _ l i n k w i z . s h o w ( ) ; } e l s e { d w _ l i n k w i z . h i d e ( ) ; } } } ; v a r   d w _ m e d i a m a n a g e r = { k e e p o p e n : f a l s e , h i d e : f a l s e , p o p u p : f a l s e , d i s p l a y : f a l s e , e x t : f a l s e , $ p o p u p : n u l l , a l i g n : f a l s e , l i n k : f a l s e , s i z e : f a l s e , f o r b i d d e n _ o p t s : { } , v i e w _ o p t s : { l i s t : f a l s e , s o r t : f a l s e } , l a y o u t _ w i d t h : 0 , m i n H e i g h t s : { t h u m b s : 2 0 0 , r o w s : 1 0 0 } , i n i t : f u n c t i o n ( ) { v a r   $ c o n t e n t , $ t r e e ; $ c o n t e n t = j Q u e r y ( ' # m e d i a _ _ c o n t e n t ' ) ; $ t r e e = j Q u e r y ( ' # m e d i a _ _ t r e e ' ) ; i f ( ! $ t r e e . l e n g t h ) r e t u r n ; d w _ m e d i a m a n a g e r . p r e p a r e _ c o n t e n t ( $ c o n t e n t ) ; d w _ m e d i a m a n a g e r . a t t a c h o p t i o n s ( ) ; d w _ m e d i a m a n a g e r . i n i t p o p u p ( ) ; $ c o n t e n t   . o n ( ' c h a n g e ' , ' # u p l o a d _ _ f i l e ' , d w _ m e d i a m a n a g e r . s u g g e s t ) . o n ( ' c l i c k ' , ' a . s e l e c t ' , d w _ m e d i a m a n a g e r . s e l e c t ) . o n ( ' c l i c k ' , ' # m e d i a _ _ c o n t e n t   a . b t n _ m e d i a _ d e l e t e ' , d w _ m e d i a m a n a g e r . c o n f i r m a t t a c h ) . o n ( ' s u b m i t ' , ' # m e d i a m a n a g e r _ _ d o n e _ f o r m ' , d w _ m e d i a m a n a g e r . l i s t ) ; $ t r e e . d w _ t r e e ( { t o g g l e _ s e l e c t o r : ' i m g ' , l o a d _ d a t a : f u n c t i o n ( s h o w _ s u b l i s t , $ c l i c k y ) { v a r   $ l i n k = $ c l i c k y . p a r e n t ( ) . f i n d ( ' d i v . l i   a . i d x _ d i r ' ) ; j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , $ l i n k [ 0 ] . s e a r c h . s u b s t r ( 1 ) + ' & c a l l = m e d i a n s ' , s h o w _ s u b l i s t , ' h t m l ' ) ; } , t o g g l e _ d i s p l a y : f u n c t i o n ( $ c l i c k y , o p e n i n g ) { $ c l i c k y . a t t r ( ' s r c ' , D O K U _ B A S E + ' l i b / i m a g e s / ' + ( o p e n i n g ? ' m i n u s ' : ' p l u s ' ) + ' . g i f ' ) ; } } ) ; $ t r e e . o n ( ' c l i c k ' , ' a ' , d w _ m e d i a m a n a g e r . l i s t ) ; d w _ m e d i a m a n a g e r . s e t _ f i l e v i e w _ l i s t ( ) ; d w _ m e d i a m a n a g e r . i n i t _ o p t i o n s ( ) ; d w _ m e d i a m a n a g e r . i m a g e _ d i f f ( ) ; d w _ m e d i a m a n a g e r . i n i t _ a j a x _ u p l o a d e r ( ) ; v a r   $ p a g e = j Q u e r y ( ' # m e d i a m a n a g e r _ _ p a g e ' ) ; $ p a g e . f i n d ( ' d i v . f i l e l i s t ' ) . o n ( ' c l i c k ' , ' u l . t a b s   a ' , d w _ m e d i a m a n a g e r . l i s t ) . o n ( ' c l i c k ' , ' d i v . p a n e l C o n t e n t   a ' , d w _ m e d i a m a n a g e r . d e t a i l s ) . o n ( ' s u b m i t ' , ' # d w _ _ m e d i a s e a r c h ' , d w _ m e d i a m a n a g e r . l i s t ) . o n ( ' c h a n g e ' , ' # u p l o a d _ _ f i l e ' , d w _ m e d i a m a n a g e r . s u g g e s t ) . o n ( ' c l i c k ' , ' . q q - u p l o a d - f i l e   a ' , d w _ m e d i a m a n a g e r . d e t a i l s ) ; $ p a g e . f i n d ( ' d i v . f i l e ' ) . o n ( ' c l i c k ' , ' u l . t a b s   a ' , d w _ m e d i a m a n a g e r . d e t a i l s ) . o n ( ' s u b m i t ' , ' # m e d i a m a n a g e r _ _ b t n _ u p d a t e ' , d w _ m e d i a m a n a g e r . l i s t ) . o n ( ' s u b m i t ' , ' # p a g e _ _ r e v i s i o n s ' , d w _ m e d i a m a n a g e r . d e t a i l s ) . o n ( ' c l i c k ' , ' # p a g e _ _ r e v i s i o n s   a ' , d w _ m e d i a m a n a g e r . d e t a i l s ) . o n ( ' s u b m i t ' , ' # m e d i a m a n a g e r _ _ s a v e _ m e t a ' , d w _ m e d i a m a n a g e r . d e t a i l s ) . o n ( ' s u b m i t ' , ' # m e d i a m a n a g e r _ _ b t n _ d e l e t e ' , d w _ m e d i a m a n a g e r . d e t a i l s ) . o n ( ' s u b m i t ' , ' # m e d i a m a n a g e r _ _ b t n _ r e s t o r e ' , d w _ m e d i a m a n a g e r . d e t a i l s ) . o n ( ' s u b m i t ' , ' . b t n _ n e w e r ,   . b t n _ o l d e r ' , d w _ m e d i a m a n a g e r . d e t a i l s ) ; d w _ m e d i a m a n a g e r . u p d a t e _ r e s i z a b l e ( ) ; d w _ m e d i a m a n a g e r . l a y o u t _ w i d t h = $ p a g e . w i d t h ( ) ; j Q u e r y ( w i n d o w ) . r e s i z e ( d w _ m e d i a m a n a g e r . w i n d o w _ r e s i z e ) ; } , i n i t _ o p t i o n s : f u n c t i o n ( ) { v a r   $ o p t i o n s = j Q u e r y ( ' d i v . f i l e l i s t   d i v . p a n e l H e a d e r   f o r m . o p t i o n s ' ) , $ l i s t T y p e , $ s o r t B y , $ b o t h ; i f ( $ o p t i o n s . l e n g t h = = = 0 ) { r e t u r n ; } $ l i s t T y p e = $ o p t i o n s . f i n d ( ' l i . l i s t T y p e ' ) ; $ s o r t B y = $ o p t i o n s . f i n d ( ' l i . s o r t B y ' ) ; $ b o t h = $ l i s t T y p e . a d d ( $ s o r t B y ) ; $ o p t i o n s . f i n d ( ' b u t t o n [ t y p e = s u b m i t ] ' ) . p a r e n t ( ) . h i d e ( ) ; $ b o t h . f i n d ( ' l a b e l ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ t h i s = j Q u e r y ( t h i s ) ; $ t h i s . c h i l d r e n ( ' i n p u t ' ) . a p p e n d T o ( $ t h i s . p a r e n t ( ) ) ; } ) ; $ b o t h . f i n d ( " i n p u t [ t y p e = ' r a d i o ' ] " ) . c h e c k b o x r a d i o ( { i c o n : f a l s e } ) ; $ b o t h . c o n t r o l g r o u p ( ) ; $ l i s t T y p e . c h i l d r e n ( ' i n p u t ' ) . c h a n g e ( f u n c t i o n ( ) { d w _ m e d i a m a n a g e r . s e t _ f i l e v i e w _ l i s t ( ) ; } ) ; $ s o r t B y . c h i l d r e n ( ' i n p u t ' ) . c h a n g e ( f u n c t i o n ( e v e n t ) { d w _ m e d i a m a n a g e r . s e t _ f i l e v i e w _ s o r t ( ) ; d w _ m e d i a m a n a g e r . l i s t . c a l l ( j Q u e r y ( ' # d w _ _ m e d i a s e a r c h ' ) [ 0 ] | | t h i s , e v e n t ) ; } ) ; } , i n i t p o p u p : f u n c t i o n ( ) { v a r   o p t s , $ i n s p , $ i n s b t n ; d w _ m e d i a m a n a g e r . $ p o p u p = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ) . a t t r ( ' i d ' , ' m e d i a _ _ p o p u p _ c o n t e n t ' ) . d i a l o g ( { a u t o O p e n : f a l s e , w i d t h : 2 8 0 , m o d a l : t r u e , d r a g g a b l e : t r u e , t i t l e : L A N G . m e d i a t i t l e , r e s i z a b l e : f a l s e } ) ; o p t s = [ { i d : ' l i n k ' , l a b e l : L A N G . m e d i a t a r g e t , b t n s : [ ' l n k ' , ' d i r e c t ' , ' n o l n k ' , ' d i s p l a y l n k ' ] } , { i d : ' a l i g n ' , l a b e l : L A N G . m e d i a a l i g n , b t n s : [ ' n o a l i g n ' , ' l e f t ' , ' c e n t e r ' , ' r i g h t ' ] } , { i d : ' s i z e ' , l a b e l : L A N G . m e d i a s i z e , b t n s : [ ' s m a l l ' , ' m e d i u m ' , ' l a r g e ' , ' o r i g i n a l ' ] } ] ; j Q u e r y . e a c h ( o p t s , f u n c t i o n ( _ , o p t ) { v a r   $ p , $ l ; $ p = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' p ' ) ) . a t t r ( ' i d ' , ' m e d i a _ _ ' + o p t . i d ) ; i f ( d w _ m e d i a m a n a g e r . d i s p l a y = = = " 2 " ) { $ p . h i d e ( ) ; } $ l = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' l a b e l ' ) ) . t e x t ( o p t . l a b e l ) ; $ p . a p p e n d ( $ l ) ; j Q u e r y . e a c h ( o p t . b t n s , f u n c t i o n ( i , t e x t ) { v a r   $ b t n , $ i m g ; $ b t n = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' b u t t o n ' ) ) . a d d C l a s s ( ' b u t t o n ' ) . a t t r ( ' i d ' , " m e d i a _ _ " + o p t . i d + " b t n " + ( i + 1 ) ) . a t t r ( ' t i t l e ' , L A N G [ ' m e d i a ' + t e x t ] ) . c l i c k ( b i n d ( d w _ m e d i a m a n a g e r . s e t O p t , o p t . i d ) ) ; $ i m g = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' i m g ' ) ) . a t t r ( ' s r c ' , D O K U _ B A S E + ' l i b / i m a g e s / m e d i a _ ' + o p t . i d + ' _ ' + t e x t + ' . p n g ' ) ; $ b t n . a p p e n d ( $ i m g ) ; $ p . a p p e n d ( $ b t n ) ; } ) ; d w _ m e d i a m a n a g e r . $ p o p u p . a p p e n d ( $ p ) ; } ) ; $ i n s p = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' p ' ) ) ; d w _ m e d i a m a n a g e r . $ p o p u p . a p p e n d ( $ i n s p ) ; $ i n s b t n = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' i n p u t ' ) ) . a t t r ( ' i d ' , ' m e d i a _ _ s e n d b t n ' ) . a t t r ( ' t y p e ' , ' b u t t o n ' ) . a d d C l a s s ( ' b u t t o n ' ) . v a l ( L A N G . m e d i a i n s e r t ) ; $ i n s p . a p p e n d ( $ i n s b t n ) ; } , i n s e r t : f u n c t i o n ( i d ) { v a r   o p t s , c b , e d i d , s ; d w _ m e d i a m a n a g e r . $ p o p u p . d i a l o g ( ' c l o s e ' ) ; o p t s = ' ' ; i f ( { i m g : 1 , s w f : 1 } [ d w _ m e d i a m a n a g e r . e x t ] = = = 1 ) { i f ( d w _ m e d i a m a n a g e r . l i n k = = = ' 4 ' ) { o p t s = ' ? l i n k o n l y ' ; } e l s e { i f ( d w _ m e d i a m a n a g e r . l i n k = = = " 3 " & & d w _ m e d i a m a n a g e r . e x t = = = ' i m g ' ) { o p t s = ' ? n o l i n k ' ; } e l s e   i f ( d w _ m e d i a m a n a g e r . l i n k = = = " 2 " & & d w _ m e d i a m a n a g e r . e x t = = = ' i m g ' ) { o p t s = ' ? d i r e c t ' ; } s = p a r s e I n t ( d w _ m e d i a m a n a g e r . s i z e , 1 0 ) ; v a r   s i z e = s * 2 0 0 ; i f ( s & & s > = 1 & & s < 4 ) { o p t s + = ( o p t s . l e n g t h ) ? ' & ' : ' ? ' ; o p t s + = s i z e ; i f ( d w _ m e d i a m a n a g e r . e x t = = = ' s w f ' ) { s w i t c h ( s ) { c a s e   1 : o p t s + = ' x 6 2 ' ; b r e a k ; c a s e   2 : o p t s + = ' x 1 2 3 ' ; b r e a k ; c a s e   3 : o p t s + = ' x 1 8 5 ' ; b r e a k ; } } } } } e d i d = S t r i n g . p r o t o t y p e . m a t c h . c a l l ( d o c u m e n t . l o c a t i o n , / & e d i d = ( [ ^ & ] + ) / ) ; e d i d = e d i d ? e d i d [ 1 ] : ' w i k i _ _ t e x t ' ; c b = S t r i n g . p r o t o t y p e . m a t c h . c a l l ( d o c u m e n t . l o c a t i o n , / & o n s e l e c t = ( [ ^ & ] + ) / ) ; c b = c b ? c b [ 1 ] . r e p l a c e ( / [ ^ \ w ] + / , ' ' ) : ' d w _ m e d i a m a n a g e r _ i t e m _ s e l e c t ' ; o p e n e r [ c b ] ( e d i d , i d , o p t s , d w _ m e d i a m a n a g e r . a l i g n ) ; i f ( ! d w _ m e d i a m a n a g e r . k e e p o p e n ) { w i n d o w . c l o s e ( ) ; } o p e n e r . f o c u s ( ) ; r e t u r n   f a l s e ; } , s u g g e s t : f u n c t i o n ( ) { v a r   $ f i l e , $ n a m e , t e x t ; $ f i l e = j Q u e r y ( t h i s ) ; $ n a m e = j Q u e r y ( ' # u p l o a d _ _ n a m e ' ) ; i f ( $ n a m e . v a l ( ) ! = ' ' ) r e t u r n ; i f ( ! $ f i l e . l e n g t h | | ! $ n a m e . l e n g t h ) { r e t u r n ; } t e x t = $ f i l e . v a l ( ) ; t e x t = t e x t . s u b s t r ( t e x t . l a s t I n d e x O f ( ' / ' ) + 1 ) ; t e x t = t e x t . s u b s t r ( t e x t . l a s t I n d e x O f ( ' \ \ ' ) + 1 ) ; $ n a m e . v a l ( t e x t ) ; } , l i s t : f u n c t i o n ( e v e n t ) { v a r   $ l i n k , $ c o n t e n t , p a r a m s ; i f ( e v e n t ) { e v e n t . p r e v e n t D e f a u l t ( ) ; } j Q u e r y ( ' d i v . s u c c e s s ,   d i v . i n f o ,   d i v . e r r o r ,   d i v . n o t i f y ' ) . r e m o v e ( ) ; $ l i n k = j Q u e r y ( t h i s ) ; $ c o n t e n t = j Q u e r y ( ' # m e d i a _ _ c o n t e n t ' ) ; i f ( $ c o n t e n t . l e n g t h = = = 0 ) { $ c o n t e n t = j Q u e r y ( ' d i v . f i l e l i s t ' ) ; i f ( $ l i n k . h a s C l a s s ( ' i d x _ d i r ' ) ) { j Q u e r y ( ' d i v . f i l e ' ) . e m p t y ( ) ; j Q u e r y ( ' d i v . n a m e s p a c e s   . s e l e c t e d ' ) . r e m o v e C l a s s ( ' s e l e c t e d ' ) ; $ l i n k . a d d C l a s s ( ' s e l e c t e d ' ) ; } } p a r a m s = ' c a l l = m e d i a l i s t & ' ; i f ( $ l i n k [ 0 ] . s e a r c h ) { p a r a m s + = $ l i n k [ 0 ] . s e a r c h . s u b s t r ( 1 ) ; } e l s e   i f ( $ l i n k . i s ( ' f o r m ' ) ) { p a r a m s + = d w _ m e d i a m a n a g e r . f o r m _ p a r a m s ( $ l i n k ) ; } e l s e   i f ( $ l i n k . c l o s e s t ( ' f o r m ' ) . l e n g t h > 0 ) { p a r a m s + = d w _ m e d i a m a n a g e r . f o r m _ p a r a m s ( $ l i n k . c l o s e s t ( ' f o r m ' ) ) ; } d w _ m e d i a m a n a g e r . u p d a t e _ c o n t e n t ( $ c o n t e n t , p a r a m s ) ; } , f o r m _ p a r a m s : f u n c t i o n ( $ f o r m ) { i f ( ! $ f o r m . l e n g t h ) r e t u r n ; v a r   a c t i o n = ' ' ; v a r   i = $ f o r m [ 0 ] . a c t i o n . i n d e x O f ( ' ? ' ) ; i f ( i > = 0 ) { a c t i o n = $ f o r m [ 0 ] . a c t i o n . s u b s t r ( i + 1 ) ; } r e t u r n   a c t i o n + ' & ' + $ f o r m . s e r i a l i z e ( ) ; } , s e t _ f i l e v i e w _ l i s t : f u n c t i o n ( n e w _ t y p e ) { d w _ m e d i a m a n a g e r . s e t _ f i l e v i e w _ o p t ( [ ' l i s t ' , ' l i s t T y p e ' , f u n c t i o n ( n e w _ t y p e ) { j Q u e r y ( ' d i v . f i l e l i s t   d i v . p a n e l C o n t e n t   u l ' ) . t o g g l e C l a s s ( ' r o w s ' , n e w _ t y p e = = = ' r o w s ' ) . t o g g l e C l a s s ( ' t h u m b s ' , n e w _ t y p e = = = ' t h u m b s ' ) ; } ] , n e w _ t y p e ) ; d w _ m e d i a m a n a g e r . r e s i z e ( ) ; } , s e t _ f i l e v i e w _ s o r t : f u n c t i o n ( n e w _ s o r t ) { d w _ m e d i a m a n a g e r . s e t _ f i l e v i e w _ o p t ( [ ' s o r t ' , ' s o r t B y ' , f u n c t i o n ( n e w _ s o r t ) { } ] , n e w _ s o r t ) ; } , s e t _ f i l e v i e w _ o p t : f u n c t i o n ( o p t , n e w _ v a l ) { i f ( t y p e o f   n e w _ v a l = = = ' u n d e f i n e d ' ) { n e w _ v a l = j Q u e r y ( ' f o r m . o p t i o n s   l i . ' + o p t [ 1 ] + '   i n p u t ' ) . f i l t e r ( ' : c h e c k e d ' ) . v a l ( ) ; i f ( t y p e o f   n e w _ v a l = = = ' u n d e f i n e d ' ) { n e w _ v a l = ' t h u m b s ' ; } } i f ( n e w _ v a l ! = = d w _ m e d i a m a n a g e r . v i e w _ o p t s [ o p t [ 0 ] ] ) { o p t [ 2 ] ( n e w _ v a l ) ; D o k u C o o k i e . s e t V a l u e ( o p t [ 0 ] , n e w _ v a l ) ; d w _ m e d i a m a n a g e r . v i e w _ o p t s [ o p t [ 0 ] ] = n e w _ v a l ; } } , d e t a i l s : f u n c t i o n ( e v e n t ) { v a r   $ l i n k , $ c o n t e n t , p a r a m s , u p d a t e _ l i s t ; $ l i n k = j Q u e r y ( t h i s ) ; e v e n t . p r e v e n t D e f a u l t ( ) ; j Q u e r y ( ' d i v . s u c c e s s ,   d i v . i n f o ,   d i v . e r r o r ,   d i v . n o t i f y ' ) . r e m o v e ( ) ; i f ( $ l i n k [ 0 ] . i d = = ' m e d i a m a n a g e r _ _ b t n _ d e l e t e ' & & ! c o n f i r m ( L A N G . d e l _ c o n f i r m ) ) { r e t u r n   f a l s e ; } i f ( $ l i n k [ 0 ] . i d = = ' m e d i a m a n a g e r _ _ b t n _ r e s t o r e ' & & ! c o n f i r m ( L A N G . r e s t o r e _ c o n f i r m ) ) { r e t u r n   f a l s e ; } $ c o n t e n t = j Q u e r y ( ' d i v . f i l e ' ) ; p a r a m s = ' c a l l = m e d i a d e t a i l s & ' ; i f ( $ l i n k [ 0 ] . s e a r c h ) { p a r a m s + = $ l i n k [ 0 ] . s e a r c h . s u b s t r ( 1 ) ; } e l s e   i f ( $ l i n k . i s ( ' f o r m ' ) ) { p a r a m s + = d w _ m e d i a m a n a g e r . f o r m _ p a r a m s ( $ l i n k ) ; } e l s e   i f ( $ l i n k . c l o s e s t ( ' f o r m ' ) . l e n g t h > 0 ) { p a r a m s + = d w _ m e d i a m a n a g e r . f o r m _ p a r a m s ( $ l i n k . c l o s e s t ( ' f o r m ' ) ) ; } u p d a t e _ l i s t = ( $ l i n k [ 0 ] . i d = = ' m e d i a m a n a g e r _ _ b t n _ d e l e t e ' | | $ l i n k [ 0 ] . i d = = ' m e d i a m a n a g e r _ _ b t n _ r e s t o r e ' ) ; d w _ m e d i a m a n a g e r . u p d a t e _ c o n t e n t ( $ c o n t e n t , p a r a m s , u p d a t e _ l i s t ) ; } , u p d a t e _ c o n t e n t : f u n c t i o n ( $ c o n t e n t , p a r a m s , u p d a t e _ l i s t ) { v a r   $ c o n t a i n e r ; j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , p a r a m s , f u n c t i o n ( d a t a ) { d w _ m e d i a m a n a g e r . $ r e s i z a b l e s ( ) . r e s i z a b l e ( ' d e s t r o y ' ) ; i f ( u p d a t e _ l i s t ) { d w _ m e d i a m a n a g e r . l i s t . c a l l ( j Q u e r y ( ' # m e d i a m a n a g e r _ _ p a g e ' ) . f i n d ( ' f o r m . o p t i o n s   b u t t o n [ t y p e = " s u b m i t " ] ' ) [ 0 ] ) ; } $ c o n t e n t . h t m l ( d a t a ) ; d w _ m e d i a m a n a g e r . p r e p a r e _ c o n t e n t ( $ c o n t e n t ) ; d w _ m e d i a m a n a g e r . u p d a t e h i d e ( ) ; d w _ m e d i a m a n a g e r . u p d a t e _ r e s i z a b l e ( ) ; d w _ b e h a v i o u r . r e v i s i o n B o x H a n d l e r ( ) ; d w _ m e d i a m a n a g e r . s e t _ f i l e v i e w _ l i s t ( d w _ m e d i a m a n a g e r . v i e w _ o p t s . l i s t ) ; d w _ m e d i a m a n a g e r . i m a g e _ d i f f ( ) ; d w _ m e d i a m a n a g e r . i n i t _ a j a x _ u p l o a d e r ( ) ; d w _ m e d i a m a n a g e r . i n i t _ o p t i o n s ( ) ; } , ' h t m l ' ) ; $ c o n t a i n e r = $ c o n t e n t . f i n d ( ' d i v . p a n e l C o n t e n t ' ) ; i f ( $ c o n t a i n e r . l e n g t h = = = 0 ) { $ c o n t a i n e r = $ c o n t e n t ; } $ c o n t a i n e r . h t m l ( ' < i m g   s r c = " ' + D O K U _ B A S E + ' l i b / i m a g e s / l o a d i n g . g i f "   a l t = " . . . "   c l a s s = " l o a d "   / > ' ) ; } , w i n d o w _ r e s i z e : f u n c t i o n ( ) { d w _ m e d i a m a n a g e r . r e s i z e ( ) ; d w _ m e d i a m a n a g e r . o p a c i t y _ s l i d e r ( ) ; d w _ m e d i a m a n a g e r . p o r t i o n s _ s l i d e r ( ) ; } , $ r e s i z a b l e s : f u n c t i o n ( ) { r e t u r n   j Q u e r y ( ' # m e d i a m a n a g e r _ _ p a g e ' ) . f i n d ( ' d i v . n a m e s p a c e s ,   d i v . f i l e l i s t ' ) ; } , u p d a t e _ r e s i z a b l e : f u n c t i o n ( ) { v a r   $ r e s i z a b l e s = d w _ m e d i a m a n a g e r . $ r e s i z a b l e s ( ) ; $ r e s i z a b l e s . r e s i z a b l e ( { h a n d l e s : ( j Q u e r y ( ' h t m l [ d i r = r t l ] ' ) . l e n g t h ? ' w ' : ' e ' ) , r e s i z e : f u n c t i o n ( e v e n t , u i ) { v a r   $ p a g e = j Q u e r y ( ' # m e d i a m a n a g e r _ _ p a g e ' ) ; v a r   w i d t h F u l l = $ p a g e . w i d t h ( ) ; v a r   w i d t h R e s i z a b l e s = 0 ; $ r e s i z a b l e s . e a c h ( f u n c t i o n ( ) { w i d t h R e s i z a b l e s + = j Q u e r y ( t h i s ) . w i d t h ( ) ; } ) ; v a r   $ f i l e P a n e l = $ p a g e . f i n d ( ' d i v . p a n e l . f i l e ' ) ; v a r   w i d t h O t h e r R e s i z a b l e = w i d t h R e s i z a b l e s - j Q u e r y ( t h i s ) . w i d t h ( ) ; v a r   m i n W i d t h N o n R e s i z a b l e = p a r s e F l o a t ( $ f i l e P a n e l . c s s ( " m i n - w i d t h " ) ) ; v a r   m a x W i d t h = w i d t h F u l l - ( w i d t h O t h e r R e s i z a b l e + m i n W i d t h N o n R e s i z a b l e ) - 1 ; $ r e s i z a b l e s . r e s i z a b l e ( " o p t i o n " , " m a x W i d t h " , m a x W i d t h ) ; v a r   r e l W i d t h N o n R e s i z a b l e = 9 9 . 9 - ( 1 0 0 * w i d t h R e s i z a b l e s / w i d t h F u l l ) ; $ f i l e P a n e l . w i d t h ( r e l W i d t h N o n R e s i z a b l e + ' % ' ) ; d w _ m e d i a m a n a g e r . r e s i z e ( ) ; d w _ m e d i a m a n a g e r . o p a c i t y _ s l i d e r ( ) ; d w _ m e d i a m a n a g e r . p o r t i o n s _ s l i d e r ( ) ; } } ) ; d w _ m e d i a m a n a g e r . r e s i z e ( ) ; } , r e s i z e : f u n c t i o n ( ) { v a r   $ c o n t e n t s = j Q u e r y ( ' # m e d i a m a n a g e r _ _ p a g e ' ) . f i n d ( ' d i v . p a n e l C o n t e n t ' ) , h e i g h t = j Q u e r y ( w i n d o w ) . h e i g h t ( ) - j Q u e r y ( d o c u m e n t . b o d y ) . h e i g h t ( ) + M a t h . m a x . a p p l y ( n u l l , j Q u e r y . m a p ( $ c o n t e n t s , f u n c t i o n ( v ) { r e t u r n   j Q u e r y ( v ) . h e i g h t ( ) ; } ) ) ; i f ( h e i g h t < d w _ m e d i a m a n a g e r . m i n H e i g h t s [ d w _ m e d i a m a n a g e r . v i e w _ o p t s . l i s t ] ) { $ c o n t e n t s . a d d ( d w _ m e d i a m a n a g e r . $ r e s i z a b l e s ( ) ) . h e i g h t ( ' a u t o ' ) ; } e l s e { $ c o n t e n t s . h e i g h t ( h e i g h t ) ; d w _ m e d i a m a n a g e r . $ r e s i z a b l e s ( ) . e a c h ( f u n c t i o n ( ) { v a r   $ t h i s = j Q u e r y ( t h i s ) ; $ t h i s . h e i g h t ( h e i g h t + $ t h i s . f i n d ( ' d i v . p a n e l C o n t e n t ' ) . o f f s e t ( ) . t o p - $ t h i s . o f f s e t ( ) . t o p ) ; } ) ; } } , i m a g e _ d i f f : f u n c t i o n ( ) { i f ( j Q u e r y ( ' # m e d i a m a n a g e r _ _ d i f f t y p e ' ) . l e n g t h ) r e t u r n ; v a r   $ f o r m = j Q u e r y ( ' # m e d i a m a n a g e r _ _ f o r m _ d i f f v i e w ' ) ; i f ( ! $ f o r m . l e n g t h ) r e t u r n ; v a r   $ l a b e l = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' l a b e l ' ) ) ; $ l a b e l . a p p e n d ( ' < s p a n > ' + L A N G . m e d i a _ d i f f + ' < / s p a n >   ' ) ; v a r   $ s e l e c t = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' s e l e c t ' ) ) . a t t r ( ' i d ' , ' m e d i a m a n a g e r _ _ d i f f t y p e ' ) . a t t r ( ' n a m e ' , ' d i f f t y p e ' ) . c h a n g e ( d w _ m e d i a m a n a g e r . c h a n g e _ d i f f _ t y p e ) ; $ s e l e c t . a p p e n d ( n e w   O p t i o n ( L A N G . m e d i a _ d i f f _ b o t h , " b o t h " ) ) ; $ s e l e c t . a p p e n d ( n e w   O p t i o n ( L A N G . m e d i a _ d i f f _ o p a c i t y , " o p a c i t y " ) ) ; $ s e l e c t . a p p e n d ( n e w   O p t i o n ( L A N G . m e d i a _ d i f f _ p o r t i o n s , " p o r t i o n s " ) ) ; $ l a b e l . a p p e n d ( $ s e l e c t ) ; $ f o r m . a p p e n d ( $ l a b e l ) ; v a r   s e l e c t = d o c u m e n t . g e t E l e m e n t B y I d ( ' m e d i a m a n a g e r _ _ d i f f t y p e ' ) ; s e l e c t . o p t i o n s [ 0 ] . t e x t = L A N G . m e d i a _ d i f f _ b o t h ; s e l e c t . o p t i o n s [ 1 ] . t e x t = L A N G . m e d i a _ d i f f _ o p a c i t y ; s e l e c t . o p t i o n s [ 2 ] . t e x t = L A N G . m e d i a _ d i f f _ p o r t i o n s ; } , c h a n g e _ d i f f _ t y p e : f u n c t i o n ( ) { v a r   $ s e l e c t = j Q u e r y ( ' # m e d i a m a n a g e r _ _ d i f f t y p e ' ) ; v a r   $ c o n t e n t = j Q u e r y ( ' # m e d i a m a n a g e r _ _ d i f f ' ) ; v a r   p a r a m s = d w _ m e d i a m a n a g e r . f o r m _ p a r a m s ( $ s e l e c t . c l o s e s t ( ' f o r m ' ) ) + ' & c a l l = m e d i a d i f f ' ; j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , p a r a m s , f u n c t i o n ( d a t a ) { $ c o n t e n t . h t m l ( d a t a ) ; d w _ m e d i a m a n a g e r . p o r t i o n s _ s l i d e r ( ) ; d w _ m e d i a m a n a g e r . o p a c i t y _ s l i d e r ( ) ; } , ' h t m l ' ) ; } , o p a c i t y _ s l i d e r : f u n c t i o n ( ) { v a r   $ d i f f = j Q u e r y ( " # m e d i a m a n a g e r _ _ d i f f " ) ; v a r   $ s l i d e r = $ d i f f . f i n d ( " d i v . s l i d e r " ) ; i f ( ! $ s l i d e r . l e n g t h ) r e t u r n ; v a r   $ i m a g e = $ d i f f . f i n d ( ' d i v . i m a g e D i f f . o p a c i t y   d i v . i m a g e 1   i m g ' ) ; i f ( ! $ i m a g e . l e n g t h ) r e t u r n ; $ s l i d e r . w i d t h ( $ i m a g e . w i d t h ( ) - 2 0 ) ; $ s l i d e r . s l i d e r ( ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " m i n " , 0 ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " m a x " , 0 . 9 9 9 ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " s t e p " , 0 . 0 0 1 ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " v a l u e " , 0 . 5 ) ; $ s l i d e r . o n ( " s l i d e " , f u n c t i o n ( e v e n t , u i ) { j Q u e r y ( ' # m e d i a m a n a g e r _ _ d i f f ' ) . f i n d ( ' d i v . i m a g e D i f f . o p a c i t y   d i v . i m a g e 2   i m g ' ) . c s s ( { o p a c i t y : $ s l i d e r . s l i d e r ( " o p t i o n " , " v a l u e " ) } ) ; } ) ; } , p o r t i o n s _ s l i d e r : f u n c t i o n ( ) { v a r   $ d i f f = j Q u e r y ( " # m e d i a m a n a g e r _ _ d i f f " ) ; i f ( ! $ d i f f . l e n g t h ) r e t u r n ; v a r   $ i m a g e 1 = $ d i f f . f i n d ( ' d i v . i m a g e D i f f . p o r t i o n s   d i v . i m a g e 1   i m g ' ) ; v a r   $ i m a g e 2 = $ d i f f . f i n d ( ' d i v . i m a g e D i f f . p o r t i o n s   d i v . i m a g e 2   i m g ' ) ; i f ( ! $ i m a g e 1 . l e n g t h | | ! $ i m a g e 2 . l e n g t h ) r e t u r n ; $ d i f f . w i d t h ( ' 1 0 0 % ' ) ; $ i m a g e 2 . p a r e n t ( ) . w i d t h ( ' 9 7 % ' ) ; $ i m a g e 1 . w i d t h ( ' 1 0 0 % ' ) ; $ i m a g e 2 . w i d t h ( ' 1 0 0 % ' ) ; i f ( $ i m a g e 1 . w i d t h ( ) < $ d i f f . w i d t h ( ) ) { $ d i f f . w i d t h ( $ i m a g e 1 . w i d t h ( ) ) ; } $ i m a g e 2 . p a r e n t ( ) . w i d t h ( ' 5 0 % ' ) ; $ i m a g e 2 . w i d t h ( $ i m a g e 1 . w i d t h ( ) ) ; $ i m a g e 1 . w i d t h ( $ i m a g e 1 . w i d t h ( ) ) ; v a r   $ s l i d e r = $ d i f f . f i n d ( " d i v . s l i d e r " ) ; i f ( ! $ s l i d e r . l e n g t h ) r e t u r n ; $ s l i d e r . w i d t h ( $ i m a g e 1 . w i d t h ( ) - 2 0 ) ; $ s l i d e r . s l i d e r ( ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " m i n " , 0 ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " m a x " , 9 7 ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " s t e p " , 1 ) ; $ s l i d e r . s l i d e r ( " o p t i o n " , " v a l u e " , 5 0 ) ; $ s l i d e r . o n ( " s l i d e " , f u n c t i o n ( e v e n t , u i ) { j Q u e r y ( ' # m e d i a m a n a g e r _ _ d i f f ' ) . f i n d ( ' d i v . i m a g e D i f f . p o r t i o n s   d i v . i m a g e 2 ' ) . c s s ( { w i d t h : $ s l i d e r . s l i d e r ( " o p t i o n " , " v a l u e " ) + ' % ' } ) ; } ) ; } , p a r a m s _ t o a r r a y : f u n c t i o n ( s t r ) { v a r   v a r s = [ ] , h a s h ; v a r   h a s h e s = s t r . s p l i t ( ' & ' ) ; f o r ( v a r   i = 0 ; i < h a s h e s . l e n g t h ; i + + ) { h a s h = h a s h e s [ i ] . s p l i t ( ' = ' ) ; v a r s [ d e c o d e U R I C o m p o n e n t ( h a s h [ 0 ] ) ] = d e c o d e U R I C o m p o n e n t ( h a s h [ 1 ] ) ; } r e t u r n   v a r s ; } , i n i t _ a j a x _ u p l o a d e r : f u n c t i o n ( ) { i f ( ! j Q u e r y ( ' # m e d i a m a n a g e r _ _ u p l o a d e r ' ) . l e n g t h ) r e t u r n ; i f ( j Q u e r y ( ' . q q - u p l o a d - l i s t ' ) . l e n g t h ) r e t u r n ; v a r   p a r a m s = d w _ m e d i a m a n a g e r . f o r m _ p a r a m s ( j Q u e r y ( ' # d w _ _ u p l o a d ' ) ) + ' & c a l l = m e d i a u p l o a d ' ; p a r a m s = d w _ m e d i a m a n a g e r . p a r a m s _ t o a r r a y ( p a r a m s ) ; v a r   u p l o a d e r = n e w   q q . F i l e U p l o a d e r E x t e n d e d ( { e l e m e n t : d o c u m e n t . g e t E l e m e n t B y I d ( ' m e d i a m a n a g e r _ _ u p l o a d e r ' ) , a c t i o n : D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , p a r a m s : p a r a m s } ) ; } , p r e p a r e _ c o n t e n t : f u n c t i o n ( $ c o n t e n t ) { $ c o n t e n t . f i n d ( ' d i v . e x a m p l e : v i s i b l e ' ) . h i d e ( ) ; } , s e l e c t : f u n c t i o n ( e v e n t ) { v a r   $ l i n k , i d , d o t , e x t ; e v e n t . p r e v e n t D e f a u l t ( ) ; $ l i n k = j Q u e r y ( t h i s ) ; i d = $ l i n k . a t t r ( ' i d ' ) . s u b s t r ( 2 ) ; i f ( ! o p e n e r ) { j Q u e r y ( d o c u m e n t . g e t E l e m e n t B y I d ( ' e x _ ' + i d . r e p l a c e ( / : / g , ' _ ' ) . r e p l a c e ( / ^ _ / , ' ' ) ) ) . d w _ t o g g l e ( ) ; r e t u r n ; } d w _ m e d i a m a n a g e r . e x t = f a l s e ; d o t = i d . l a s t I n d e x O f ( " . " ) ; i f ( - 1 = = = d o t ) { d w _ m e d i a m a n a g e r . i n s e r t ( i d ) ; r e t u r n ; } e x t = i d . s u b s t r ( d o t ) ; i f ( { ' . j p g ' : 1 , ' . j p e g ' : 1 , ' . p n g ' : 1 , ' . g i f ' : 1 , ' . s w f ' : 1 } [ e x t ] ! = = 1 ) { d w _ m e d i a m a n a g e r . i n s e r t ( i d ) ; r e t u r n ; } v a r   $ s e n d b t n = j Q u e r y ( ' # m e d i a _ _ s e n d b t n ' ) ; $ s e n d b t n . o f f ( ) . c l i c k ( b i n d ( d w _ m e d i a m a n a g e r . i n s e r t , i d ) ) ; d w _ m e d i a m a n a g e r . u n f o r b i d ( ' e x t ' ) ; i f ( e x t = = = ' . s w f ' ) { d w _ m e d i a m a n a g e r . e x t = ' s w f ' ; d w _ m e d i a m a n a g e r . f o r b i d ( ' e x t ' , { l i n k : [ ' 1 ' , ' 2 ' ] , s i z e : [ ' 4 ' ] } ) ; } e l s e { d w _ m e d i a m a n a g e r . e x t = ' i m g ' ; } d w _ m e d i a m a n a g e r . s e t O p t ( ' l i n k ' ) ; d w _ m e d i a m a n a g e r . s e t O p t ( ' a l i g n ' ) ; d w _ m e d i a m a n a g e r . s e t O p t ( ' s i z e ' ) ; j Q u e r y ( ' # m e d i a _ _ l i n k b t n 1 ,   # m e d i a _ _ l i n k b t n 2 ,   # m e d i a _ _ s i z e b t n 4 ' ) . t o g g l e ( d w _ m e d i a m a n a g e r . e x t = = = ' i m g ' ) ; d w _ m e d i a m a n a g e r . $ p o p u p . d i a l o g ( ' o p e n ' ) ; $ s e n d b t n . f o c u s ( ) ; } , c o n f i r m a t t a c h : f u n c t i o n ( e ) { i f ( ! c o n f i r m ( L A N G . d e l _ c o n f i r m + " \ n " + j Q u e r y ( t h i s ) . a t t r ( ' t i t l e ' ) ) ) { e . p r e v e n t D e f a u l t ( ) ; } } , a t t a c h o p t i o n s : f u n c t i o n ( ) { v a r   $ o b j , o p t s ; $ o b j = j Q u e r y ( ' # m e d i a _ _ o p t s ' ) ; i f ( $ o b j . l e n g t h = = = 0 ) { r e t u r n ; } o p t s = [ ] ; i f ( o p e n e r ) { o p t s . p u s h ( [ ' k e e p o p e n ' , ' k e e p o p e n ' ] ) ; } o p t s . p u s h ( [ ' h i d e ' , ' h i d e d e t a i l s ' ] ) ; j Q u e r y . e a c h ( o p t s , f u n c t i o n ( _ , o p t ) { v a r   $ b o x , $ l b l ; $ b o x = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' i n p u t ' ) ) . a t t r ( ' t y p e ' , ' c h e c k b o x ' ) . a t t r ( ' i d ' , ' m e d i a _ _ ' + o p t [ 0 ] ) . c l i c k ( b i n d ( d w _ m e d i a m a n a g e r . t o g g l e O p t i o n , o p t [ 0 ] ) ) ; i f ( D o k u C o o k i e . g e t V a l u e ( o p t [ 0 ] ) ) { $ b o x . p r o p ( ' c h e c k e d ' , t r u e ) ; d w _ m e d i a m a n a g e r [ o p t [ 0 ] ] = t r u e ; } $ l b l = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' l a b e l ' ) ) . a t t r ( ' f o r ' , ' m e d i a _ _ ' + o p t [ 0 ] ) . t e x t ( L A N G [ o p t [ 1 ] ] ) ; $ o b j . a p p e n d ( $ b o x , $ l b l , d o c u m e n t . c r e a t e E l e m e n t ( ' b r ' ) ) ; } ) ; d w _ m e d i a m a n a g e r . u p d a t e h i d e ( ) ; } , t o g g l e O p t i o n : f u n c t i o n ( v a r i a b l e ) { i f ( j Q u e r y ( t h i s ) . p r o p ( ' c h e c k e d ' ) ) { D o k u C o o k i e . s e t V a l u e ( v a r i a b l e , 1 ) ; d w _ m e d i a m a n a g e r [ v a r i a b l e ] = t r u e ; } e l s e { D o k u C o o k i e . s e t V a l u e ( v a r i a b l e , ' ' ) ; d w _ m e d i a m a n a g e r [ v a r i a b l e ] = f a l s e ; } i f ( v a r i a b l e = = = ' h i d e ' ) { d w _ m e d i a m a n a g e r . u p d a t e h i d e ( ) ; } } , u p d a t e h i d e : f u n c t i o n ( ) { j Q u e r y ( ' # m e d i a _ _ c o n t e n t ' ) . f i n d ( ' d i v . d e t a i l ' ) . d w _ t o g g l e ( ! d w _ m e d i a m a n a g e r . h i d e ) ; } , s e t O p t : f u n c t i o n ( o p t , e ) { v a r   v a l , i ; i f ( t y p e o f   e ! = = ' u n d e f i n e d ' ) { v a l = t h i s . i d . s u b s t r i n g ( t h i s . i d . l e n g t h - 1 ) ; } e l s e { v a l = d w _ m e d i a m a n a g e r . g e t O p t ( o p t ) ; } i f ( v a l = = = f a l s e ) { D o k u C o o k i e . s e t V a l u e ( o p t , ' ' ) ; d w _ m e d i a m a n a g e r [ o p t ] = f a l s e ; r e t u r n ; } i f ( o p t = = = ' l i n k ' ) { i f ( v a l ! = = ' 4 ' & & d w _ m e d i a m a n a g e r . l i n k = = = ' 4 ' ) { d w _ m e d i a m a n a g e r . u n f o r b i d ( ' l i n k o n l y ' ) ; d w _ m e d i a m a n a g e r . s e t O p t ( ' a l i g n ' ) ; d w _ m e d i a m a n a g e r . s e t O p t ( ' s i z e ' ) ; } e l s e   i f ( v a l = = = ' 4 ' ) { d w _ m e d i a m a n a g e r . f o r b i d ( ' l i n k o n l y ' , { a l i g n : f a l s e , s i z e : f a l s e } ) ; } j Q u e r y ( " # m e d i a _ _ s i z e ,   # m e d i a _ _ a l i g n " ) . d w _ t o g g l e ( v a l ! = = ' 4 ' ) ; } D o k u C o o k i e . s e t V a l u e ( o p t , v a l ) ; d w _ m e d i a m a n a g e r [ o p t ] = v a l ; f o r ( i = 1 ; i < = 4 ; i + + ) { j Q u e r y ( " # m e d i a _ _ " + o p t + " b t n " + i ) . r e m o v e C l a s s ( ' s e l e c t e d ' ) ; } j Q u e r y ( ' # m e d i a _ _ ' + o p t + ' b t n ' + v a l ) . a d d C l a s s ( ' s e l e c t e d ' ) ; } , u n f o r b i d : f u n c t i o n ( g r o u p ) { d e l e t e   d w _ m e d i a m a n a g e r . f o r b i d d e n _ o p t s [ g r o u p ] ; } , f o r b i d : f u n c t i o n ( g r o u p , f o r b i d s ) { d w _ m e d i a m a n a g e r . f o r b i d d e n _ o p t s [ g r o u p ] = f o r b i d s ; } , a l l o w e d O p t : f u n c t i o n ( o p t , v a l ) { v a r   r e t = t r u e ; j Q u e r y . e a c h ( d w _ m e d i a m a n a g e r . f o r b i d d e n _ o p t s , f u n c t i o n ( _ , f o r b i d s ) { r e t = f o r b i d s [ o p t ] ! = = f a l s e & & j Q u e r y . i n A r r a y ( v a l , f o r b i d s [ o p t ] ) = = = - 1 ; r e t u r n   r e t ; } ) ; r e t u r n   r e t ; } , g e t O p t : f u n c t i o n ( o p t ) { v a r   a l l o w e d = b i n d ( d w _ m e d i a m a n a g e r . a l l o w e d O p t , o p t ) ; i f ( d w _ m e d i a m a n a g e r [ o p t ] ! = = f a l s e & & a l l o w e d ( d w _ m e d i a m a n a g e r [ o p t ] ) ) { r e t u r n   d w _ m e d i a m a n a g e r [ o p t ] ; } i f ( D o k u C o o k i e . g e t V a l u e ( o p t ) & & a l l o w e d ( D o k u C o o k i e . g e t V a l u e ( o p t ) ) ) { r e t u r n   D o k u C o o k i e . g e t V a l u e ( o p t ) ; } i f ( o p t = = = ' s i z e ' & & a l l o w e d ( ' 2 ' ) ) { r e t u r n ' 2 ' ; } r e t u r n   j Q u e r y . g r e p ( [ ' 1 ' , ' 2 ' , ' 3 ' , ' 4 ' ] , a l l o w e d ) [ 0 ] | | f a l s e ; } } ; f u n c t i o n   d w _ m e d i a m a n a g e r _ i t e m _ s e l e c t ( e d i d , m e d i a i d , o p t s , a l i g n ) { v a r   a l i g n l e f t = ' ' ; v a r   a l i g n r i g h t = ' ' ; i f ( a l i g n ! = = ' 1 ' ) { a l i g n l e f t = a l i g n = = = ' 2 ' ? ' ' : '   ' ; a l i g n r i g h t = a l i g n = = = ' 4 ' ? ' ' : '   ' ; } i n s e r t T a g s ( e d i d , ' { { ' + a l i g n l e f t + m e d i a i d + o p t s + a l i g n r i g h t + ' | ' , ' } } ' , ' ' ) ; } j Q u e r y ( d w _ m e d i a m a n a g e r . i n i t ) ; f u n c t i o n   D E P R E C A T E D ( m s g ) { i f ( ! w i n d o w . c o n s o l e ) r e t u r n ; i f ( ! m s g ) m s g = ' ' ; v a r   f u n c ; i f ( a r g u m e n t s . c a l l e e ) f u n c = a r g u m e n t s . c a l l e e . c a l l e r . n a m e ; i f ( f u n c ) f u n c = '   ' + f u n c + ' ( ) ' ; v a r   l i n e = ' D E P R E C A T E D   f u n c t i o n   c a l l ' + f u n c + ' .   ' + m s g ; i f ( c o n s o l e . w a r n ) { c o n s o l e . w a r n ( l i n e ) ; } e l s e { c o n s o l e . l o g ( l i n e ) ; } i f ( c o n s o l e . t r a c e ) c o n s o l e . t r a c e ( ) ; } f u n c t i o n   D E P R E C A T E D _ W R A P ( f u n c , c o n t e x t ) { r e t u r n   f u n c t i o n ( ) { D E P R E C A T E D ( ) ; r e t u r n   f u n c . a p p l y ( c o n t e x t | | t h i s , a r g u m e n t s ) ; } ; } j Q u e r y . f n . d w _ h i d e = f u n c t i o n ( f n , n o a r i a ) { i f ( ! n o a r i a ) t h i s . a t t r ( ' a r i a - e x p a n d e d ' , ' f a l s e ' ) ; r e t u r n   t h i s . s l i d e U p ( ' f a s t ' , f n ) ; } ; j Q u e r y . f n . d w _ s h o w = f u n c t i o n ( f n , n o a r i a ) { i f ( ! n o a r i a ) t h i s . a t t r ( ' a r i a - e x p a n d e d ' , ' t r u e ' ) ; r e t u r n   t h i s . s l i d e D o w n ( ' f a s t ' , f n ) ; } ; j Q u e r y . f n . d w _ t o g g l e = f u n c t i o n ( s t a t e , f n , n o a r i a ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   $ t h i s = j Q u e r y ( t h i s ) ; i f ( t y p e o f   s t a t e = = = ' u n d e f i n e d ' ) { s t a t e = $ t h i s . i s ( ' : h i d d e n ' ) ; } $ t h i s [ s t a t e ? " d w _ s h o w " : " d w _ h i d e " ] ( f n , n o a r i a ) ; } ) ; } ; v a r   d w _ b e h a v i o u r = { i n i t : f u n c t i o n ( ) { d w _ b e h a v i o u r . f o c u s M a r k e r ( ) ; d w _ b e h a v i o u r . s c r o l l T o M a r k e r ( ) ; d w _ b e h a v i o u r . r e m o v e H i g h l i g h t O n C l i c k ( ) ; d w _ b e h a v i o u r . q u i c k S e l e c t ( ) ; d w _ b e h a v i o u r . c h e c k W i n d o w s S h a r e s ( ) ; d w _ b e h a v i o u r . s u b s c r i p t i o n ( ) ; d w _ b e h a v i o u r . r e v i s i o n B o x H a n d l e r ( ) ; j Q u e r y ( d o c u m e n t ) . o n ( ' c l i c k ' , ' # p a g e _ _ r e v i s i o n s   i n p u t [ t y p e = c h e c k b o x ] ' , d w _ b e h a v i o u r . r e v i s i o n B o x H a n d l e r ) ; j Q u e r y ( ' . b o u n c e ' ) . e f f e c t ( ' b o u n c e ' , { t i m e s : 1 0 } , 2 0 0 0 ) ; } , s c r o l l T o M a r k e r : f u n c t i o n ( ) { v a r   $ o b j = j Q u e r y ( ' # s c r o l l _ _ h e r e ' ) ; i f ( $ o b j . l e n g t h ) { i f ( $ o b j . o f f s e t ( ) . t o p ! = 0 ) { j Q u e r y ( ' h t m l ,   b o d y ' ) . a n i m a t e ( { s c r o l l T o p : $ o b j . o f f s e t ( ) . t o p - 1 0 0 } , 5 0 0 ) ; } e l s e { $ o b j [ 0 ] . s c r o l l I n t o V i e w ( ) ; } } } , f o c u s M a r k e r : f u n c t i o n ( ) { j Q u e r y ( ' # f o c u s _ _ t h i s ' ) . f o c u s ( ) ; } , r e m o v e H i g h l i g h t O n C l i c k : f u n c t i o n ( ) { j Q u e r y ( ' s p a n . s e a r c h _ h i t ' ) . c l i c k ( f u n c t i o n ( e ) { j Q u e r y ( e . t a r g e t ) . r e m o v e C l a s s ( ' s e a r c h _ h i t ' , 1 0 0 0 ) ; } ) ; } , q u i c k S e l e c t : f u n c t i o n ( ) { j Q u e r y ( ' s e l e c t . q u i c k s e l e c t ' ) . c h a n g e ( f u n c t i o n ( e ) { e . t a r g e t . f o r m . s u b m i t ( ) ; } ) . c l o s e s t ( ' f o r m ' ) . f i n d ( ' : b u t t o n ' ) . n o t ( ' . s h o w ' ) . h i d e ( ) ; } , c h e c k W i n d o w s S h a r e s : f u n c t i o n ( ) { i f ( ! L A N G . n o s m b l i n k s | | n a v i g a t o r . u s e r A g e n t . m a t c h ( / ( T r i d e n t | M S I E ) / ) ) { r e t u r n ; } j Q u e r y ( ' a . w i n d o w s ' ) . o n ( ' c l i c k ' , f u n c t i o n ( ) { a l e r t ( L A N G . n o s m b l i n k s . r e p l a c e ( / \ \ n / , " \ n " ) ) ; } ) ; } , s u b s c r i p t i o n : f u n c t i o n ( ) { v a r   $ f o r m , $ l i s t , $ d i g e s t ; $ f o r m = j Q u e r y ( ' # s u b s c r i b e _ _ f o r m ' ) ; i f ( 0 = = = $ f o r m . l e n g t h ) r e t u r n ; $ l i s t = $ f o r m . f i n d ( " i n p u t [ n a m e = ' s u b _ s t y l e ' ] [ v a l u e = ' l i s t ' ] " ) ; $ d i g e s t = $ f o r m . f i n d ( " i n p u t [ n a m e = ' s u b _ s t y l e ' ] [ v a l u e = ' d i g e s t ' ] " ) ; $ f o r m . f i n d ( " i n p u t [ n a m e = ' s u b _ t a r g e t ' ] " ) . c l i c k ( f u n c t i o n ( ) { v a r   $ t h i s = j Q u e r y ( t h i s ) , s h o w _ l i s t ; i f ( ! $ t h i s . p r o p ( ' c h e c k e d ' ) ) { r e t u r n ; } s h o w _ l i s t = $ t h i s . v a l ( ) . m a t c h ( / : $ / ) ; $ l i s t . p a r e n t ( ) . d w _ t o g g l e ( s h o w _ l i s t ) ; i f ( ! s h o w _ l i s t & & $ l i s t . p r o p ( ' c h e c k e d ' ) ) { $ d i g e s t . p r o p ( ' c h e c k e d ' , ' c h e c k e d ' ) ; } } ) . f i l t e r ( ' : c h e c k e d ' ) . c l i c k ( ) ; } , r e v i s i o n B o x H a n d l e r : f u n c t i o n ( ) { v a r   $ r e v i s i o n s = j Q u e r y ( ' # p a g e _ _ r e v i s i o n s ' ) ; v a r   $ a l l = j Q u e r y ( ' i n p u t [ t y p e = c h e c k b o x ] ' , $ r e v i s i o n s ) ; v a r   $ c h e c k e d = $ a l l . f i l t e r ( ' : c h e c k e d ' ) ; v a r   $ b u t t o n = j Q u e r y ( ' b u t t o n ' , $ r e v i s i o n s ) ; i f ( $ c h e c k e d . l e n g t h < 2 ) { $ a l l . r e m o v e A t t r ( ' d i s a b l e d ' ) ; $ b u t t o n . a t t r ( ' d i s a b l e d ' , t r u e ) ; } e l s e { $ a l l . a t t r ( ' d i s a b l e d ' , t r u e ) ; $ b u t t o n . r e m o v e A t t r ( ' d i s a b l e d ' ) ; $ c h e c k e d . e a c h ( f u n c t i o n ( i ) { j Q u e r y ( t h i s ) . r e m o v e A t t r ( ' d i s a b l e d ' ) ; i f ( i > 1 ) { j Q u e r y ( t h i s ) . a t t r ( ' c h e c k e d ' , f a l s e ) ; } } ) ; } } } ; j Q u e r y ( d w _ b e h a v i o u r . i n i t ) ; d w _ p a g e = { i n i t : f u n c t i o n ( ) { d w _ p a g e . s e c t i o n H i g h l i g h t ( ) ; j Q u e r y ( ' a . f n _ t o p ' ) . m o u s e o v e r ( d w _ p a g e . f o o t n o t e D i s p l a y ) ; d w _ p a g e . m a k e T o g g l e ( ' # d w _ _ t o c   h 3 ' , ' # d w _ _ t o c   >   d i v ' ) ; } , s e c t i o n H i g h l i g h t : f u n c t i o n ( ) { j Q u e r y ( ' f o r m . b t n _ s e c e d i t ' ) . m o u s e o v e r ( f u n c t i o n ( ) { v a r   $ t g t = j Q u e r y ( t h i s ) . p a r e n t ( ) , n r = $ t g t . a t t r ( ' c l a s s ' ) . m a t c h ( / ( \ s + | ^ ) e d i t b u t t o n _ ( \ d + ) ( \ s + | $ ) / ) [ 2 ] , $ h i g h l i g h t = j Q u e r y ( ) , $ h i g h l i g h t W r a p = j Q u e r y ( ' < d i v   c l a s s = " s e c t i o n _ h i g h l i g h t " > < / d i v > ' ) ; w h i l e ( $ t g t . l e n g t h > 0 & & ! ( $ t g t . h a s C l a s s ( ' s e c t i o n e d i t ' + n r ) | | $ t g t . f i n d ( ' . s e c t i o n e d i t ' + n r ) . l e n g t h ) ) { $ t g t = $ t g t . p r e v ( ) ; $ h i g h l i g h t = $ h i g h l i g h t . a d d ( $ t g t ) ; } $ h i g h l i g h t . f i l t e r ( ' : l a s t ' ) . b e f o r e ( $ h i g h l i g h t W r a p ) ; $ h i g h l i g h t . d e t a c h ( ) . a p p e n d T o ( $ h i g h l i g h t W r a p ) ; } ) . m o u s e o u t ( f u n c t i o n ( ) { v a r   $ h i g h l i g h t W r a p = j Q u e r y ( ' . s e c t i o n _ h i g h l i g h t ' ) ; $ h i g h l i g h t W r a p . b e f o r e ( $ h i g h l i g h t W r a p . c h i l d r e n ( ) . d e t a c h ( ) ) ; $ h i g h l i g h t W r a p . d e t a c h ( ) ; } ) ; } , i n s i t u P o p u p : f u n c t i o n ( t a r g e t , p o p u p _ i d ) { v a r   $ f n d i v = j Q u e r y ( ' # ' + p o p u p _ i d ) ; i f ( $ f n d i v . l e n g t h = = = 0 ) { $ f n d i v = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ) . a t t r ( ' i d ' , p o p u p _ i d ) . a d d C l a s s ( ' i n s i t u - f o o t n o t e   J S p o p u p ' ) . a t t r ( ' a r i a - h i d d e n ' , ' t r u e ' ) . m o u s e l e a v e ( f u n c t i o n ( ) { j Q u e r y ( t h i s ) . h i d e ( ) . a t t r ( ' a r i a - h i d d e n ' , ' t r u e ' ) ; } ) . a t t r ( ' r o l e ' , ' t o o l t i p ' ) ; j Q u e r y ( ' . d o k u w i k i : f i r s t ' ) . a p p e n d ( $ f n d i v ) ; } $ f n d i v . s h o w ( ) . p o s i t i o n ( { m y : ' l e f t   t o p ' , a t : ' l e f t   c e n t e r ' , o f : t a r g e t } ) . h i d e ( ) ; r e t u r n   $ f n d i v ; } , f o o t n o t e D i s p l a y : f u n c t i o n ( ) { v a r   $ c o n t e n t = j Q u e r y ( j Q u e r y ( t h i s ) . a t t r ( ' h r e f ' ) ) . p a r e n t ( ) . s i b l i n g s ( ' . c o n t e n t ' ) . c l o n e ( ) ; i f ( ! $ c o n t e n t ) { r e t u r n ; } j Q u e r y ( ' [ i d ] ' , $ c o n t e n t ) . e a c h ( f u n c t i o n ( ) { v a r   i d = j Q u e r y ( t h i s ) . a t t r ( ' i d ' ) ; j Q u e r y ( t h i s ) . a t t r ( ' i d ' , ' i n s i t u _ _ ' + i d ) ; } ) ; v a r   c o n t e n t = $ c o n t e n t . h t m l ( ) . t r i m ( ) ; d w _ p a g e . i n s i t u P o p u p ( t h i s , ' i n s i t u _ _ f n ' ) . h t m l ( c o n t e n t ) . s h o w ( ) . a t t r ( ' a r i a - h i d d e n ' , ' f a l s e ' ) ; } , m a k e T o g g l e : f u n c t i o n ( h a n d l e , c o n t e n t , s t a t e ) { v a r   $ h a n d l e , $ c o n t e n t , $ c l i c k y , $ c h i l d , s e t C l i c k y ; $ h a n d l e = j Q u e r y ( h a n d l e ) ; i f ( ! $ h a n d l e . l e n g t h ) r e t u r n ; $ c o n t e n t = j Q u e r y ( c o n t e n t ) ; i f ( ! $ c o n t e n t . l e n g t h ) r e t u r n ; $ c h i l d = $ c o n t e n t . c h i l d r e n ( ) ; s e t C l i c k y = f u n c t i o n ( h i d i n g ) { i f ( h i d i n g ) { $ c l i c k y . h t m l ( ' < s p a n > + < / s p a n > ' ) ; $ h a n d l e . a d d C l a s s ( ' c l o s e d ' ) ; $ h a n d l e . r e m o v e C l a s s ( ' o p e n ' ) ; } e l s e { $ c l i c k y . h t m l ( ' < s p a n > "< / s p a n > ' ) ; $ h a n d l e . a d d C l a s s ( ' o p e n ' ) ; $ h a n d l e . r e m o v e C l a s s ( ' c l o s e d ' ) ; } } ; $ h a n d l e [ 0 ] . s e t S t a t e = f u n c t i o n ( s t a t e ) { v a r   h i d d e n ; i f ( ! s t a t e ) s t a t e = 1 ; $ c o n t e n t . c s s ( ' m i n - h e i g h t ' , $ c o n t e n t . h e i g h t ( ) ) . s h o w ( ) ; $ c h i l d . s t o p ( t r u e , t r u e ) ; i f ( s t a t e = = = - 1 ) { h i d d e n = f a l s e ; } e l s e   i f ( s t a t e = = = 1 ) { h i d d e n = t r u e ; } e l s e { h i d d e n = $ c h i l d . i s ( ' : h i d d e n ' ) ; } s e t C l i c k y ( ! h i d d e n ) ; $ c h i l d . d w _ t o g g l e ( h i d d e n , f u n c t i o n ( ) { $ c o n t e n t . t o g g l e ( h i d d e n ) ; $ c o n t e n t . a t t r ( ' a r i a - e x p a n d e d ' , h i d d e n ) ; $ c o n t e n t . c s s ( ' m i n - h e i g h t ' , ' ' ) ; } , t r u e ) ; } ; $ c l i c k y = j Q u e r y ( d o c u m e n t . c r e a t e E l e m e n t ( ' s t r o n g ' ) ) ; $ h a n d l e . c s s ( ' c u r s o r ' , ' p o i n t e r ' ) . c l i c k ( $ h a n d l e [ 0 ] . s e t S t a t e ) . p r e p e n d ( $ c l i c k y ) ; $ h a n d l e [ 0 ] . s e t S t a t e ( s t a t e ) ; } } ; j Q u e r y ( d w _ p a g e . i n i t ) ; v a r   d w _ a c l = { i n i t : f u n c t i o n ( ) { v a r   $ t r e e ; i f ( j Q u e r y ( ' # a c l _ m a n a g e r ' ) . l e n g t h = = = 0 ) { r e t u r n ; } j Q u e r y ( ' # a c l _ _ u s e r   s e l e c t ' ) . c h a n g e ( d w _ a c l . u s e r s e l h a n d l e r ) ; j Q u e r y ( ' # a c l _ _ u s e r   b u t t o n ' ) . c l i c k ( d w _ a c l . l o a d i n f o ) ; $ t r e e = j Q u e r y ( ' # a c l _ _ t r e e ' ) ; $ t r e e . d w _ t r e e ( { t o g g l e _ s e l e c t o r : ' i m g ' , l o a d _ d a t a : f u n c t i o n ( s h o w _ s u b l i s t , $ c l i c k y ) { v a r   $ f r m = j Q u e r y ( ' # a c l _ _ d e t a i l   f o r m ' ) ; j Q u e r y . p o s t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , j Q u e r y . e x t e n d ( d w _ a c l . p a r s e a t t ( $ c l i c k y . p a r e n t ( ) . f i n d ( ' a ' ) [ 0 ] . s e a r c h ) , { c a l l : ' p l u g i n _ a c l ' , a j a x : ' t r e e ' , c u r r e n t _ n s : $ f r m . f i n d ( ' i n p u t [ n a m e = n s ] ' ) . v a l ( ) , c u r r e n t _ i d : $ f r m . f i n d ( ' i n p u t [ n a m e = i d ] ' ) . v a l ( ) } ) , s h o w _ s u b l i s t , ' h t m l ' ) ; } , t o g g l e _ d i s p l a y : f u n c t i o n ( $ c l i c k y , o p e n i n g ) { $ c l i c k y . a t t r ( ' s r c ' , D O K U _ B A S E + ' l i b / i m a g e s / ' + ( o p e n i n g ? ' m i n u s ' : ' p l u s ' ) + ' . g i f ' ) ; } } ) ; $ t r e e . d e l e g a t e ( ' a ' , ' c l i c k ' , d w _ a c l . t r e e h a n d l e r ) ; } , u s e r s e l h a n d l e r : f u n c t i o n ( ) { j Q u e r y ( ' # a c l _ _ u s e r   i n p u t ' ) . t o g g l e ( t h i s . v a l u e = = = ' _ _ g _ _ ' | | t h i s . v a l u e = = = ' _ _ u _ _ ' ) ; d w _ a c l . l o a d i n f o ( ) ; } , l o a d i n f o : f u n c t i o n ( ) { j Q u e r y ( ' # a c l _ _ i n f o ' ) . a t t r ( ' r o l e ' , ' a l e r t ' ) . h t m l ( ' < i m g   s r c = " ' + D O K U _ B A S E + ' l i b / i m a g e s / t h r o b b e r . g i f "   a l t = " . . . "   / > ' ) . l o a d ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , j Q u e r y ( ' # a c l _ _ d e t a i l   f o r m ' ) . s e r i a l i z e ( ) + ' & c a l l = p l u g i n _ a c l & a j a x = i n f o ' ) ; r e t u r n   f a l s e ; } , p a r s e a t t : f u n c t i o n ( s t r ) { i f ( s t r [ 0 ] = = = ' ? ' ) { s t r = s t r . s u b s t r ( 1 ) ; } v a r   a t t r i b u t e s = { } ; v a r   a l l = s t r . s p l i t ( ' & ' ) ; f o r ( v a r   i = 0 ; i < a l l . l e n g t h ; i + + ) { v a r   a t t = a l l [ i ] . s p l i t ( ' = ' ) ; a t t r i b u t e s [ a t t [ 0 ] ] = d e c o d e U R I C o m p o n e n t ( a t t [ 1 ] ) ; } r e t u r n   a t t r i b u t e s ; } , t r e e h a n d l e r : f u n c t i o n ( ) { v a r   $ l i n k , $ f r m ; $ l i n k = j Q u e r y ( t h i s ) ; j Q u e r y ( ' # a c l _ _ t r e e   a . c u r ' ) . r e m o v e C l a s s ( ' c u r ' ) ; $ l i n k . a d d C l a s s ( ' c u r ' ) ; $ f r m = j Q u e r y ( ' # a c l _ _ d e t a i l   f o r m ' ) ; i f ( $ l i n k . h a s C l a s s ( ' w i k i l i n k 1 ' ) ) { $ f r m . f i n d ( ' i n p u t [ n a m e = n s ] ' ) . v a l ( ' ' ) ; $ f r m . f i n d ( ' i n p u t [ n a m e = i d ] ' ) . v a l ( d w _ a c l . p a r s e a t t ( $ l i n k [ 0 ] . s e a r c h ) . i d ) ; } e l s e   i f ( $ l i n k . h a s C l a s s ( ' i d x _ d i r ' ) ) { $ f r m . f i n d ( ' i n p u t [ n a m e = n s ] ' ) . v a l ( d w _ a c l . p a r s e a t t ( $ l i n k [ 0 ] . s e a r c h ) . n s ) ; $ f r m . f i n d ( ' i n p u t [ n a m e = i d ] ' ) . v a l ( ' ' ) ; } d w _ a c l . l o a d i n f o ( ) ; r e t u r n   f a l s e ; } } ; j Q u e r y ( d w _ a c l . i n i t ) ; j Q u e r y ( f u n c t i o n ( ) { v a r   $ e x t m g r = j Q u e r y ( ' # e x t e n s i o n _ _ m a n a g e r ' ) ; $ e x t m g r . f i n d ( ' b u t t o n . u n i n s t a l l ' ) . c l i c k ( f u n c t i o n ( e ) { i f ( ! w i n d o w . c o n f i r m ( L A N G . p l u g i n s . e x t e n s i o n . r e a l l y d e l ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   f a l s e ; } r e t u r n   t r u e ; } ) ; $ e x t m g r . f i n d ( ' a . e x t e n s i o n _ s c r e e n s h o t ' ) . c l i c k ( f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   i m a g e _ h r e f = j Q u e r y ( t h i s ) . a t t r ( " h r e f " ) ; v a r   $ l i g h t b o x = j Q u e r y ( ' # p l u g i n _ _ e x t e n s i o n l i g h t b o x ' ) ; i f ( ! $ l i g h t b o x . l e n g t h ) { $ l i g h t b o x = j Q u e r y ( ' < d i v   i d = " p l u g i n _ _ e x t e n s i o n l i g h t b o x " > < p > C l i c k   t o   c l o s e < / p > < d i v > < / d i v > < / d i v > ' ) . a p p e n d T o ( j Q u e r y ( ' b o d y ' ) ) . h i d e ( ) . c l i c k ( f u n c t i o n ( ) { $ l i g h t b o x . h i d e ( ) ; } ) ; } $ l i g h t b o x   . s h o w ( ) . f i n d ( ' d i v ' ) . h t m l ( ' < i m g   s r c = " ' + i m a g e _ h r e f + ' "   / > ' ) ; r e t u r n   f a l s e ; } ) ; $ e x t m g r . f i n d ( ' b u t t o n . d i s a b l e ,   b u t t o n . e n a b l e ' ) . c l i c k ( f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   $ b t n = j Q u e r y ( t h i s ) ; v a r   e x t e n s i o n = $ b t n . a t t r ( ' n a m e ' ) . s p l i t ( ' [ ' ) [ 2 ] ; e x t e n s i o n = e x t e n s i o n . s u b s t r ( 0 , e x t e n s i o n . l e n g t h - 1 ) ; v a r   a c t = ( $ b t n . h a s C l a s s ( ' d i s a b l e ' ) ) ? ' d i s a b l e ' : ' e n a b l e ' ; $ b t n . a t t r ( ' d i s a b l e d ' , ' d i s a b l e d ' ) ; $ b t n . c s s ( ' c u r s o r ' , ' w a i t ' ) ; j Q u e r y . g e t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , { c a l l : ' p l u g i n _ e x t e n s i o n ' , e x t : e x t e n s i o n , a c t : a c t } , f u n c t i o n ( d a t a ) { $ b t n . c s s ( ' c u r s o r ' , ' ' ) . r e m o v e A t t r ( ' d i s a b l e d ' ) . r e m o v e C l a s s ( ' d i s a b l e ' ) . r e m o v e C l a s s ( ' e n a b l e ' ) . t e x t ( d a t a . l a b e l ) . a d d C l a s s ( d a t a . r e v e r s e ) . p a r e n t s ( ' l i ' ) . r e m o v e C l a s s ( ' d i s a b l e d ' ) . r e m o v e C l a s s ( ' e n a b l e d ' ) . a d d C l a s s ( d a t a . s t a t e ) ; } ) ; } ) ; $ e x t m g r . f i n d ( ' a . i n f o ' ) . c l i c k ( f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   $ l i n k = j Q u e r y ( t h i s ) ; v a r   $ d e t a i l s = $ l i n k . p a r e n t ( ) . f i n d ( ' d l . d e t a i l s ' ) ; i f ( $ d e t a i l s . l e n g t h ) { $ l i n k . t o g g l e C l a s s ( ' c l o s e ' ) ; $ d e t a i l s . t o g g l e ( ) ; r e t u r n ; } $ l i n k . a d d C l a s s ( ' c l o s e ' ) ; j Q u e r y . g e t ( D O K U _ B A S E + ' l i b / e x e / a j a x . p h p ' , { c a l l : ' p l u g i n _ e x t e n s i o n ' , e x t : $ l i n k . d a t a ( ' e x t i d ' ) , a c t : ' i n f o ' } , f u n c t i o n ( d a t a ) { $ l i n k . p a r e n t ( ) . a p p e n d ( d a t a ) ; } ) ; } ) ; i f ( $ e x t m g r . f i n d ( ' . p l u g i n s ,   . t e m p l a t e s ' ) . h a s C l a s s ( ' a c t i v e ' ) ) { v a r   $ e x t l i s t = j Q u e r y ( ' # e x t e n s i o n _ _ l i s t ' ) ; $ e x t l i s t . a d d C l a s s ( ' h a s D i s p l a y O p t i o n s ' ) ; v a r   $ d i s p l a y O p t s = j Q u e r y ( ' < p > ' , { i d : ' e x t e n s i o n _ _ v i e w o p t i o n s ' } ) . a p p e n d T o ( $ e x t m g r . f i n d ( ' . p a n e l H e a d e r ' ) ) ; $ d i s p l a y O p t s . a p p e n d ( L A N G . p l u g i n s . e x t e n s i o n . d i s p l a y _ v i e w o p t i o n s ) ; v a r   d i s p l a y O p t i o n s H a n d l e r = f u n c t i o n ( ) { $ e x t l i s t . t o g g l e C l a s s ( t h i s . n a m e ) ; D o k u C o o k i e . s e t V a l u e ( ' e x t _ ' + t h i s . n a m e , $ e x t l i s t . h a s C l a s s ( t h i s . n a m e ) ? ' 1 ' : ' 0 ' ) ; } ; j Q u e r y ( [ ' e n a b l e d ' , ' d i s a b l e d ' , ' u p d a t a b l e ' ] ) . e a c h ( f u n c t i o n ( i n d e x , c h k N a m e ) { v a r   $ l a b e l = j Q u e r y ( ' < l a b e l > < / l a b e l > ' ) . a p p e n d T o ( $ d i s p l a y O p t s ) ; v a r   $ i n p u t = j Q u e r y ( ' < i n p u t   / > ' , { t y p e : ' c h e c k b o x ' , n a m e : c h k N a m e } ) . c h a n g e ( d i s p l a y O p t i o n s H a n d l e r ) . a p p e n d T o ( $ l a b e l ) ; v a r   p r e v i o u s = D o k u C o o k i e . g e t V a l u e ( ' e x t _ ' + c h k N a m e ) ; i f ( t y p e o f   p r e v i o u s = = = " u n d e f i n e d " | | p r e v i o u s = = ' 1 ' ) { $ i n p u t . c l i c k ( ) ; } j Q u e r y ( ' < s p a n / > ' ) . a p p e n d ( '   ' + L A N G . p l u g i n s . e x t e n s i o n [ ' d i s p l a y _ ' + c h k N a m e ] ) . a p p e n d T o ( $ l a b e l ) ; } ) ; } } ) ; j Q u e r y ( f u n c t i o n ( ) { j Q u e r y ( ' # u s r m g r _ _ d e l ' ) . c l i c k ( f u n c t i o n ( ) { r e t u r n   c o n f i r m ( L A N G . d e l _ c o n f i r m ) ; } ) ; } ) ; j Q u e r y ( f u n c t i o n ( ) { j Q u e r y ( ' f o r m . p l u g i n _ _ t a g _ s e a r c h   t a b l e   i n p u t ' ) . c h a n g e ( f u n c t i o n ( ) { i f ( j Q u e r y ( t h i s ) . a t t r ( ' c h e c k e d ' ) ) { i f ( j Q u e r y ( t h i s ) . p a r e n t ( ) . h a s C l a s s ( ' m i n u s ' ) ) { j Q u e r y ( t h i s ) . c l o s e s t ( ' t r ' ) . f i n d ( ' . p l u s   i n p u t ' ) . a t t r ( ' c h e c k e d ' , f a l s e ) ; } e l s e { j Q u e r y ( t h i s ) . c l o s e s t ( ' t r ' ) . f i n d ( ' . m i n u s   i n p u t ' ) . a t t r ( ' c h e c k e d ' , f a l s e ) ; } } } ) } ) ; i f ( t o o l b a r ) { t o o l b a r [ t o o l b a r . l e n g t h ] = { " t y p e " : " f o r m a t " , " t i t l e " : " n o t e " , " k e y " : " " , " i c o n " : " . . / . . / p l u g i n s / n o t e / i m a g e s / t b _ n o t e . p n g " , " o p e n " : " < n o t e > " , " c l o s e " : " < / n o t e > " } ; t o o l b a r [ t o o l b a r . l e n g t h ] = { " t y p e " : " f o r m a t " , " t i t l e " : " t i p " , " k e y " : " " , " i c o n " : " . . / . . / p l u g i n s / n o t e / i m a g e s / t b _ t i p . p n g " , " o p e n " : " < n o t e   t i p > " , " c l o s e " : " < / n o t e > " } ; t o o l b a r [ t o o l b a r . l e n g t h ] = { " t y p e " : " f o r m a t " , " t i t l e " : " i m p o r t a n t " , " k e y " : " " , " i c o n " : " . . / . . / p l u g i n s / n o t e / i m a g e s / t b _ i m p o r t a n t . p n g " , " o p e n " : " < n o t e   i m p o r t a n t > " , " c l o s e " : " < / n o t e > " } ; t o o l b a r [ t o o l b a r . l e n g t h ] = { " t y p e " : " f o r m a t " , " t i t l e " : " w a r n i n g " , " k e y " : " " , " i c o n " : " . . / . . / p l u g i n s / n o t e / i m a g e s / t b _ w a r n i n g . p n g " , " o p e n " : " < n o t e   w a r n i n g > " , " c l o s e " : " < / n o t e > " } ; } v a r   p l u g i n _ s e a r c h i n d e x = ( f u n c t i o n ( ) { v a r   p u b = { } ; v a r   p a g e s = n u l l , p a g e = n u l l , u r l = n u l l , d o n e = 1 , c o u n t = 0 , $ m s g = n u l l , $ b u t t o n s = n u l l , l a n g = n u l l ; f o r c e = ' ' ; p u b . i n i t = f u n c t i o n ( ) { $ m s g = j Q u e r y ( ' # p l u g i n _ _ s e a r c h i n d e x _ m s g ' ) ; i f ( ! $ m s g ) r e t u r n ; l a n g = L A N G . p l u g i n s . s e a r c h i n d e x ; u r l = D O K U _ B A S E + ' l i b / p l u g i n s / s e a r c h i n d e x / a j a x . p h p ' ; $ b u t t o n s = j Q u e r y ( ' # p l u g i n _ _ s e a r c h i n d e x _ b u t t o n s ' ) ; j Q u e r y ( ' # p l u g i n _ _ s e a r c h i n d e x _ u p d a t e ' ) . c l i c k ( p u b . u p d a t e ) ; j Q u e r y ( ' # p l u g i n _ _ s e a r c h i n d e x _ r e b u i l d ' ) . c l i c k ( p u b . r e b u i l d ) ; } ; v a r   m e s s a g e = f u n c t i o n ( t e x t ) { i f ( t e x t . c h a r A t ( 0 ) ! = = ' < ' ) { t e x t = ' < p > ' + t e x t + ' < / p > ' } $ m s g . h t m l ( t e x t ) ; } ; v a r   i n d e x = f u n c t i o n ( ) { i f ( p a g e ) { j Q u e r y . p o s t ( u r l , ' c a l l = i n d e x p a g e & p a g e = ' + e n c o d e U R I ( p a g e ) + ' & f o r c e = ' + f o r c e , f u n c t i o n ( r e s p o n s e ) { v a r   w a i t = 2 5 0 ; p a g e = p a g e s . s h i f t ( ) ; d o n e + + ; v a r   m s g = ( r e s p o n s e ! = = ' t r u e ' ) ? l a n g . n o t i n d e x e d : l a n g . i n d e x e d ; s t a t u s = ' < p   c l a s s = " s t a t u s " > ' + m s g + ' < / p > ' ; m e s s a g e ( ' < p > ' + l a n g . i n d e x i n g + '   ' + d o n e + ' / ' + c o u n t + ' < / p > < p   c l a s s = " n a m e " > ' + p a g e + ' < / p > ' + s t a t u s ) ; w i n d o w . s e t T i m e o u t ( i n d e x , w a i t ) ; } ) ; } e l s e { f i n i s h e d ( ) ; } } ; v a r   f i n i s h e d = f u n c t i o n ( ) { t h r o b b e r _ o f f ( ) ; m e s s a g e ( l a n g . d o n e ) ; w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { m e s s a g e ( ' ' ) ; $ b u t t o n s . s h o w ( ' s l o w ' ) ; } , 3 0 0 0 ) ; } ; v a r   c l e a r = f u n c t i o n ( ) { m e s s a g e ( l a n g . c l e a r i n g ) ; j Q u e r y . p o s t ( u r l , ' c a l l = c l e a r i n d e x ' , f u n c t i o n ( r e s p o n s e ) { i f ( r e s p o n s e ! = = ' t r u e ' ) { m e s s a g e ( r e s p o n s e ) ; w i n d o w . s e t T i m e o u t ( c l e a r , 5 0 0 0 ) ; } e l s e { f o r c e = ' t r u e ' ; w i n d o w . s e t T i m e o u t ( i n d e x , 1 0 0 0 ) ; } } ) ; } ; p u b . r e b u i l d = f u n c t i o n ( ) { p u b . u p d a t e ( t r u e ) ; } ; p u b . u p d a t e = f u n c t i o n ( r e b u i l d ) { d o n e = 1 ; r e b u i l d = r e b u i l d | | f a l s e ; $ b u t t o n s . h i d e ( ' s l o w ' ) ; t h r o b b e r _ o n ( ) ; m e s s a g e ( l a n g . f i n d i n g ) ; j Q u e r y . p o s t ( u r l , ' c a l l = p a g e l i s t ' , f u n c t i o n ( r e s p o n s e ) { i f ( r e s p o n s e ! = = ' t r u e ' ) { p a g e s = r e s p o n s e . s p l i t ( " \ n " ) ; c o u n t = p a g e s . l e n g t h ; m e s s a g e ( l a n g . p a g e s . r e p l a c e ( / % d / , p a g e s . l e n g t h ) ) ; p a g e = p a g e s . s h i f t ( ) ; i f ( r e b u i l d = = = t r u e ) { c l e a r ( ) ; } e l s e { f o r c e = ' ' ; w i n d o w . s e t T i m e o u t ( i n d e x , 1 0 0 0 ) ; } } e l s e { f i n i s h e d ( ) ; } } ) ; } ; v a r   t h r o b b e r _ o n = f u n c t i o n ( ) { $ m s g . a d d C l a s s ( ' u p d a t i n g ' ) ; } ; v a r   t h r o b b e r _ o f f = f u n c t i o n ( ) { $ m s g . r e m o v e C l a s s ( ' u p d a t i n g ' ) ; } ; r e t u r n   p u b ; } ) ( ) ; j Q u e r y ( f u n c t i o n ( ) { p l u g i n _ s e a r c h i n d e x . i n i t ( ) ; } ) ; ( f u n c t i o n ( $ , u n d e f ) { v a r   _ h t m l , n o n G r a d i e n t I E , g r a d i e n t T y p e , v e n d o r P r e f i x e s , _ c s s , I r i s , U A , i s I E , I E V e r s i o n ; _ h t m l = ' < d i v   c l a s s = " i r i s - p i c k e r " > < d i v   c l a s s = " i r i s - p i c k e r - i n n e r " > < d i v   c l a s s = " i r i s - s q u a r e " > < a   c l a s s = " i r i s - s q u a r e - v a l u e "   h r e f = " # " > < s p a n   c l a s s = " i r i s - s q u a r e - h a n d l e   u i - s l i d e r - h a n d l e " > < / s p a n > < / a > < d i v   c l a s s = " i r i s - s q u a r e - i n n e r   i r i s - s q u a r e - h o r i z " > < / d i v > < d i v   c l a s s = " i r i s - s q u a r e - i n n e r   i r i s - s q u a r e - v e r t " > < / d i v > < / d i v > < d i v   c l a s s = " i r i s - s l i d e r   i r i s - s t r i p " > < d i v   c l a s s = " i r i s - s l i d e r - o f f s e t " > < / d i v > < / d i v > < / d i v > < / d i v > ' ; _ c s s = ' . i r i s - p i c k e r { d i s p l a y : b l o c k ; p o s i t i o n : r e l a t i v e } . i r i s - p i c k e r , . i r i s - p i c k e r   * { - m o z - b o x - s i z i n g : c o n t e n t - b o x ; - w e b k i t - b o x - s i z i n g : c o n t e n t - b o x ; b o x - s i z i n g : c o n t e n t - b o x } i n p u t + . i r i s - p i c k e r { m a r g i n - t o p : 4 p x } . i r i s - e r r o r { b a c k g r o u n d - c o l o r : # f f a f a f } . i r i s - b o r d e r { b o r d e r - r a d i u s : 3 p x ; b o r d e r : 1 p x   s o l i d   # a a a ; w i d t h : 2 0 0 p x ; b a c k g r o u n d - c o l o r : # f f f } . i r i s - p i c k e r - i n n e r { p o s i t i o n : a b s o l u t e ; t o p : 0 ; r i g h t : 0 ; l e f t : 0 ; b o t t o m : 0 } . i r i s - b o r d e r   . i r i s - p i c k e r - i n n e r { t o p : 1 0 p x ; r i g h t : 1 0 p x ; l e f t : 1 0 p x ; b o t t o m : 1 0 p x } . i r i s - p i c k e r   . i r i s - s q u a r e - i n n e r { p o s i t i o n : a b s o l u t e ; l e f t : 0 ; r i g h t : 0 ; t o p : 0 ; b o t t o m : 0 } . i r i s - p i c k e r   . i r i s - s q u a r e , . i r i s - p i c k e r   . i r i s - s l i d e r , . i r i s - p i c k e r   . i r i s - s q u a r e - i n n e r , . i r i s - p i c k e r   . i r i s - p a l e t t e { b o r d e r - r a d i u s : 3 p x ; b o x - s h a d o w : i n s e t   0   0   5 p x   r g b a ( 0 , 0 , 0 , . 4 ) ; h e i g h t : 1 0 0 % ; w i d t h : 1 2 . 5 % ; f l o a t : l e f t ; m a r g i n - r i g h t : 5 % } . i r i s - p i c k e r   . i r i s - s q u a r e { w i d t h : 7 6 % ; m a r g i n - r i g h t : 1 0 % ; p o s i t i o n : r e l a t i v e } . i r i s - p i c k e r   . i r i s - s q u a r e - i n n e r { w i d t h : a u t o ; m a r g i n : 0 } . i r i s - i e - 9   . i r i s - s q u a r e , . i r i s - i e - 9   . i r i s - s l i d e r , . i r i s - i e - 9   . i r i s - s q u a r e - i n n e r , . i r i s - i e - 9   . i r i s - p a l e t t e { b o x - s h a d o w : n o n e ; b o r d e r - r a d i u s : 0 } . i r i s - i e - 9   . i r i s - s q u a r e , . i r i s - i e - 9   . i r i s - s l i d e r , . i r i s - i e - 9   . i r i s - p a l e t t e { o u t l i n e : 1 p x   s o l i d   r g b a ( 0 , 0 , 0 , . 1 ) } . i r i s - i e - l t 9   . i r i s - s q u a r e , . i r i s - i e - l t 9   . i r i s - s l i d e r , . i r i s - i e - l t 9   . i r i s - s q u a r e - i n n e r , . i r i s - i e - l t 9   . i r i s - p a l e t t e { o u t l i n e : 1 p x   s o l i d   # a a a } . i r i s - i e - l t 9   . i r i s - s q u a r e   . u i - s l i d e r - h a n d l e { o u t l i n e : 1 p x   s o l i d   # a a a ; b a c k g r o u n d - c o l o r : # f f f ; - m s - f i l t e r : " a l p h a ( O p a c i t y = 3 0 ) " } . i r i s - i e - l t 9   . i r i s - s q u a r e   . i r i s - s q u a r e - h a n d l e { b a c k g r o u n d : 0 ; b o r d e r : 3 p x   s o l i d   # f f f ; - m s - f i l t e r : " a l p h a ( O p a c i t y = 5 0 ) " } . i r i s - p i c k e r   . i r i s - s t r i p { m a r g i n - r i g h t : 0 ; p o s i t i o n : r e l a t i v e } . i r i s - p i c k e r   . i r i s - s t r i p   . u i - s l i d e r - h a n d l e { p o s i t i o n : a b s o l u t e ; b a c k g r o u n d : 0 ; m a r g i n : 0 ; r i g h t : - 3 p x ; l e f t : - 3 p x ; b o r d e r : 4 p x   s o l i d   # a a a ; b o r d e r - w i d t h : 4 p x   3 p x ; w i d t h : a u t o ; h e i g h t : 6 p x ; b o r d e r - r a d i u s : 4 p x ; b o x - s h a d o w : 0   1 p x   2 p x   r g b a ( 0 , 0 , 0 , . 2 ) ; o p a c i t y : . 9 ; z - i n d e x : 5 ; c u r s o r : n s - r e s i z e } . i r i s - s t r i p   . u i - s l i d e r - h a n d l e : b e f o r e { c o n t e n t : "   " ; p o s i t i o n : a b s o l u t e ; l e f t : - 2 p x ; r i g h t : - 2 p x ; t o p : - 3 p x ; b o t t o m : - 3 p x ; b o r d e r : 2 p x   s o l i d   # f f f ; b o r d e r - r a d i u s : 3 p x } . i r i s - p i c k e r   . i r i s - s l i d e r - o f f s e t { p o s i t i o n : a b s o l u t e ; t o p : 1 1 p x ; l e f t : 0 ; r i g h t : 0 ; b o t t o m : - 3 p x ; w i d t h : a u t o ; h e i g h t : a u t o ; b a c k g r o u n d : t r a n s p a r e n t ; b o r d e r : 0 ; b o r d e r - r a d i u s : 0 } . i r i s - p i c k e r   . i r i s - s q u a r e - h a n d l e { b a c k g r o u n d : t r a n s p a r e n t ; b o r d e r : 5 p x   s o l i d   # a a a ; b o r d e r - r a d i u s : 5 0 % ; b o r d e r - c o l o r : r g b a ( 1 2 8 , 1 2 8 , 1 2 8 , . 5 ) ; b o x - s h a d o w : n o n e ; w i d t h : 1 2 p x ; h e i g h t : 1 2 p x ; p o s i t i o n : a b s o l u t e ; l e f t : - 1 0 p x ; t o p : - 1 0 p x ; c u r s o r : m o v e ; o p a c i t y : 1 ; z - i n d e x : 1 0 } . i r i s - p i c k e r   . u i - s t a t e - f o c u s   . i r i s - s q u a r e - h a n d l e { o p a c i t y : . 8 } . i r i s - p i c k e r   . i r i s - s q u a r e - h a n d l e : h o v e r { b o r d e r - c o l o r : # 9 9 9 } . i r i s - p i c k e r   . i r i s - s q u a r e - v a l u e : f o c u s   . i r i s - s q u a r e - h a n d l e { b o x - s h a d o w : 0   0   2 p x   r g b a ( 0 , 0 , 0 , . 7 5 ) ; o p a c i t y : . 8 } . i r i s - p i c k e r   . i r i s - s q u a r e - h a n d l e : h o v e r : : a f t e r { b o r d e r - c o l o r : # f f f } . i r i s - p i c k e r   . i r i s - s q u a r e - h a n d l e : : a f t e r { p o s i t i o n : a b s o l u t e ; b o t t o m : - 4 p x ; r i g h t : - 4 p x ; l e f t : - 4 p x ; t o p : - 4 p x ; b o r d e r : 3 p x   s o l i d   # f 9 f 9 f 9 ; b o r d e r - c o l o r : r g b a ( 2 5 5 , 2 5 5 , 2 5 5 , . 8 ) ; b o r d e r - r a d i u s : 5 0 % ; c o n t e n t : "   " } . i r i s - p i c k e r   . i r i s - s q u a r e - v a l u e { w i d t h : 8 p x ; h e i g h t : 8 p x ; p o s i t i o n : a b s o l u t e } . i r i s - i e - l t 9   . i r i s - s q u a r e - v a l u e , . i r i s - m o z i l l a   . i r i s - s q u a r e - v a l u e { w i d t h : 1 p x ; h e i g h t : 1 p x } . i r i s - p a l e t t e - c o n t a i n e r { p o s i t i o n : a b s o l u t e ; b o t t o m : 0 ; l e f t : 0 ; m a r g i n : 0 ; p a d d i n g : 0 } . i r i s - b o r d e r   . i r i s - p a l e t t e - c o n t a i n e r { l e f t : 1 0 p x ; b o t t o m : 1 0 p x } . i r i s - p i c k e r   . i r i s - p a l e t t e { m a r g i n : 0 ; c u r s o r : p o i n t e r } . i r i s - s q u a r e - h a n d l e , . u i - s l i d e r - h a n d l e { b o r d e r : 0 ; o u t l i n e : 0 } ' ; U A = n a v i g a t o r . u s e r A g e n t . t o L o w e r C a s e ( ) ; i s I E = n a v i g a t o r . a p p N a m e = = = ' M i c r o s o f t   I n t e r n e t   E x p l o r e r ' ; I E V e r s i o n = i s I E ? p a r s e F l o a t ( U A . m a t c h ( / m s i e   ( [ 0 - 9 ] { 1 , } [ \ . 0 - 9 ] { 0 , } ) / ) [ 1 ] ) : 0 ; n o n G r a d i e n t I E = ( i s I E & & I E V e r s i o n < 1 0 ) ; g r a d i e n t T y p e = f a l s e ; v e n d o r P r e f i x e s = [ ' - m o z - ' , ' - w e b k i t - ' , ' - o - ' , ' - m s - ' ] ; i f ( n o n G r a d i e n t I E & & I E V e r s i o n < = 7 ) { $ . f n . i r i s = $ . n o o p ; $ . s u p p o r t . i r i s = f a l s e ; r e t u r n ; } $ . s u p p o r t . i r i s = t r u e ; f u n c t i o n   t e s t G r a d i e n t T y p e ( ) { v a r   e l , b a s e , b g I m a g e S t r i n g = ' b a c k g r o u n d I m a g e ' ; i f ( n o n G r a d i e n t I E ) { g r a d i e n t T y p e = ' f i l t e r ' ; } e l s e { e l = $ ( ' < d i v   i d = " i r i s - g r a d t e s t "   / > ' ) ; b a s e = ' l i n e a r - g r a d i e n t ( t o p , # f f f , # 0 0 0 ) ' ; $ . e a c h ( v e n d o r P r e f i x e s , f u n c t i o n ( i , v a l ) { e l . c s s ( b g I m a g e S t r i n g , v a l + b a s e ) ; i f ( e l . c s s ( b g I m a g e S t r i n g ) . m a t c h ( ' g r a d i e n t ' ) ) { g r a d i e n t T y p e = i ; r e t u r n   f a l s e ; } } ) ; i f ( g r a d i e n t T y p e = = = f a l s e ) { e l . c s s ( ' b a c k g r o u n d ' , ' - w e b k i t - g r a d i e n t ( l i n e a r , 0 %   0 % , 0 %   1 0 0 % , f r o m ( # f f f ) , t o ( # 0 0 0 ) ) ' ) ; i f ( e l . c s s ( b g I m a g e S t r i n g ) . m a t c h ( ' g r a d i e n t ' ) ) { g r a d i e n t T y p e = ' w e b k i t ' ; } } e l . r e m o v e ( ) ; } } f u n c t i o n   c r e a t e G r a d i e n t ( o r i g i n , s t o p s ) { o r i g i n = ( o r i g i n = = = ' t o p ' ) ? ' t o p ' : ' l e f t ' ; s t o p s = $ . i s A r r a y ( s t o p s ) ? s t o p s : A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 1 ) ; i f ( g r a d i e n t T y p e = = = ' w e b k i t ' ) { r e t u r n   l e g a c y W e b k i t G r a d i e n t ( o r i g i n , s t o p s ) ; } e l s e { r e t u r n   v e n d o r P r e f i x e s [ g r a d i e n t T y p e ] + ' l i n e a r - g r a d i e n t ( ' + o r i g i n + ' ,   ' + s t o p s . j o i n ( ' ,   ' ) + ' ) ' ; } } f u n c t i o n   s t u p i d I E G r a d i e n t ( o r i g i n , s t o p s ) { v a r   t y p e , s e l f , l a s t I n d e x , f i l t e r , s t a r t P o s P r o p , e n d P o s P r o p , d i m e n s i o n P r o p , t e m p l a t e , h t m l ; o r i g i n = ( o r i g i n = = = ' t o p ' ) ? ' t o p ' : ' l e f t ' ; s t o p s = $ . i s A r r a y ( s t o p s ) ? s t o p s : A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 1 ) ; t y p e = ( o r i g i n = = = ' t o p ' ) ? 0 : 1 ; s e l f = $ ( t h i s ) ; l a s t I n d e x = s t o p s . l e n g t h - 1 ; f i l t e r = ' f i l t e r ' ; s t a r t P o s P r o p = ( t y p e = = = 1 ) ? ' l e f t ' : ' t o p ' ; e n d P o s P r o p = ( t y p e = = = 1 ) ? ' r i g h t ' : ' b o t t o m ' ; d i m e n s i o n P r o p = ( t y p e = = = 1 ) ? ' h e i g h t ' : ' w i d t h ' ; t e m p l a t e = ' < d i v   c l a s s = " i r i s - i e - g r a d i e n t - s h i m "   s t y l e = " p o s i t i o n : a b s o l u t e ; ' + d i m e n s i o n P r o p + ' : 1 0 0 % ; ' + s t a r t P o s P r o p + ' : % s t a r t % ; ' + e n d P o s P r o p + ' : % e n d % ; ' + f i l t e r + ' : % f i l t e r % ; "   d a t a - c o l o r : " % c o l o r % " > < / d i v > ' ; h t m l = ' ' ; i f ( s e l f . c s s ( ' p o s i t i o n ' ) = = = ' s t a t i c ' ) { s e l f . c s s ( { p o s i t i o n : ' r e l a t i v e ' } ) ; } s t o p s = f i l l C o l o r S t o p s ( s t o p s ) ; $ . e a c h ( s t o p s , f u n c t i o n ( i , s t a r t C o l o r ) { v a r   e n d C o l o r , e n d S t o p , f i l t e r V a l ; i f ( i = = = l a s t I n d e x ) { r e t u r n   f a l s e ; } e n d C o l o r = s t o p s [ i + 1 ] ; i f ( s t a r t C o l o r . s t o p = = = e n d C o l o r . s t o p ) { r e t u r n ; } e n d S t o p = 1 0 0 - p a r s e F l o a t ( e n d C o l o r . s t o p ) + ' % ' ; s t a r t C o l o r . o c t o H e x = n e w   C o l o r ( s t a r t C o l o r . c o l o r ) . t o I E O c t o H e x ( ) ; e n d C o l o r . o c t o H e x = n e w   C o l o r ( e n d C o l o r . c o l o r ) . t o I E O c t o H e x ( ) ; f i l t e r V a l = ' p r o g i d : D X I m a g e T r a n s f o r m . M i c r o s o f t . G r a d i e n t ( G r a d i e n t T y p e = ' + t y p e + ' ,   S t a r t C o l o r S t r = \ ' ' + s t a r t C o l o r . o c t o H e x + ' \ ' ,   E n d C o l o r S t r = \ ' ' + e n d C o l o r . o c t o H e x + ' \ ' ) ' ; h t m l + = t e m p l a t e . r e p l a c e ( ' % s t a r t % ' , s t a r t C o l o r . s t o p ) . r e p l a c e ( ' % e n d % ' , e n d S t o p ) . r e p l a c e ( ' % f i l t e r % ' , f i l t e r V a l ) ; } ) ; s e l f . f i n d ( ' . i r i s - i e - g r a d i e n t - s h i m ' ) . r e m o v e ( ) ; $ ( h t m l ) . p r e p e n d T o ( s e l f ) ; } f u n c t i o n   l e g a c y W e b k i t G r a d i e n t ( o r i g i n , c o l o r L i s t ) { v a r   s t o p s = [ ] ; o r i g i n = ( o r i g i n = = = ' t o p ' ) ? ' 0 %   0 % , 0 %   1 0 0 % , ' : ' 0 %   1 0 0 % , 1 0 0 %   1 0 0 % , ' ; c o l o r L i s t = f i l l C o l o r S t o p s ( c o l o r L i s t ) ; $ . e a c h ( c o l o r L i s t , f u n c t i o n ( i , v a l ) { s t o p s . p u s h ( ' c o l o r - s t o p ( ' + ( p a r s e F l o a t ( v a l . s t o p ) / 1 0 0 ) + ' ,   ' + v a l . c o l o r + ' ) ' ) ; } ) ; r e t u r n ' - w e b k i t - g r a d i e n t ( l i n e a r , ' + o r i g i n + s t o p s . j o i n ( ' , ' ) + ' ) ' ; } f u n c t i o n   f i l l C o l o r S t o p s ( c o l o r L i s t ) { v a r   c o l o r s = [ ] , p e r c s = [ ] , n e w C o l o r L i s t = [ ] , l a s t I n d e x = c o l o r L i s t . l e n g t h - 1 ; $ . e a c h ( c o l o r L i s t , f u n c t i o n ( i n d e x , v a l ) { v a r   c o l o r = v a l , p e r c = f a l s e , m a t c h = v a l . m a t c h ( / 1 ? [ 0 - 9 ] { 1 , 2 } % $ / ) ; i f ( m a t c h ) { c o l o r = v a l . r e p l a c e ( / \ s ? 1 ? [ 0 - 9 ] { 1 , 2 } % $ / , ' ' ) ; p e r c = m a t c h . s h i f t ( ) ; } c o l o r s . p u s h ( c o l o r ) ; p e r c s . p u s h ( p e r c ) ; } ) ; i f ( p e r c s [ 0 ] = = = f a l s e ) { p e r c s [ 0 ] = ' 0 % ' ; } i f ( p e r c s [ l a s t I n d e x ] = = = f a l s e ) { p e r c s [ l a s t I n d e x ] = ' 1 0 0 % ' ; } p e r c s = b a c k F i l l C o l o r S t o p s ( p e r c s ) ; $ . e a c h ( p e r c s , f u n c t i o n ( i ) { n e w C o l o r L i s t [ i ] = { c o l o r : c o l o r s [ i ] , s t o p : p e r c s [ i ] } ; } ) ; r e t u r n   n e w C o l o r L i s t ; } f u n c t i o n   b a c k F i l l C o l o r S t o p s ( s t o p s ) { v a r   f i r s t = 0 , l a s t = s t o p s . l e n g t h - 1 , i = 0 , f o u n d F i r s t = f a l s e , i n c r , s t e p s , s t e p , f i r s t V a l ; i f ( s t o p s . l e n g t h < = 2 | | $ . i n A r r a y ( f a l s e , s t o p s ) < 0 ) { r e t u r n   s t o p s ; } w h i l e ( i < s t o p s . l e n g t h - 1 ) { i f ( ! f o u n d F i r s t & & s t o p s [ i ] = = = f a l s e ) { f i r s t = i - 1 ; f o u n d F i r s t = t r u e ; } e l s e   i f ( f o u n d F i r s t & & s t o p s [ i ] ! = = f a l s e ) { l a s t = i ; i = s t o p s . l e n g t h ; } i + + ; } s t e p s = l a s t - f i r s t ; f i r s t V a l = p a r s e I n t ( s t o p s [ f i r s t ] . r e p l a c e ( ' % ' ) , 1 0 ) ; i n c r = ( p a r s e F l o a t ( s t o p s [ l a s t ] . r e p l a c e ( ' % ' ) ) - f i r s t V a l ) / s t e p s ; i = f i r s t + 1 ; s t e p = 1 ; w h i l e ( i < l a s t ) { s t o p s [ i ] = ( f i r s t V a l + ( s t e p * i n c r ) ) + ' % ' ; s t e p + + ; i + + ; } r e t u r n   b a c k F i l l C o l o r S t o p s ( s t o p s ) ; } $ . f n . g r a d i e n t = f u n c t i o n ( ) { v a r   a r g s = a r g u m e n t s ; r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { i f ( n o n G r a d i e n t I E ) { s t u p i d I E G r a d i e n t . a p p l y ( t h i s , a r g s ) ; } e l s e { $ ( t h i s ) . c s s ( ' b a c k g r o u n d I m a g e ' , c r e a t e G r a d i e n t . a p p l y ( t h i s , a r g s ) ) ; } } ) ; } ; $ . f n . r a n i n b o w G r a d i e n t = f u n c t i o n ( o r i g i n , a r g s ) { v a r   o p t s , t e m p l a t e , i , s t e p s ; o r i g i n = o r i g i n | | ' t o p ' ; o p t s = $ . e x t e n d ( { } , { s : 1 0 0 , l : 5 0 } , a r g s ) ; t e m p l a t e = ' h s l ( % h % , ' + o p t s . s + ' % , ' + o p t s . l + ' % ) ' ; i = 0 ; s t e p s = [ ] ; w h i l e ( i < = 3 6 0 ) { s t e p s . p u s h ( t e m p l a t e . r e p l a c e ( ' % h % ' , i ) ) ; i + = 3 0 ; } r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { $ ( t h i s ) . g r a d i e n t ( o r i g i n , s t e p s ) ; } ) ; } ; I r i s = { o p t i o n s : { c o l o r : f a l s e , m o d e : ' h s l ' , c o n t r o l s : { h o r i z : ' s ' , v e r t : ' l ' , s t r i p : ' h ' } , h i d e : t r u e , b o r d e r : t r u e , t a r g e t : f a l s e , w i d t h : 2 0 0 , p a l e t t e s : f a l s e } , _ c o l o r : ' ' , _ p a l e t t e s : [ ' # 0 0 0 ' , ' # f f f ' , ' # d 3 3 ' , ' # d 9 3 ' , ' # e e 2 ' , ' # 8 1 d 7 4 2 ' , ' # 1 e 7 3 b e ' , ' # 8 2 2 4 e 3 ' ] , _ i n i t e d : f a l s e , _ d e f a u l t H S L C o n t r o l s : { h o r i z : ' s ' , v e r t : ' l ' , s t r i p : ' h ' } , _ d e f a u l t H S V C o n t r o l s : { h o r i z : ' h ' , v e r t : ' v ' , s t r i p : ' s ' } , _ s c a l e : { h : 3 6 0 , s : 1 0 0 , l : 1 0 0 , v : 1 0 0 } , _ c r e a t e : f u n c t i o n ( ) { v a r   s e l f = t h i s , e l = s e l f . e l e m e n t , c o l o r = s e l f . o p t i o n s . c o l o r | | e l . v a l ( ) ; i f ( g r a d i e n t T y p e = = = f a l s e ) { t e s t G r a d i e n t T y p e ( ) ; } i f ( e l . i s ( ' i n p u t ' ) ) { i f ( s e l f . o p t i o n s . t a r g e t ) { s e l f . p i c k e r = $ ( _ h t m l ) . a p p e n d T o ( s e l f . o p t i o n s . t a r g e t ) ; } e l s e { s e l f . p i c k e r = $ ( _ h t m l ) . i n s e r t A f t e r ( e l ) ; } s e l f . _ a d d I n p u t L i s t e n e r s ( e l ) ; } e l s e { e l . a p p e n d ( _ h t m l ) ; s e l f . p i c k e r = e l . f i n d ( ' . i r i s - p i c k e r ' ) ; } i f ( i s I E ) { i f ( I E V e r s i o n = = = 9 ) { s e l f . p i c k e r . a d d C l a s s ( ' i r i s - i e - 9 ' ) ; } e l s e   i f ( I E V e r s i o n < = 8 ) { s e l f . p i c k e r . a d d C l a s s ( ' i r i s - i e - l t 9 ' ) ; } } e l s e   i f ( U A . i n d e x O f ( ' c o m p a t i b l e ' ) < 0 & & U A . i n d e x O f ( ' k h t m l ' ) < 0 & & U A . m a t c h ( / m o z i l l a / ) ) { s e l f . p i c k e r . a d d C l a s s ( ' i r i s - m o z i l l a ' ) ; } i f ( s e l f . o p t i o n s . p a l e t t e s ) { s e l f . _ a d d P a l e t t e s ( ) ; } s e l f . _ c o l o r = n e w   C o l o r ( c o l o r ) . s e t H S p a c e ( s e l f . o p t i o n s . m o d e ) ; s e l f . o p t i o n s . c o l o r = s e l f . _ c o l o r . t o S t r i n g ( ) ; s e l f . c o n t r o l s = { s q u a r e : s e l f . p i c k e r . f i n d ( ' . i r i s - s q u a r e ' ) , s q u a r e D r a g : s e l f . p i c k e r . f i n d ( ' . i r i s - s q u a r e - v a l u e ' ) , h o r i z : s e l f . p i c k e r . f i n d ( ' . i r i s - s q u a r e - h o r i z ' ) , v e r t : s e l f . p i c k e r . f i n d ( ' . i r i s - s q u a r e - v e r t ' ) , s t r i p : s e l f . p i c k e r . f i n d ( ' . i r i s - s t r i p ' ) , s t r i p S l i d e r : s e l f . p i c k e r . f i n d ( ' . i r i s - s t r i p   . i r i s - s l i d e r - o f f s e t ' ) } ; i f ( s e l f . o p t i o n s . m o d e = = = ' h s v ' & & s e l f . _ h a s ( ' l ' , s e l f . o p t i o n s . c o n t r o l s ) ) { s e l f . o p t i o n s . c o n t r o l s = s e l f . _ d e f a u l t H S V C o n t r o l s ; } e l s e   i f ( s e l f . o p t i o n s . m o d e = = = ' h s l ' & & s e l f . _ h a s ( ' v ' , s e l f . o p t i o n s . c o n t r o l s ) ) { s e l f . o p t i o n s . c o n t r o l s = s e l f . _ d e f a u l t H S L C o n t r o l s ; } s e l f . h u e = s e l f . _ c o l o r . h ( ) ; i f ( s e l f . o p t i o n s . h i d e ) { s e l f . p i c k e r . h i d e ( ) ; } i f ( s e l f . o p t i o n s . b o r d e r ) { s e l f . p i c k e r . a d d C l a s s ( ' i r i s - b o r d e r ' ) ; } s e l f . _ i n i t C o n t r o l s ( ) ; s e l f . a c t i v e = ' e x t e r n a l ' ; s e l f . _ d i m e n s i o n s ( ) ; s e l f . _ c h a n g e ( ) ; } , _ h a s : f u n c t i o n ( n e e d l e , h a y s t a c k ) { v a r   r e t = f a l s e ; $ . e a c h ( h a y s t a c k , f u n c t i o n ( i , v ) { i f ( n e e d l e = = = v ) { r e t = t r u e ; r e t u r n   f a l s e ; } } ) ; r e t u r n   r e t ; } , _ a d d P a l e t t e s : f u n c t i o n ( ) { v a r   c o n t a i n e r = $ ( ' < d i v   c l a s s = " i r i s - p a l e t t e - c o n t a i n e r "   / > ' ) , p a l e t t e = $ ( ' < a   c l a s s = " i r i s - p a l e t t e "   t a b i n d e x = " 0 "   / > ' ) , c o l o r s = $ . i s A r r a y ( t h i s . o p t i o n s . p a l e t t e s ) ? t h i s . o p t i o n s . p a l e t t e s : t h i s . _ p a l e t t e s ; i f ( t h i s . p i c k e r . f i n d ( ' . i r i s - p a l e t t e - c o n t a i n e r ' ) . l e n g t h ) { c o n t a i n e r = t h i s . p i c k e r . f i n d ( ' . i r i s - p a l e t t e - c o n t a i n e r ' ) . d e t a c h ( ) . h t m l ( ' ' ) ; } $ . e a c h ( c o l o r s , f u n c t i o n ( i n d e x , v a l ) { p a l e t t e . c l o n e ( ) . d a t a ( ' c o l o r ' , v a l ) . c s s ( ' b a c k g r o u n d C o l o r ' , v a l ) . a p p e n d T o ( c o n t a i n e r ) . h e i g h t ( 1 0 ) . w i d t h ( 1 0 ) ; } ) ; t h i s . p i c k e r . a p p e n d ( c o n t a i n e r ) ; } , _ p a i n t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; s e l f . _ p a i n t D i m e n s i o n ( ' t o p ' , ' s t r i p ' ) ; s e l f . _ p a i n t D i m e n s i o n ( ' t o p ' , ' v e r t ' ) ; s e l f . _ p a i n t D i m e n s i o n ( ' l e f t ' , ' h o r i z ' ) ; } , _ p a i n t D i m e n s i o n : f u n c t i o n ( o r i g i n , c o n t r o l ) { v a r   s e l f = t h i s , c = s e l f . _ c o l o r , m o d e = s e l f . o p t i o n s . m o d e , c o l o r = s e l f . _ g e t H S p a c e C o l o r ( ) , t a r g e t = s e l f . c o n t r o l s [ c o n t r o l ] , c o n t r o l O p t s = s e l f . o p t i o n s . c o n t r o l s , s t o p s ; i f ( c o n t r o l = = = s e l f . a c t i v e | | ( s e l f . a c t i v e = = = ' s q u a r e ' & & c o n t r o l ! = = ' s t r i p ' ) ) { r e t u r n ; } s w i t c h ( c o n t r o l O p t s [ c o n t r o l ] ) { c a s e ' h ' : i f ( m o d e = = = ' h s v ' ) { c o l o r = c . c l o n e ( ) ; s w i t c h ( c o n t r o l ) { c a s e ' h o r i z ' : c o l o r [ c o n t r o l O p t s . v e r t ] ( 1 0 0 ) ; b r e a k ; c a s e ' v e r t ' : c o l o r [ c o n t r o l O p t s . h o r i z ] ( 1 0 0 ) ; b r e a k ; c a s e ' s t r i p ' : c o l o r . s e t H S p a c e ( ' h s l ' ) ; b r e a k ; } s t o p s = c o l o r . t o H s l ( ) ; } e l s e { i f ( c o n t r o l = = = ' s t r i p ' ) { s t o p s = { s : c o l o r . s , l : c o l o r . l } ; } e l s e { s t o p s = { s : 1 0 0 , l : c o l o r . l } ; } } t a r g e t . r a n i n b o w G r a d i e n t ( o r i g i n , s t o p s ) ; b r e a k ; c a s e ' s ' : i f ( m o d e = = = ' h s v ' ) { i f ( c o n t r o l = = = ' v e r t ' ) { s t o p s = [ c . c l o n e ( ) . a ( 0 ) . s ( 0 ) . t o C S S ( ' r g b a ' ) , c . c l o n e ( ) . a ( 1 ) . s ( 0 ) . t o C S S ( ' r g b a ' ) ] ; } e l s e   i f ( c o n t r o l = = = ' s t r i p ' ) { s t o p s = [ c . c l o n e ( ) . s ( 1 0 0 ) . t o C S S ( ' h s l ' ) , c . c l o n e ( ) . s ( 0 ) . t o C S S ( ' h s l ' ) ] ; } e l s e   i f ( c o n t r o l = = = ' h o r i z ' ) { s t o p s = [ ' # f f f ' , ' h s l ( ' + c o l o r . h + ' , 1 0 0 % , 5 0 % ) ' ] ; } } e l s e { i f ( c o n t r o l = = = ' v e r t ' & & s e l f . o p t i o n s . c o n t r o l s . h o r i z = = = ' h ' ) { s t o p s = [ ' h s l a ( 0 ,   0 % ,   ' + c o l o r . l + ' % ,   0 ) ' , ' h s l a ( 0 ,   0 % ,   ' + c o l o r . l + ' % ,   1 ) ' ] ; } e l s e { s t o p s = [ ' h s l ( ' + c o l o r . h + ' , 0 % , 5 0 % ) ' , ' h s l ( ' + c o l o r . h + ' , 1 0 0 % , 5 0 % ) ' ] ; } } t a r g e t . g r a d i e n t ( o r i g i n , s t o p s ) ; b r e a k ; c a s e ' l ' : i f ( c o n t r o l = = = ' s t r i p ' ) { s t o p s = [ ' h s l ( ' + c o l o r . h + ' , 1 0 0 % , 1 0 0 % ) ' , ' h s l ( ' + c o l o r . h + ' ,   ' + c o l o r . s + ' % , 5 0 % ) ' , ' h s l ( ' + c o l o r . h + ' , 1 0 0 % , 0 % ) ' ] ; } e l s e { s t o p s = [ ' # f f f ' , ' r g b a ( 2 5 5 , 2 5 5 , 2 5 5 , 0 )   5 0 % ' , ' r g b a ( 0 , 0 , 0 , 0 )   5 0 % ' , ' r g b a ( 0 , 0 , 0 , 1 ) ' ] ; } t a r g e t . g r a d i e n t ( o r i g i n , s t o p s ) ; b r e a k ; c a s e ' v ' : i f ( c o n t r o l = = = ' s t r i p ' ) { s t o p s = [ c . c l o n e ( ) . v ( 1 0 0 ) . t o C S S ( ) , c . c l o n e ( ) . v ( 0 ) . t o C S S ( ) ] ; } e l s e { s t o p s = [ ' r g b a ( 0 , 0 , 0 , 0 ) ' , ' # 0 0 0 ' ] ; } t a r g e t . g r a d i e n t ( o r i g i n , s t o p s ) ; b r e a k ; d e f a u l t : b r e a k ; } } , _ g e t H S p a c e C o l o r : f u n c t i o n ( ) { r e t u r n ( t h i s . o p t i o n s . m o d e = = = ' h s v ' ) ? t h i s . _ c o l o r . t o H s v ( ) : t h i s . _ c o l o r . t o H s l ( ) ; } , _ d i m e n s i o n s : f u n c t i o n ( r e s e t ) { v a r   s e l f = t h i s , o p t s = s e l f . o p t i o n s , c o n t r o l s = s e l f . c o n t r o l s , s q u a r e = c o n t r o l s . s q u a r e , s t r i p = s e l f . p i c k e r . f i n d ( ' . i r i s - s t r i p ' ) , s q u a r e W i d t h = ' 7 7 . 5 % ' , s t r i p W i d t h = ' 1 2 % ' , t o t a l P a d d i n g = 2 0 , i n n e r W i d t h = o p t s . b o r d e r ? o p t s . w i d t h - t o t a l P a d d i n g : o p t s . w i d t h , c o n t r o l s H e i g h t , p a l e t t e C o u n t = $ . i s A r r a y ( o p t s . p a l e t t e s ) ? o p t s . p a l e t t e s . l e n g t h : s e l f . _ p a l e t t e s . l e n g t h , p a l e t t e M a r g i n , p a l e t t e W i d t h , p a l e t t e C o n t a i n e r W i d t h ; i f ( r e s e t ) { s q u a r e . c s s ( ' w i d t h ' , ' ' ) ; s t r i p . c s s ( ' w i d t h ' , ' ' ) ; s e l f . p i c k e r . c s s ( { w i d t h : ' ' , h e i g h t : ' ' } ) ; } s q u a r e W i d t h = i n n e r W i d t h * ( p a r s e F l o a t ( s q u a r e W i d t h ) / 1 0 0 ) ; s t r i p W i d t h = i n n e r W i d t h * ( p a r s e F l o a t ( s t r i p W i d t h ) / 1 0 0 ) ; c o n t r o l s H e i g h t = o p t s . b o r d e r ? s q u a r e W i d t h + t o t a l P a d d i n g : s q u a r e W i d t h ; s q u a r e . w i d t h ( s q u a r e W i d t h ) . h e i g h t ( s q u a r e W i d t h ) ; s t r i p . h e i g h t ( s q u a r e W i d t h ) . w i d t h ( s t r i p W i d t h ) ; s e l f . p i c k e r . c s s ( { w i d t h : o p t s . w i d t h , h e i g h t : c o n t r o l s H e i g h t } ) ; i f ( ! o p t s . p a l e t t e s ) { r e t u r n   s e l f . p i c k e r . c s s ( ' p a d d i n g B o t t o m ' , ' ' ) ; } p a l e t t e M a r g i n = s q u a r e W i d t h * 2 / 1 0 0 ; p a l e t t e C o n t a i n e r W i d t h = s q u a r e W i d t h - ( ( p a l e t t e C o u n t - 1 ) * p a l e t t e M a r g i n ) ; p a l e t t e W i d t h = p a l e t t e C o n t a i n e r W i d t h / p a l e t t e C o u n t ; s e l f . p i c k e r . f i n d ( ' . i r i s - p a l e t t e ' ) . e a c h ( f u n c t i o n ( i ) { v a r   m a r g i n = i = = = 0 ? 0 : p a l e t t e M a r g i n ; $ ( t h i s ) . c s s ( { w i d t h : p a l e t t e W i d t h , h e i g h t : p a l e t t e W i d t h , m a r g i n L e f t : m a r g i n } ) ; } ) ; s e l f . p i c k e r . c s s ( ' p a d d i n g B o t t o m ' , p a l e t t e W i d t h + p a l e t t e M a r g i n ) ; s t r i p . h e i g h t ( p a l e t t e W i d t h + p a l e t t e M a r g i n + s q u a r e W i d t h ) ; } , _ a d d I n p u t L i s t e n e r s : f u n c t i o n ( i n p u t ) { v a r   s e l f = t h i s , d e b o u n c e T i m e o u t = 1 0 0 , c a l l b a c k = f u n c t i o n ( e v e n t ) { v a r   c o l o r = n e w   C o l o r ( i n p u t . v a l ( ) ) , v a l = i n p u t . v a l ( ) . r e p l a c e ( / ^ # / , ' ' ) ; i n p u t . r e m o v e C l a s s ( ' i r i s - e r r o r ' ) ; i f ( c o l o r . e r r o r ) { i f ( v a l ! = = ' ' ) { i n p u t . a d d C l a s s ( ' i r i s - e r r o r ' ) ; } } e l s e { i f ( c o l o r . t o S t r i n g ( ) ! = = s e l f . _ c o l o r . t o S t r i n g ( ) ) { i f ( ! ( e v e n t . t y p e = = = ' k e y u p ' & & v a l . m a t c h ( / ^ [ 0 - 9 a - f A - F ] { 3 } $ / ) ) ) { s e l f . _ s e t O p t i o n ( ' c o l o r ' , c o l o r . t o S t r i n g ( ) ) ; } } } } ; i n p u t . o n ( ' c h a n g e ' , c a l l b a c k ) . o n ( ' k e y u p ' , s e l f . _ d e b o u n c e ( c a l l b a c k , d e b o u n c e T i m e o u t ) ) ; i f ( s e l f . o p t i o n s . h i d e ) { i n p u t . o n e ( ' f o c u s ' , f u n c t i o n ( ) { s e l f . s h o w ( ) ; } ) ; } } , _ i n i t C o n t r o l s : f u n c t i o n ( ) { v a r   s e l f = t h i s , c o n t r o l s = s e l f . c o n t r o l s , s q u a r e = c o n t r o l s . s q u a r e , c o n t r o l O p t s = s e l f . o p t i o n s . c o n t r o l s , s t r i p S c a l e = s e l f . _ s c a l e [ c o n t r o l O p t s . s t r i p ] ; c o n t r o l s . s t r i p S l i d e r . s l i d e r ( { o r i e n t a t i o n : ' v e r t i c a l ' , m a x : s t r i p S c a l e , s l i d e : f u n c t i o n ( e v e n t , u i ) { s e l f . a c t i v e = ' s t r i p ' ; i f ( c o n t r o l O p t s . s t r i p = = = ' h ' ) { u i . v a l u e = s t r i p S c a l e - u i . v a l u e ; } s e l f . _ c o l o r [ c o n t r o l O p t s . s t r i p ] ( u i . v a l u e ) ; s e l f . _ c h a n g e . a p p l y ( s e l f , a r g u m e n t s ) ; } } ) ; c o n t r o l s . s q u a r e D r a g . d r a g g a b l e ( { c o n t a i n m e n t : c o n t r o l s . s q u a r e . f i n d ( ' . i r i s - s q u a r e - i n n e r ' ) , z I n d e x : 1 0 0 0 , c u r s o r : ' m o v e ' , d r a g : f u n c t i o n ( e v e n t , u i ) { s e l f . _ s q u a r e D r a g ( e v e n t , u i ) ; } , s t a r t : f u n c t i o n ( ) { s q u a r e . a d d C l a s s ( ' i r i s - d r a g g i n g ' ) ; $ ( t h i s ) . a d d C l a s s ( ' u i - s t a t e - f o c u s ' ) ; } , s t o p : f u n c t i o n ( ) { s q u a r e . r e m o v e C l a s s ( ' i r i s - d r a g g i n g ' ) ; $ ( t h i s ) . r e m o v e C l a s s ( ' u i - s t a t e - f o c u s ' ) ; } } ) . o n ( ' m o u s e d o w n   m o u s e u p ' , f u n c t i o n ( e v e n t ) { v a r   f o c u s C l a s s = ' u i - s t a t e - f o c u s ' ; e v e n t . p r e v e n t D e f a u l t ( ) ; i f ( e v e n t . t y p e = = = ' m o u s e d o w n ' ) { s e l f . p i c k e r . f i n d ( ' . ' + f o c u s C l a s s ) . r e m o v e C l a s s ( f o c u s C l a s s ) . b l u r ( ) ; $ ( t h i s ) . a d d C l a s s ( f o c u s C l a s s ) . f o c u s ( ) ; } e l s e { $ ( t h i s ) . r e m o v e C l a s s ( f o c u s C l a s s ) ; } } ) . o n ( ' k e y d o w n ' , f u n c t i o n ( e v e n t ) { v a r   c o n t a i n e r = c o n t r o l s . s q u a r e , d r a g g a b l e = c o n t r o l s . s q u a r e D r a g , p o s i t i o n = d r a g g a b l e . p o s i t i o n ( ) , d i s t a n c e = s e l f . o p t i o n s . w i d t h / 1 0 0 ; i f ( e v e n t . a l t K e y ) { d i s t a n c e * = 1 0 ; } s w i t c h ( e v e n t . k e y C o d e ) { c a s e   3 7 : p o s i t i o n . l e f t - = d i s t a n c e ; b r e a k ; c a s e   3 8 : p o s i t i o n . t o p - = d i s t a n c e ; b r e a k ; c a s e   3 9 : p o s i t i o n . l e f t + = d i s t a n c e ; b r e a k ; c a s e   4 0 : p o s i t i o n . t o p + = d i s t a n c e ; b r e a k ; d e f a u l t : r e t u r n   t r u e ; } p o s i t i o n . l e f t = M a t h . m a x ( 0 , M a t h . m i n ( p o s i t i o n . l e f t , c o n t a i n e r . w i d t h ( ) ) ) ; p o s i t i o n . t o p = M a t h . m a x ( 0 , M a t h . m i n ( p o s i t i o n . t o p , c o n t a i n e r . h e i g h t ( ) ) ) ; d r a g g a b l e . c s s ( p o s i t i o n ) ; s e l f . _ s q u a r e D r a g ( e v e n t , { p o s i t i o n : p o s i t i o n } ) ; e v e n t . p r e v e n t D e f a u l t ( ) ; } ) ; s q u a r e . m o u s e d o w n ( f u n c t i o n ( e v e n t ) { v a r   s q u a r e O f f s e t , p o s ; i f ( e v e n t . w h i c h ! = = 1 ) { r e t u r n ; } i f ( ! $ ( e v e n t . t a r g e t ) . i s ( ' d i v ' ) ) { r e t u r n ; } s q u a r e O f f s e t = s e l f . c o n t r o l s . s q u a r e . o f f s e t ( ) ; p o s = { t o p : e v e n t . p a g e Y - s q u a r e O f f s e t . t o p , l e f t : e v e n t . p a g e X - s q u a r e O f f s e t . l e f t } ; e v e n t . p r e v e n t D e f a u l t ( ) ; s e l f . _ s q u a r e D r a g ( e v e n t , { p o s i t i o n : p o s } ) ; e v e n t . t a r g e t = s e l f . c o n t r o l s . s q u a r e D r a g . g e t ( 0 ) ; s e l f . c o n t r o l s . s q u a r e D r a g . c s s ( p o s ) . t r i g g e r ( e v e n t ) ; } ) ; i f ( s e l f . o p t i o n s . p a l e t t e s ) { s e l f . _ p a l e t t e L i s t e n e r s ( ) ; } } , _ p a l e t t e L i s t e n e r s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; s e l f . p i c k e r . f i n d ( ' . i r i s - p a l e t t e - c o n t a i n e r ' ) . o n ( ' c l i c k . p a l e t t e ' , ' . i r i s - p a l e t t e ' , f u n c t i o n ( ) { s e l f . _ c o l o r . f r o m C S S ( $ ( t h i s ) . d a t a ( ' c o l o r ' ) ) ; s e l f . a c t i v e = ' e x t e r n a l ' ; s e l f . _ c h a n g e ( ) ; } ) . o n ( ' k e y d o w n . p a l e t t e ' , ' . i r i s - p a l e t t e ' , f u n c t i o n ( e v e n t ) { i f ( ! ( e v e n t . k e y C o d e = = = 1 3 | | e v e n t . k e y C o d e = = = 3 2 ) ) { r e t u r n   t r u e ; } e v e n t . s t o p P r o p a g a t i o n ( ) ; $ ( t h i s ) . c l i c k ( ) ; } ) ; } , _ s q u a r e D r a g : f u n c t i o n ( e v e n t , u i ) { v a r   s e l f = t h i s , c o n t r o l O p t s = s e l f . o p t i o n s . c o n t r o l s , d i m e n s i o n s = s e l f . _ s q u a r e D i m e n s i o n s ( ) , v e r t V a l = M a t h . r o u n d ( ( d i m e n s i o n s . h - u i . p o s i t i o n . t o p ) / d i m e n s i o n s . h * s e l f . _ s c a l e [ c o n t r o l O p t s . v e r t ] ) , h o r i z V a l = s e l f . _ s c a l e [ c o n t r o l O p t s . h o r i z ] - M a t h . r o u n d ( ( d i m e n s i o n s . w - u i . p o s i t i o n . l e f t ) / d i m e n s i o n s . w * s e l f . _ s c a l e [ c o n t r o l O p t s . h o r i z ] ) ; s e l f . _ c o l o r [ c o n t r o l O p t s . h o r i z ] ( h o r i z V a l ) [ c o n t r o l O p t s . v e r t ] ( v e r t V a l ) ; s e l f . a c t i v e = ' s q u a r e ' ; s e l f . _ c h a n g e . a p p l y ( s e l f , a r g u m e n t s ) ; } , _ s e t O p t i o n : f u n c t i o n ( k e y , v a l u e ) { v a r   s e l f = t h i s , o l d V a l u e = s e l f . o p t i o n s [ k e y ] , d o D i m e n s i o n s = f a l s e , h e x L e s s C o l o r , n e w C o l o r , m e t h o d ; s e l f . o p t i o n s [ k e y ] = v a l u e ; s w i t c h ( k e y ) { c a s e ' c o l o r ' : v a l u e = ' ' + v a l u e ; h e x L e s s C o l o r = v a l u e . r e p l a c e ( / ^ # / , ' ' ) ; n e w C o l o r = n e w   C o l o r ( v a l u e ) . s e t H S p a c e ( s e l f . o p t i o n s . m o d e ) ; i f ( n e w C o l o r . e r r o r ) { s e l f . o p t i o n s [ k e y ] = o l d V a l u e ; } e l s e { s e l f . _ c o l o r = n e w C o l o r ; s e l f . o p t i o n s . c o l o r = s e l f . o p t i o n s [ k e y ] = s e l f . _ c o l o r . t o S t r i n g ( ) ; s e l f . a c t i v e = ' e x t e r n a l ' ; s e l f . _ c h a n g e ( ) ; } b r e a k ; c a s e ' p a l e t t e s ' : d o D i m e n s i o n s = t r u e ; i f ( v a l u e ) { s e l f . _ a d d P a l e t t e s ( ) ; } e l s e { s e l f . p i c k e r . f i n d ( ' . i r i s - p a l e t t e - c o n t a i n e r ' ) . r e m o v e ( ) ; } i f ( ! o l d V a l u e ) { s e l f . _ p a l e t t e L i s t e n e r s ( ) ; } b r e a k ; c a s e ' w i d t h ' : d o D i m e n s i o n s = t r u e ; b r e a k ; c a s e ' b o r d e r ' : d o D i m e n s i o n s = t r u e ; m e t h o d = v a l u e ? ' a d d C l a s s ' : ' r e m o v e C l a s s ' ; s e l f . p i c k e r [ m e t h o d ] ( ' i r i s - b o r d e r ' ) ; b r e a k ; c a s e ' m o d e ' : c a s e ' c o n t r o l s ' : i f ( o l d V a l u e = = = v a l u e ) { r e t u r n ; } m e t h o d = s e l f . e l e m e n t ; o l d V a l u e = s e l f . o p t i o n s ; o l d V a l u e . h i d e = ! s e l f . p i c k e r . i s ( ' : v i s i b l e ' ) ; s e l f . d e s t r o y ( ) ; s e l f . p i c k e r . r e m o v e ( ) ; r e t u r n   $ ( s e l f . e l e m e n t ) . i r i s ( o l d V a l u e ) ; } i f ( d o D i m e n s i o n s ) { s e l f . _ d i m e n s i o n s ( t r u e ) ; } } , _ s q u a r e D i m e n s i o n s : f u n c t i o n ( f o r c e R e f r e s h ) { v a r   s q u a r e = t h i s . c o n t r o l s . s q u a r e , d i m e n s i o n s , c o n t r o l ; i f ( f o r c e R e f r e s h ! = = u n d e f & & s q u a r e . d a t a ( ' d i m e n s i o n s ' ) ) { r e t u r n   s q u a r e . d a t a ( ' d i m e n s i o n s ' ) ; } c o n t r o l = t h i s . c o n t r o l s . s q u a r e D r a g ; d i m e n s i o n s = { w : s q u a r e . w i d t h ( ) , h : s q u a r e . h e i g h t ( ) } ; s q u a r e . d a t a ( ' d i m e n s i o n s ' , d i m e n s i o n s ) ; r e t u r n   d i m e n s i o n s ; } , _ i s N o n H u e C o n t r o l : f u n c t i o n ( a c t i v e , t y p e ) { i f ( a c t i v e = = = ' s q u a r e ' & & t h i s . o p t i o n s . c o n t r o l s . s t r i p = = = ' h ' ) { r e t u r n   t r u e ; } e l s e   i f ( t y p e = = = ' e x t e r n a l ' | | ( t y p e = = = ' h ' & & a c t i v e = = = ' s t r i p ' ) ) { r e t u r n   f a l s e ; } r e t u r n   t r u e ; } , _ c h a n g e : f u n c t i o n ( ) { v a r   s e l f = t h i s , c o n t r o l s = s e l f . c o n t r o l s , c o l o r = s e l f . _ g e t H S p a c e C o l o r ( ) , a c t i o n s = [ ' s q u a r e ' , ' s t r i p ' ] , c o n t r o l O p t s = s e l f . o p t i o n s . c o n t r o l s , t y p e = c o n t r o l O p t s [ s e l f . a c t i v e ] | | ' e x t e r n a l ' , o l d H u e = s e l f . h u e ; i f ( s e l f . a c t i v e = = = ' s t r i p ' ) { a c t i o n s = [ ] ; } e l s e   i f ( s e l f . a c t i v e ! = = ' e x t e r n a l ' ) { a c t i o n s . p o p ( ) ; } $ . e a c h ( a c t i o n s , f u n c t i o n ( i n d e x , i t e m ) { v a r   v a l u e , d i m e n s i o n s , c s s O b j ; i f ( i t e m ! = = s e l f . a c t i v e ) { s w i t c h ( i t e m ) { c a s e ' s t r i p ' : v a l u e = ( c o n t r o l O p t s . s t r i p = = = ' h ' ) ? s e l f . _ s c a l e [ c o n t r o l O p t s . s t r i p ] - c o l o r [ c o n t r o l O p t s . s t r i p ] : c o l o r [ c o n t r o l O p t s . s t r i p ] ; c o n t r o l s . s t r i p S l i d e r . s l i d e r ( ' v a l u e ' , v a l u e ) ; b r e a k ; c a s e ' s q u a r e ' : d i m e n s i o n s = s e l f . _ s q u a r e D i m e n s i o n s ( ) ; c s s O b j = { l e f t : c o l o r [ c o n t r o l O p t s . h o r i z ] / s e l f . _ s c a l e [ c o n t r o l O p t s . h o r i z ] * d i m e n s i o n s . w , t o p : d i m e n s i o n s . h - ( c o l o r [ c o n t r o l O p t s . v e r t ] / s e l f . _ s c a l e [ c o n t r o l O p t s . v e r t ] * d i m e n s i o n s . h ) } ; s e l f . c o n t r o l s . s q u a r e D r a g . c s s ( c s s O b j ) ; b r e a k ; } } } ) ; i f ( c o l o r . h ! = = o l d H u e & & s e l f . _ i s N o n H u e C o n t r o l ( s e l f . a c t i v e , t y p e ) ) { s e l f . _ c o l o r . h ( o l d H u e ) ; } s e l f . h u e = s e l f . _ c o l o r . h ( ) ; s e l f . o p t i o n s . c o l o r = s e l f . _ c o l o r . t o S t r i n g ( ) ; i f ( s e l f . _ i n i t e d ) { s e l f . _ t r i g g e r ( ' c h a n g e ' , { t y p e : s e l f . a c t i v e } , { c o l o r : s e l f . _ c o l o r } ) ; } i f ( s e l f . e l e m e n t . i s ( ' : i n p u t ' ) & & ! s e l f . _ c o l o r . e r r o r ) { s e l f . e l e m e n t . r e m o v e C l a s s ( ' i r i s - e r r o r ' ) ; i f ( s e l f . e l e m e n t . v a l ( ) ! = = s e l f . _ c o l o r . t o S t r i n g ( ) ) { s e l f . e l e m e n t . v a l ( s e l f . _ c o l o r . t o S t r i n g ( ) ) ; } } s e l f . _ p a i n t ( ) ; s e l f . _ i n i t e d = t r u e ; s e l f . a c t i v e = f a l s e ; } , _ d e b o u n c e : f u n c t i o n ( f u n c , w a i t , i m m e d i a t e ) { v a r   t i m e o u t , r e s u l t ; r e t u r n   f u n c t i o n ( ) { v a r   c o n t e x t = t h i s , a r g s = a r g u m e n t s , l a t e r , c a l l N o w ; l a t e r = f u n c t i o n ( ) { t i m e o u t = n u l l ; i f ( ! i m m e d i a t e ) { r e s u l t = f u n c . a p p l y ( c o n t e x t , a r g s ) ; } } ; c a l l N o w = i m m e d i a t e & & ! t i m e o u t ; c l e a r T i m e o u t ( t i m e o u t ) ; t i m e o u t = s e t T i m e o u t ( l a t e r , w a i t ) ; i f ( c a l l N o w ) { r e s u l t = f u n c . a p p l y ( c o n t e x t , a r g s ) ; } r e t u r n   r e s u l t ; } ; } , s h o w : f u n c t i o n ( ) { t h i s . p i c k e r . s h o w ( ) ; } , h i d e : f u n c t i o n ( ) { t h i s . p i c k e r . h i d e ( ) ; } , t o g g l e : f u n c t i o n ( ) { t h i s . p i c k e r . t o g g l e ( ) ; } , c o l o r : f u n c t i o n ( n e w C o l o r ) { i f ( n e w C o l o r = = = t r u e ) { r e t u r n   t h i s . _ c o l o r . c l o n e ( ) ; } e l s e   i f ( n e w C o l o r = = = u n d e f ) { r e t u r n   t h i s . _ c o l o r . t o S t r i n g ( ) ; } t h i s . o p t i o n ( ' c o l o r ' , n e w C o l o r ) ; } } ; $ . w i d g e t ( ' a 8 c . i r i s ' , I r i s ) ; $ ( ' < s t y l e   i d = " i r i s - c s s " > ' + _ c s s + ' < / s t y l e > ' ) . a p p e n d T o ( ' h e a d ' ) ; } ( j Q u e r y ) ) ; ( f u n c t i o n ( g l o b a l , u n d e f ) { v a r   C o l o r = f u n c t i o n ( c o l o r , t y p e ) { i f ( ! ( t h i s   i n s t a n c e o f   C o l o r ) ) r e t u r n   n e w   C o l o r ( c o l o r , t y p e ) ; r e t u r n   t h i s . _ i n i t ( c o l o r , t y p e ) ; } ; C o l o r . f n = C o l o r . p r o t o t y p e = { _ c o l o r : 0 , _ a l p h a : 1 , e r r o r : f a l s e , _ h s l : { h : 0 , s : 0 , l : 0 } , _ h s v : { h : 0 , s : 0 , v : 0 } , _ h S p a c e : ' h s l ' , _ i n i t : f u n c t i o n ( c o l o r ) { v a r   f u n c = ' n o o p ' ; s w i t c h ( t y p e o f   c o l o r ) { c a s e ' o b j e c t ' : i f ( c o l o r . a ! = = u n d e f ) t h i s . a ( c o l o r . a ) ; f u n c = ( c o l o r . r ! = = u n d e f ) ? ' f r o m R g b ' : ( c o l o r . l ! = = u n d e f ) ? ' f r o m H s l ' : ( c o l o r . v ! = = u n d e f ) ? ' f r o m H s v ' : f u n c ; r e t u r n   t h i s [ f u n c ] ( c o l o r ) ; c a s e ' s t r i n g ' : r e t u r n   t h i s . f r o m C S S ( c o l o r ) ; c a s e ' n u m b e r ' : r e t u r n   t h i s . f r o m I n t ( p a r s e I n t ( c o l o r , 1 0 ) ) ; } r e t u r n   t h i s ; } , _ e r r o r : f u n c t i o n ( ) { t h i s . e r r o r = t r u e ; r e t u r n   t h i s ; } , c l o n e : f u n c t i o n ( ) { v a r   n e w C o l o r = n e w   C o l o r ( t h i s . t o I n t ( ) ) , c o p y = [ ' _ a l p h a ' , ' _ h S p a c e ' , ' _ h s l ' , ' _ h s v ' , ' e r r o r ' ] ; f o r ( v a r   i = c o p y . l e n g t h - 1 ; i > = 0 ; i - - ) { n e w C o l o r [ c o p y [ i ] ] = t h i s [ c o p y [ i ] ] ; } r e t u r n   n e w C o l o r ; } , s e t H S p a c e : f u n c t i o n ( s p a c e ) { t h i s . _ h S p a c e = ( s p a c e = = = ' h s v ' ) ? s p a c e : ' h s l ' ; r e t u r n   t h i s ; } , n o o p : f u n c t i o n ( ) { r e t u r n   t h i s ; } , f r o m C S S : f u n c t i o n ( c o l o r ) { v a r   l i s t , l e a d i n g R E = / ^ ( r g b | h s ( l | v ) ) a ? \ ( / ; t h i s . e r r o r = f a l s e ; c o l o r = c o l o r . r e p l a c e ( / ^ \ s + / , ' ' ) . r e p l a c e ( / \ s + $ / , ' ' ) . r e p l a c e ( / ; $ / , ' ' ) ; i f ( c o l o r . m a t c h ( l e a d i n g R E ) & & c o l o r . m a t c h ( / \ ) $ / ) ) { l i s t = c o l o r . r e p l a c e ( / ( \ s | % ) / g , ' ' ) . r e p l a c e ( l e a d i n g R E , ' ' ) . r e p l a c e ( / , ? \ ) ; ? $ / , ' ' ) . s p l i t ( ' , ' ) ; i f ( l i s t . l e n g t h < 3 ) r e t u r n   t h i s . _ e r r o r ( ) ; i f ( l i s t . l e n g t h = = = 4 ) { t h i s . a ( p a r s e F l o a t ( l i s t . p o p ( ) ) ) ; i f ( t h i s . e r r o r ) r e t u r n   t h i s ; } f o r ( v a r   i = l i s t . l e n g t h - 1 ; i > = 0 ; i - - ) { l i s t [ i ] = p a r s e I n t ( l i s t [ i ] , 1 0 ) ; i f ( i s N a N ( l i s t [ i ] ) ) r e t u r n   t h i s . _ e r r o r ( ) ; } i f ( c o l o r . m a t c h ( / ^ r g b / ) ) { r e t u r n   t h i s . f r o m R g b ( { r : l i s t [ 0 ] , g : l i s t [ 1 ] , b : l i s t [ 2 ] } ) ; } e l s e   i f ( c o l o r . m a t c h ( / ^ h s v / ) ) { r e t u r n   t h i s . f r o m H s v ( { h : l i s t [ 0 ] , s : l i s t [ 1 ] , v : l i s t [ 2 ] } ) ; } e l s e { r e t u r n   t h i s . f r o m H s l ( { h : l i s t [ 0 ] , s : l i s t [ 1 ] , l : l i s t [ 2 ] } ) ; } } e l s e { r e t u r n   t h i s . f r o m H e x ( c o l o r ) ; } } , f r o m R g b : f u n c t i o n ( r g b , p r e s e r v e ) { i f ( t y p e o f   r g b ! = = ' o b j e c t ' | | r g b . r = = = u n d e f | | r g b . g = = = u n d e f | | r g b . b = = = u n d e f ) r e t u r n   t h i s . _ e r r o r ( ) ; t h i s . e r r o r = f a l s e ; r e t u r n   t h i s . f r o m I n t ( p a r s e I n t ( ( r g b . r < < 1 6 ) + ( r g b . g < < 8 ) + r g b . b , 1 0 ) , p r e s e r v e ) ; } , f r o m H e x : f u n c t i o n ( c o l o r ) { c o l o r = c o l o r . r e p l a c e ( / ^ # / , ' ' ) . r e p l a c e ( / ^ 0 x / , ' ' ) ; i f ( c o l o r . l e n g t h = = = 3 ) { c o l o r = c o l o r [ 0 ] + c o l o r [ 0 ] + c o l o r [ 1 ] + c o l o r [ 1 ] + c o l o r [ 2 ] + c o l o r [ 2 ] ; } t h i s . e r r o r = ! / ^ [ 0 - 9 A - F ] { 6 } $ / i . t e s t ( c o l o r ) ; r e t u r n   t h i s . f r o m I n t ( p a r s e I n t ( c o l o r , 1 6 ) ) ; } , f r o m H s l : f u n c t i o n ( h s l ) { v a r   r , g , b , q , p , h , s , l ; i f ( t y p e o f   h s l ! = = ' o b j e c t ' | | h s l . h = = = u n d e f | | h s l . s = = = u n d e f | | h s l . l = = = u n d e f ) r e t u r n   t h i s . _ e r r o r ( ) ; t h i s . _ h s l = h s l ; t h i s . _ h S p a c e = ' h s l ' ; h = h s l . h / 3 6 0 ; s = h s l . s / 1 0 0 ; l = h s l . l / 1 0 0 ; i f ( s = = = 0 ) { r = g = b = l ; } e l s e { q = l < 0 . 5 ? l * ( 1 + s ) : l + s - l * s ; p = 2 * l - q ; r = t h i s . h u e 2 r g b ( p , q , h + 1 / 3 ) ; g = t h i s . h u e 2 r g b ( p , q , h ) ; b = t h i s . h u e 2 r g b ( p , q , h - 1 / 3 ) ; } r e t u r n   t h i s . f r o m R g b ( { r : r * 2 5 5 , g : g * 2 5 5 , b : b * 2 5 5 } , t r u e ) ; } , f r o m H s v : f u n c t i o n ( h s v ) { v a r   h , s , v , r , g , b , i , f , p , q , t ; i f ( t y p e o f   h s v ! = = ' o b j e c t ' | | h s v . h = = = u n d e f | | h s v . s = = = u n d e f | | h s v . v = = = u n d e f ) r e t u r n   t h i s . _ e r r o r ( ) ; t h i s . _ h s v = h s v ; t h i s . _ h S p a c e = ' h s v ' ; h = h s v . h / 3 6 0 ; s = h s v . s / 1 0 0 ; v = h s v . v / 1 0 0 ; i = M a t h . f l o o r ( h * 6 ) ; f = h * 6 - i ; p = v * ( 1 - s ) ; q = v * ( 1 - f * s ) ; t = v * ( 1 - ( 1 - f ) * s ) ; s w i t c h ( i % 6 ) { c a s e   0 : r = v ; g = t ; b = p ; b r e a k ; c a s e   1 : r = q ; g = v ; b = p ; b r e a k ; c a s e   2 : r = p ; g = v ; b = t ; b r e a k ; c a s e   3 : r = p ; g = q ; b = v ; b r e a k ; c a s e   4 : r = t ; g = p ; b = v ; b r e a k ; c a s e   5 : r = v ; g = p ; b = q ; b r e a k ; } r e t u r n   t h i s . f r o m R g b ( { r : r * 2 5 5 , g : g * 2 5 5 , b : b * 2 5 5 } , t r u e ) ; } , f r o m I n t : f u n c t i o n ( c o l o r , p r e s e r v e ) { t h i s . _ c o l o r = p a r s e I n t ( c o l o r , 1 0 ) ; i f ( i s N a N ( t h i s . _ c o l o r ) ) t h i s . _ c o l o r = 0 ; i f ( t h i s . _ c o l o r > 1 6 7 7 7 2 1 5 ) t h i s . _ c o l o r = 1 6 7 7 7 2 1 5 ; e l s e   i f ( t h i s . _ c o l o r < 0 ) t h i s . _ c o l o r = 0 ; i f ( p r e s e r v e = = = u n d e f ) { t h i s . _ h s v . h = t h i s . _ h s v . s = t h i s . _ h s l . h = t h i s . _ h s l . s = 0 ; } r e t u r n   t h i s ; } , h u e 2 r g b : f u n c t i o n ( p , q , t ) { i f ( t < 0 ) { t + = 1 ; } i f ( t > 1 ) { t - = 1 ; } i f ( t < 1 / 6 ) { r e t u r n   p + ( q - p ) * 6 * t ; } i f ( t < 1 / 2 ) { r e t u r n   q ; } i f ( t < 2 / 3 ) { r e t u r n   p + ( q - p ) * ( 2 / 3 - t ) * 6 ; } r e t u r n   p ; } , t o S t r i n g : f u n c t i o n ( ) { v a r   h e x = p a r s e I n t ( t h i s . _ c o l o r , 1 0 ) . t o S t r i n g ( 1 6 ) ; i f ( t h i s . e r r o r ) r e t u r n ' ' ; i f ( h e x . l e n g t h < 6 ) { f o r ( v a r   i = 6 - h e x . l e n g t h - 1 ; i > = 0 ; i - - ) { h e x = ' 0 ' + h e x ; } } r e t u r n ' # ' + h e x ; } , t o C S S : f u n c t i o n ( t y p e , a l p h a ) { t y p e = t y p e | | ' h e x ' ; a l p h a = p a r s e F l o a t ( a l p h a | | t h i s . _ a l p h a ) ; s w i t c h ( t y p e ) { c a s e ' r g b ' : c a s e ' r g b a ' : v a r   r g b = t h i s . t o R g b ( ) ; i f ( a l p h a < 1 ) { r e t u r n " r g b a (   " + r g b . r + " ,   " + r g b . g + " ,   " + r g b . b + " ,   " + a l p h a + "   ) " ; } e l s e { r e t u r n " r g b (   " + r g b . r + " ,   " + r g b . g + " ,   " + r g b . b + "   ) " ; } b r e a k ; c a s e ' h s l ' : c a s e ' h s l a ' : v a r   h s l = t h i s . t o H s l ( ) ; i f ( a l p h a < 1 ) { r e t u r n " h s l a (   " + h s l . h + " ,   " + h s l . s + " % ,   " + h s l . l + " % ,   " + a l p h a + "   ) " ; } e l s e { r e t u r n " h s l (   " + h s l . h + " ,   " + h s l . s + " % ,   " + h s l . l + " %   ) " ; } b r e a k ; d e f a u l t : r e t u r n   t h i s . t o S t r i n g ( ) ; } } , t o R g b : f u n c t i o n ( ) { r e t u r n { r : 2 5 5 & ( t h i s . _ c o l o r > > 1 6 ) , g : 2 5 5 & ( t h i s . _ c o l o r > > 8 ) , b : 2 5 5 & ( t h i s . _ c o l o r ) } ; } , t o H s l : f u n c t i o n ( ) { v a r   r g b = t h i s . t o R g b ( ) ; v a r   r = r g b . r / 2 5 5 , g = r g b . g / 2 5 5 , b = r g b . b / 2 5 5 ; v a r   m a x = M a t h . m a x ( r , g , b ) , m i n = M a t h . m i n ( r , g , b ) ; v a r   h , s , l = ( m a x + m i n ) / 2 ; i f ( m a x = = = m i n ) { h = s = 0 ; } e l s e { v a r   d = m a x - m i n ; s = l > 0 . 5 ? d / ( 2 - m a x - m i n ) : d / ( m a x + m i n ) ; s w i t c h ( m a x ) { c a s e   r : h = ( g - b ) / d + ( g < b ? 6 : 0 ) ; b r e a k ; c a s e   g : h = ( b - r ) / d + 2 ; b r e a k ; c a s e   b : h = ( r - g ) / d + 4 ; b r e a k ; } h / = 6 ; } h = M a t h . r o u n d ( h * 3 6 0 ) ; i f ( h = = = 0 & & t h i s . _ h s l . h ! = = h ) { h = t h i s . _ h s l . h ; } s = M a t h . r o u n d ( s * 1 0 0 ) ; i f ( s = = = 0 & & t h i s . _ h s l . s ) { s = t h i s . _ h s l . s ; } r e t u r n { h : h , s : s , l : M a t h . r o u n d ( l * 1 0 0 ) } ; } , t o H s v : f u n c t i o n ( ) { v a r   r g b = t h i s . t o R g b ( ) ; v a r   r = r g b . r / 2 5 5 , g = r g b . g / 2 5 5 , b = r g b . b / 2 5 5 ; v a r   m a x = M a t h . m a x ( r , g , b ) , m i n = M a t h . m i n ( r , g , b ) ; v a r   h , s , v = m a x ; v a r   d = m a x - m i n ; s = m a x = = = 0 ? 0 : d / m a x ; i f ( m a x = = = m i n ) { h = s = 0 ; } e l s e { s w i t c h ( m a x ) { c a s e   r : h = ( g - b ) / d + ( g < b ? 6 : 0 ) ; b r e a k ; c a s e   g : h = ( b - r ) / d + 2 ; b r e a k ; c a s e   b : h = ( r - g ) / d + 4 ; b r e a k ; } h / = 6 ; } h = M a t h . r o u n d ( h * 3 6 0 ) ; i f ( h = = = 0 & & t h i s . _ h s v . h ! = = h ) { h = t h i s . _ h s v . h ; } s = M a t h . r o u n d ( s * 1 0 0 ) ; i f ( s = = = 0 & & t h i s . _ h s v . s ) { s = t h i s . _ h s v . s ; } r e t u r n { h : h , s : s , v : M a t h . r o u n d ( v * 1 0 0 ) } ; } , t o I n t : f u n c t i o n ( ) { r e t u r n   t h i s . _ c o l o r ; } , t o I E O c t o H e x : f u n c t i o n ( ) { v a r   h e x = t h i s . t o S t r i n g ( ) ; v a r   A A = p a r s e I n t ( 2 5 5 * t h i s . _ a l p h a , 1 0 ) . t o S t r i n g ( 1 6 ) ; i f ( A A . l e n g t h = = = 1 ) { A A = ' 0 ' + A A ; } r e t u r n ' # ' + A A + h e x . r e p l a c e ( / ^ # / , ' ' ) ; } , t o L u m i n o s i t y : f u n c t i o n ( ) { v a r   r g b = t h i s . t o R g b ( ) ; r e t u r n   0 . 2 1 2 6 * M a t h . p o w ( r g b . r / 2 5 5 , 2 . 2 ) + 0 . 7 1 5 2 * M a t h . p o w ( r g b . g / 2 5 5 , 2 . 2 ) + 0 . 0 7 2 2 * M a t h . p o w ( r g b . b / 2 5 5 , 2 . 2 ) ; } , g e t D i s t a n c e L u m i n o s i t y F r o m : f u n c t i o n ( c o l o r ) { i f ( ! ( c o l o r   i n s t a n c e o f   C o l o r ) ) { t h r o w ' g e t D i s t a n c e L u m i n o s i t y F r o m   r e q u i r e s   a   C o l o r   o b j e c t ' ; } v a r   l u m 1 = t h i s . t o L u m i n o s i t y ( ) ; v a r   l u m 2 = c o l o r . t o L u m i n o s i t y ( ) ; i f ( l u m 1 > l u m 2 ) { r e t u r n ( l u m 1 + 0 . 0 5 ) / ( l u m 2 + 0 . 0 5 ) ; } e l s e { r e t u r n ( l u m 2 + 0 . 0 5 ) / ( l u m 1 + 0 . 0 5 ) ; } } , g e t M a x C o n t r a s t C o l o r : f u n c t i o n ( ) { v a r   l u m = t h i s . t o L u m i n o s i t y ( ) ; v a r   h e x = ( l u m > = 0 . 5 ) ? ' 0 0 0 0 0 0 ' : ' f f f f f f ' ; r e t u r n   n e w   C o l o r ( h e x ) ; } , g e t R e a d a b l e C o n t r a s t i n g C o l o r : f u n c t i o n ( b g C o l o r , m i n C o n t r a s t ) { i f ( ! b g C o l o r   i n s t a n c e o f   C o l o r ) { r e t u r n   t h i s ; } v a r   t a r g e t C o n t r a s t = ( m i n C o n t r a s t = = = u n d e f ) ? 5 : m i n C o n t r a s t ; v a r   c o n t r a s t = b g C o l o r . g e t D i s t a n c e L u m i n o s i t y F r o m ( t h i s ) ; v a r   m a x C o n t r a s t C o l o r = b g C o l o r . g e t M a x C o n t r a s t C o l o r ( ) ; v a r   m a x C o n t r a s t = m a x C o n t r a s t C o l o r . g e t D i s t a n c e L u m i n o s i t y F r o m ( b g C o l o r ) ; i f ( m a x C o n t r a s t < = t a r g e t C o n t r a s t ) { r e t u r n   m a x C o n t r a s t C o l o r ; } e l s e   i f ( c o n t r a s t > = t a r g e t C o n t r a s t ) { r e t u r n   t h i s ; } v a r   i n c r = ( 0 = = = m a x C o n t r a s t C o l o r . t o I n t ( ) ) ? - 1 : 1 ; w h i l e ( c o n t r a s t < t a r g e t C o n t r a s t ) { t h i s . l ( i n c r , t r u e ) ; c o n t r a s t = t h i s . g e t D i s t a n c e L u m i n o s i t y F r o m ( b g C o l o r ) ; i f ( t h i s . _ c o l o r = = = 0 | | t h i s . _ c o l o r = = = 1 6 7 7 7 2 1 5 ) { b r e a k ; } } r e t u r n   t h i s ; } , a : f u n c t i o n ( v a l ) { i f ( v a l = = = u n d e f ) r e t u r n   t h i s . _ a l p h a ; v a r   a = p a r s e F l o a t ( v a l ) ; i f ( i s N a N ( a ) ) r e t u r n   t h i s . _ e r r o r ( ) ; t h i s . _ a l p h a = a ; r e t u r n   t h i s ; } , d a r k e n : f u n c t i o n ( a m o u n t ) { a m o u n t = a m o u n t | | 5 ; r e t u r n   t h i s . l ( - a m o u n t , t r u e ) ; } , l i g h t e n : f u n c t i o n ( a m o u n t ) { a m o u n t = a m o u n t | | 5 ; r e t u r n   t h i s . l ( a m o u n t , t r u e ) ; } , s a t u r a t e : f u n c t i o n ( a m o u n t ) { a m o u n t = a m o u n t | | 1 5 ; r e t u r n   t h i s . s ( a m o u n t , t r u e ) ; } , d e s a t u r a t e : f u n c t i o n ( a m o u n t ) { a m o u n t = a m o u n t | | 1 5 ; r e t u r n   t h i s . s ( - a m o u n t , t r u e ) ; } , t o G r a y s c a l e : f u n c t i o n ( ) { r e t u r n   t h i s . s e t H S p a c e ( ' h s l ' ) . s ( 0 ) ; } , g e t C o m p l e m e n t : f u n c t i o n ( ) { r e t u r n   t h i s . h ( 1 8 0 , t r u e ) ; } , g e t S p l i t C o m p l e m e n t : f u n c t i o n ( s t e p ) { s t e p = s t e p | | 1 ; v a r   i n c r = 1 8 0 + ( s t e p * 3 0 ) ; r e t u r n   t h i s . h ( i n c r , t r u e ) ; } , g e t A n a l o g : f u n c t i o n ( s t e p ) { s t e p = s t e p | | 1 ; v a r   i n c r = s t e p * 3 0 ; r e t u r n   t h i s . h ( i n c r , t r u e ) ; } , g e t T e t r a d : f u n c t i o n ( s t e p ) { s t e p = s t e p | | 1 ; v a r   i n c r = s t e p * 6 0 ; r e t u r n   t h i s . h ( i n c r , t r u e ) ; } , g e t T r i a d : f u n c t i o n ( s t e p ) { s t e p = s t e p | | 1 ; v a r   i n c r = s t e p * 1 2 0 ; r e t u r n   t h i s . h ( i n c r , t r u e ) ; } , _ p a r t i a l : f u n c t i o n ( k e y ) { v a r   p r o p = s h o r t P r o p s [ k e y ] ; r e t u r n   f u n c t i o n ( v a l , i n c r ) { v a r   c o l o r = t h i s . _ s p a c e F u n c ( ' t o ' , p r o p . s p a c e ) ; i f ( v a l = = = u n d e f ) r e t u r n   c o l o r [ k e y ] ; i f ( i n c r = = = t r u e ) v a l = c o l o r [ k e y ] + v a l ; i f ( p r o p . m o d ) v a l = v a l % p r o p . m o d ; i f ( p r o p . r a n g e ) v a l = ( v a l < p r o p . r a n g e [ 0 ] ) ? p r o p . r a n g e [ 0 ] : ( v a l > p r o p . r a n g e [ 1 ] ) ? p r o p . r a n g e [ 1 ] : v a l ; c o l o r [ k e y ] = v a l ; r e t u r n   t h i s . _ s p a c e F u n c ( ' f r o m ' , p r o p . s p a c e , c o l o r ) ; } ; } , _ s p a c e F u n c : f u n c t i o n ( d i r , s , v a l ) { v a r   s p a c e = s | | t h i s . _ h S p a c e , f u n c N a m e = d i r + s p a c e . c h a r A t ( 0 ) . t o U p p e r C a s e ( ) + s p a c e . s u b s t r ( 1 ) ; r e t u r n   t h i s [ f u n c N a m e ] ( v a l ) ; } } ; v a r   s h o r t P r o p s = { h : { m o d : 3 6 0 } , s : { r a n g e : [ 0 , 1 0 0 ] } , l : { s p a c e : ' h s l ' , r a n g e : [ 0 , 1 0 0 ] } , v : { s p a c e : ' h s v ' , r a n g e : [ 0 , 1 0 0 ] } , r : { s p a c e : ' r g b ' , r a n g e : [ 0 , 2 5 5 ] } , g : { s p a c e : ' r g b ' , r a n g e : [ 0 , 2 5 5 ] } , b : { s p a c e : ' r g b ' , r a n g e : [ 0 , 2 5 5 ] } } ; f o r ( v a r   k e y   i n   s h o r t P r o p s ) { i f ( s h o r t P r o p s . h a s O w n P r o p e r t y ( k e y ) ) C o l o r . f n [ k e y ] = C o l o r . f n . _ p a r t i a l ( k e y ) ; } i f ( t y p e o f   e x p o r t s = = = ' o b j e c t ' ) m o d u l e . e x p o r t s = C o l o r ; e l s e   g l o b a l . C o l o r = C o l o r ; } ( t h i s ) ) ; j Q u e r y ( f u n c t i o n ( ) { f u n c t i o n   a p p l y P r e v i e w ( t a r g e t ) { v a r   $ s t y l e = t a r g e t . j Q u e r y ( ' l i n k [ r e l = s t y l e s h e e t ] [ h r e f * = " l i b / e x e / c s s . p h p " ] ' ) ; $ s t y l e . a t t r ( ' h r e f ' , ' ' ) ; v a r   $ l o a d e r = t a r g e t . j Q u e r y ( ' # p l u g i n _ _ s t y l i n g _ l o a d e r ' ) ; i f ( ! $ l o a d e r . l e n g t h ) { $ l o a d e r = t a r g e t . j Q u e r y ( ' < d i v   i d = " p l u g i n _ _ s t y l i n g _ l o a d e r " > ' + L A N G . p l u g i n s . s t y l i n g . l o a d e r + ' < / d i v > ' ) ; $ l o a d e r . c s s ( { ' p o s i t i o n ' : ' a b s o l u t e ' , ' w i d t h ' : ' 1 0 0 % ' , ' h e i g h t ' : ' 1 0 0 % ' , ' t o p ' : 0 , ' l e f t ' : 0 , ' z - i n d e x ' : 5 0 0 0 , ' b a c k g r o u n d - c o l o r ' : ' # f f f ' , ' o p a c i t y ' : ' 0 . 7 ' , ' c o l o r ' : ' # 0 0 0 ' , ' f o n t - s i z e ' : ' 2 . 5 e m ' , ' t e x t - a l i g n ' : ' c e n t e r ' , ' l i n e - h e i g h t ' : 1 . 5 , ' p a d d i n g - t o p ' : ' 2 e m ' } ) ; t a r g e t . j Q u e r y ( ' b o d y ' ) . a p p e n d ( $ l o a d e r ) ; } s e t T i m e o u t ( f u n c t i o n ( ) { v a r   n o w = n e w   D a t e ( ) . g e t T i m e ( ) ; $ s t y l e . a t t r ( ' h r e f ' , D O K U _ B A S E + ' l i b / e x e / c s s . p h p ? p r e v i e w = 1 & t s e e d = ' + n o w ) ; } , 5 0 0 ) ; } v a r   d o r e l o a d = 1 ; v a r   $ s t y l i n g _ p l u g i n = j Q u e r y ( ' # p l u g i n _ _ s t y l i n g ' ) ; i f ( ! $ s t y l i n g _ p l u g i n . l e n g t h ) { i f ( D o k u C o o k i e . g e t V a l u e ( ' s t y l i n g _ p l u g i n ' ) = = 1 ) { a p p l y P r e v i e w ( w i n d o w ) ; } r e t u r n ; } $ s t y l i n g _ p l u g i n . f i n d ( ' . c o l o r ' ) . i r i s ( { } ) ; i f ( ! $ s t y l i n g _ p l u g i n . h a s C l a s s ( ' i s p o p u p ' ) ) { v a r   $ f o r m = $ s t y l i n g _ p l u g i n . f i n d ( ' f o r m . s t y l i n g ' ) . f i r s t ( ) ; v a r   $ b t n = j Q u e r y ( ' < b u t t o n > ' + L A N G . p l u g i n s . s t y l i n g . p o p u p + ' < / b u t t o n > ' ) ; $ f o r m . p r e p e n d ( $ b t n ) ; $ b t n . c l i c k ( f u n c t i o n ( e ) { v a r   w i n d o w F e a t u r e s = " m e n u b a r = n o , l o c a t i o n = n o , r e s i z a b l e = y e s , s c r o l l b a r s = y e s , s t a t u s = f a l s e , w i d t h = 5 0 0 , h e i g h t = 5 0 0 " ; w i n d o w . o p e n ( D O K U _ B A S E + ' l i b / p l u g i n s / s t y l i n g / p o p u p . p h p ' , ' s t y l i n g _ p o p u p ' , w i n d o w F e a t u r e s ) ; e . p r e v e n t D e f a u l t ( ) ; e . s t o p P r o p a g a t i o n ( ) ; } ) . w r a p ( ' < p > < / p > ' ) ; r e t u r n ; } w i n d o w . o n u n l o a d = f u n c t i o n ( e ) { i f ( d o r e l o a d ) { w i n d o w . o p e n e r . D o k u C o o k i e . s e t V a l u e ( ' s t y l i n g _ p l u g i n ' , 0 ) ; w i n d o w . o p e n e r . d o c u m e n t . l o c a t i o n . r e l o a d ( ) ; } r e t u r n   n u l l ; } ; j Q u e r y ( ' : b u t t o n ' ) . c l i c k ( f u n c t i o n ( e ) { d o r e l o a d = f a l s e ; } ) ; a p p l y P r e v i e w ( w i n d o w . o p e n e r ) ; w i n d o w . o p e n e r . D o k u C o o k i e . s e t V a l u e ( ' s t y l i n g _ p l u g i n ' , 1 ) ; } ) ; j Q u e r y ( f u n c t i o n ( ) { d w _ l o c k t i m e r . i n i t ( 8 4 0 , 1 ) ; } ) ; 
    ]       https://help.ubuntu.ru/lib/exe/js.php?t=ubuntu-portal&tseed=158e854119be1605b7a674022e94d317                      !!=      pickerToggle   hideLoadBar   dw_mediamanager#   doku_summaryCheck   substr_replace   DOKU_BASE'   addBtnActionLinkwiz   DOKU_UHN   is_macos   qq   timer   pickerInsert   insertAtCarret   dw_linkwiz   DEPRECATED   clientPC   tb_autohead   DWgetSelection   DokuCookie#   is_opera_preseven   initToolbar   DEPRECATED_WRAP   DWsetSelection   is_opera   tb_insert   pickerClose!   createToolButton   logError   DOKU_TPL   dw_index   tb_format%   plugin_searchindex   dw_acl   createPicker7   dw_mediamanager_item_select%   addBtnActionPicker   tb_mediapopup   is_opera_seven   DOKU_UHC   Delay   tb_formatln   pasteText   dw_behaviour   toolbar)   currentHeadlineLevel   dw_locktimer1   doku_hasTextBeenModified   dw_editor#   DOKU_COOKIE_PARAM+   addBtnActionSignature   pickercounter   showLoadBar   insertTags   is_gecko   is_safari   is_khtml   fixtxt	   bind   selection_class   deleteDraft   closePopups=   =   +H!!          substr_replace     h         0       5!!       	   bind   0    0       A          fnc    Aps    static_args   B    .    .              55!!          logError A    0       A  0       5!!          Delay q    c       q  "       5!!          showLoadBar  -           -         5!!          hideLoadBar                     5!!          closePopups                      5!!          selection_class                        B  J  i  B  i     J         5   B      w                55!!          DWgetSelection                     5!!          DWsetSelection   4    4              5!!          pasteText F  !  4  !     F  0       5!!          insertTags 4    !       4  @       5!!          insertAtCarret   ^    ^              5!!          initToolbar                            r                              !!   	   tbid	   edid   tb   allowblock   $toolbar   $edit      +H!!    	      initToolbar/<b              `       5;
     _   T  '=    +            =   T  :    Q             T  :    Q         =      : W   Q      >D4      QV      >D      QV      
=   :                '=   H      C   Q         
=    Q   	   
        Q 䶸ʘӘ	Ә͘	Θ՘Ș+ʘ 1ڸʘ!̘ј		֘ ۰    string   jQuery   #   length	   attr   readOnly   undefined	   html   	   each5!!          tb_format   8    8              5!!          tb_formatln L  1  8  1     L  0       5!!          tb_insert C    1       C         5!!          tb_mediapopup   B    B              5!!          tb_autohead V  -  B  -     V         5!!       %   addBtnActionPicker H  <  -  <     H  0       	   $btn    pickerid   B   )    )              55!!       '   addBtnActionLinkwiz X    <       X             props   B                     55!!          pickerToggle   Q    Q       `       5!!          pickerClose  e    Q       e         5!!          fixtxt                     5!!       !   createToolButton J    1       J  P       5!!          createPicker   	    	       `          props 	   edid    $picker    $makebutton	      $makebutton }  H  i  H     }         5   B g    _       g  `       55!!          pickerInsert   S  	  S              5!!       +   addBtnActionSignature q  
  S  
     q  0       	   edid   B                     55!!       )   currentHeadlineLevel '    
       '  @          s   B   Z    Z               55!!          deleteDraft               0       5!!       1   doku_hasTextBeenModified  y    X       y  @       5!!       #   doku_summaryCheck  3           3         5!!       7   dw_mediamanager_item_select h zi h zi    h         5!!          DEPRECATED i j i j    i 1       5!!          DEPRECATED_WRAP j 8k j 8k    j 0       	   func    context   B  j 6k j 6k    j        55!!       !!	   path!!   /!!   secure!!   !!    *   !!   willexpire!!L  0H0  1;>:8@>2:0  MB>9  AB@0=8FK  =0 @540:B8@>20=85  8AB5:05B  2 B5G5=85  <8=CBK. \ n 'B>1K  ?@54>B2@0B8BL  :>=D;8:BK  8A?>;L7C9B5  :=>?:C   @>A<>B@   4;O  A1@>A0  B09<5@0  1;>:8@>2:8. !!   notsavedyet!!   5A>E@0=Q==K5  87<5=5=8O  1C4CB  ?>B5@O=K.   K 459AB28B5;L=>  E>B8B5  ?@>4>;68BL? !!   searchmedia!!   >8A:  D09;>2!!   keepopen!!<   5  70:@K20BL  >:=>  ?>A;5  2K1>@0!!   hidedetails!!   !:@KBL  45B0;8!!   mediatitle!!    0AB@>9:0  AAK;:8!!   mediadisplay!!   "8?  AAK;:8!!   mediaalign!!   K@02=820=85
 !!   mediasize!!    07<5@!!   mediatarget!!   &5;520O  AAK;:0!!   mediaclose!!   0:@KBL!!   mediainsert!!   AB028BL!!   mediadisplayimg!!,   >:07K20BL  87>1@065=85!!   mediadisplaylnk!!0   >:07K20BL  B>;L:>  AAK;:C!!   mediasmall!!   0;0O  25@A8O!!   mediamedium!!   !@54=OO  25@A8O!!   medialarge!!   @C?=0O  25@A8O!!   mediaoriginal!!   AE>4=0O  25@A8O!!   medialnk!!*   !AK;:0  =0  ?>4@>1=>AB8!!   mediadirect!!2   @O<0O  AAK;:0  =0 >@838=0;!!   medianolnk!!   57  AAK;:8!!   medianolink!!>   5  4020BL  AAK;:C  =0 87>1@065=85!!   medialeft!!H   K@>2=OBL  87>1@065=85  ?>  ;52><C  :@0N!!   mediaright!!J   K@>2=OBL  87>1@065=85  ?>  ?@02><C  :@0N!!   mediacenter!!>   K@>2=OBL  87>1@065=85  ?>  F5=B@C!!   medianoalign!!   5  2K@02=820BL!!   nosmblinks!!   !AK;:0  =0 A5B52K5  :0B0;>38  W i n d o w s   @01>B05B  B>;L:>  87 M S  I n t e r n e t   E x p l o r e r ,   => 2K <>65B5  A:>?8@>20BL  AAK;:C. !!   linkwiz!!   0AB5@  AAK;>:!!   linkto!!   !AK;:0  =0: !!   del_confirm!!V   K =0 A0<><  45;5  65;05B5  C40;8BL  2K1@0==>5? !!   restore_confirm!!L   59AB28B5;L=>  2>AAB0=>28BL  MBC  25@A8N? !!   media_diff!!"   @>A<>B@  >B;8G89: !!   media_diff_both!!
   @O4><!!%   media_diff_opacity!!   =0;>65=85<!!'   media_diff_portions!!   '0ABO<8!!   media_select!!   K1@0BL  D09;K& !!!   media_upload_btn!!   03@C78BL!!   media_done_btn!!   >B>2>!!   media_drop!!F   5@5<5AB8B5  D09;K  AN40  4;O  703@C7:8!!   media_cancel!!   >B<5=8BL!!   media_overwrt!!>   5@570?8A0BL  ACI5AB2CNI85  D09;K!!   plugins!!       !!   extension!!       !!   reallydel!!J   59AB28B5;L=>  C40;8BL  MB>  4>?>;=5=85? !!'   display_viewoptions!!   >:070BL  :0:: !!   display_enabled!!   2:;NGQ=!!!   display_disabled!!   >B:;NGQ=!!#   display_updatable!!   >1=>2;5=85    !!   searchindex!!       !!   indexing!!   =45:A0F8O: !!	   done!!0   =45:A8@>20=85  >:>=G5=>. !!   pages!!(   0945=>  AB@0=8F:   % d . !!   clearing!!$   G8AB:0  8=45:A0. . . !!   finding!!    >8A:  AB@0=8F. . . !!   notindexed!!'   Skipped: Up-to-date!!   indexed!!   1=>2;5=>    !!   styling!!       !!   loader!!   03@C605BAO  ?@54?@>A<>B@. . . < b r   / > A;8  745AL  A;CG8;AO  A1>9,   20H8  =0AB@>9:8  <>3CB  1KBL  A1@>H5=K!!   popup!!6   B:@KBL  2>  2A?;K20NI5<  >:=5           !!      !!       !!	   type!!   format!!   title!!   >;C68@=K9!!	   icon!!   bold.png!!   key!!   b!!	   open!!   **!!   close!!   **!!   block!!    !!       !!	   type!!   format!!   title!!   C@A82!!	   icon!!   italic.png!!   key!!   i!!	   open!!   //!!   close!!   //!!   block!!    !!       !!	   type!!   format!!   title!!   >4GQ@:=CBK9!!	   icon!!   underline.png!!   key!!   u!!	   open!!   __!!   close!!   __!!   block!!    !!       !!	   type!!   format!!   title!!   "5:AB  :>40!!	   icon!!   mono.png!!   key!!   m!!	   open!!   ''!!   close!!   ''!!   block!!    !!       !!	   type!!   format!!   title!!   0GQ@:=CBK9!!	   icon!!   strike.png!!   key!!   d!!	   open!!   <del>!!   close!!   </del>!!   block!!    !!       !!	   type!!   autohead!!   title!!2   03>;>2>:  B5:CI53>  C@>2=O!!	   icon!!   hequal.png!!   key!!   8!!	   text!!   03>;>2>:!!   mod!!    !!   block!!    !!       !!	   type!!   autohead!!   title!!Z   03>;>2>:  1>;55  =87:>3>  C@>2=O  ( ?>4703>;>2>:) !!	   icon!!   hminus.png!!   key!!   9!!	   text!!   03>;>2>:!!   mod!!   !!   block!!    !!       !!	   type!!   autohead!!   title!!>   03>;>2>:  1>;55  2KA>:>3>  C@>2=O!!	   icon!!   hplus.png!!   key!!   0!!	   text!!   03>;>2>:!!   mod!!!!   block!!    !!       !!	   type!!   picker!!   title!!   K1>@  703>;>2:0!!	   icon!!   h.png!!   class!!   pk_hl!!	   list!!      !!       !!	   type!!   format!!   title!!*   03>;>2>:  1 - 3>  C@>2=O!!	   icon!!   h1.png!!   key!!   1!!	   open!!   ====== !!   close!!    ======\n    !!       !!	   type!!   format!!   title!!*   03>;>2>:  2 - 3>  C@>2=O!!	   icon!!   h2.png!!   key!!   2!!	   open!!   ===== !!   close!!    =====\n    !!       !!	   type!!   format!!   title!!*   03>;>2>:  3 - 3>  C@>2=O!!	   icon!!   h3.png!!   key!!   3!!	   open!!   ==== !!   close!!    ====\n    !!       !!	   type!!   format!!   title!!*   03>;>2>:  4 - 3>  C@>2=O!!	   icon!!   h4.png!!   key!!   4!!	   open!!	   === !!   close!!    ===\n    !!       !!	   type!!   format!!   title!!*   03>;>2>:  5 - 3>  C@>2=O!!	   icon!!   h5.png!!   key!!   5!!	   open!!   == !!   close!!    ==\n        !!   block!!    !!       !!	   type!!   linkwiz!!   title!!"   =CB@5==OO  AAK;:0!!	   icon!!   link.png!!   key!!   l!!	   open!!   [[!!   close!!   ]]!!   block!!    !!       !!	   type!!   format!!   title!!   =5H=OO  AAK;:0!!	   icon!!   linkextern.png!!	   open!!   [[!!   close!!   ]]!!   sample!!B   h t t p : / / e x a m p l e . c o m | =5H=OO  AAK;:0!!   block!!    !!       !!	   type!!   formatln!!   title!!8   -;5<5=B  =C<5@>20==>3>  A?8A:0!!	   icon!!   ol.png!!	   open!!	     - !!   close!!   !!   key!!   -!!   block!!    !!       !!	   type!!   formatln!!   title!!<   -;5<5=B  =5=C<5@>20==>3>  A?8A:0!!	   icon!!   ul.png!!	   open!!	     * !!   close!!   !!   key!!   .!!   block!!    !!       !!	   type!!   insert!!   title!!    0745;8B5;L!!	   icon!!   hr.png!!   insert!!   \n----\n!!   block!!    !!       !!	   type!!   mediapopup!!   title!!|   >1028BL  87>1@065=8O  8;8  4@C385  D09;K  ( >B:@>5BAO  2  =>2><  >:=5) !!	   icon!!   image.png!!   url!!9   lib/exe/mediamanager.php?ns=!!	   name!!   mediaselect!!   options!!   width=750,height=500,left=20,top=20,scrollbars=yes,resizable=yes!!   block!!    !!       !!	   type!!   picker!!   title!!   !<09;8:8!!	   icon!!   smiley.png!!	   list!!       !!   8-)!!7   ubuntu-portal/icon_cool.png!!   8-O!!5   ubuntu-portal/icon_eek.png!!   8-o!!5   ubuntu-portal/icon_eek.png!!   :-(!!5   ubuntu-portal/icon_sad.png!!   :-)!!9   ubuntu-portal/icon_smile.png!!   =)!!;   ubuntu-portal/icon_smile2.png!!   :-/!!9   ubuntu-portal/icon_doubt.png!!   :-\!!;   ubuntu-portal/icon_doubt2.png!!   :-?!!?   ubuntu-portal/icon_confused.png!!   :-D!!=   ubuntu-portal/icon_biggrin.png!!   :-P!!7   ubuntu-portal/icon_razz.png!!   :-o!!A   ubuntu-portal/icon_surprised.png!!   :-O!!A   ubuntu-portal/icon_surprised.png!!   :-x!!?   ubuntu-portal/icon_silenced.png!!   :-X!!?   ubuntu-portal/icon_silenced.png!!   :-|!!=   ubuntu-portal/icon_neutral.png!!   ;-)!!7   ubuntu-portal/icon_wink.png!!   m(!!=   ubuntu-portal/icon_neutral.png!!   ^_^!!5   ubuntu-portal/icon_fun.png!!   :?:!!?   ubuntu-portal/icon_question.png!!   :!:!!=   ubuntu-portal/icon_exclaim.png!!   LOL!!5   ubuntu-portal/icon_lol.png!!   FIXME!!/   ubuntu-portal/fixme.png!!   DELETEME!!1   ubuntu-portal/delete.png    !!   icobase!!   smileys!!   block!!    !!       !!	   type!!   picker!!   title!!&   !?5F80;L=K5  A8<2>;K!!	   icon!!   chars.png!!	   list!!   ^  !!   !!   !!   !!   !!   !!   !!   Î!!   !!   Ď!!   !!   !!   !!   !!   !!   Ŏ!!   !!    !!   !!   !!   !!   Ǝ!!   !!   !!   !!   ǎ!!   !!   !!   !!   !!   	!!   
!!   !!   Ў!!   !!   !!   !!   !!   Ȏ!!   !!   Ɏ!!   !!   ʎ!!   !!   ˎ!!   !!   !!   !!   !!   !!   !!   !!   !!   !!   "!!   #!!   !!   !!   !!   !!    !!   !!!   $!!   %!!   ̎!!   !!   ͎!!   !!   Ύ!!   !!   ώ!!   !!   !!   !!   *!!   +!!   0!!   1!!   .!!   /!!   4!!   5!!   6!!   7!!   9!!   :!!   ;!!   <!!   =!!   >!!   A!!   B!!   ?!!   @!!   C!!   D!!   ю!!   !!   E!!   F!!   G!!   H!!   Ҏ!!   !!   ӎ!!   !!   Ԏ!!   !!   Վ!!   !!   ֎!!   !!   !!   !!   L!!   M!!   P!!   Q!!   R!!   S!!   ؎!!   !!   T!!   U!!   V!!   W!!   X!!   Y!!   Z!!   [!!   ^!!   _!!   `!!   a!!   \!!   ]!!   b!!   c!!   d!!   e!!   َ!!   !!   ڎ!!   !!   ێ!!   !!   ܎!!   !!   !!   !!   l!!   m!!   j!!   k!!   n!!   o!!   !!   !!   !!   !!   r!!   s!!   p!!   q!!   t!!   u!!   ݎ!!   !!   x!!   !!   v!!   w!!   y!!   z!!   }!!   ~!!   {!!   |!!   ގ!!   !!   ߎ!!   &!!   '!!   !!   !!   !!   !!   !!   !!    !!   !!   !!   !!   !!   !!   !!   !!   !!   0 !!   !!   !!   !!   !!   !!   !!   !!   !!     !!   ! !!   !!   " !!   !!    "!!   "!!   "!!   !!   Y!!   "!!   "!!   "!!   	"!!   "!!   "!!   "!!   > !!   "!!   "!!   ׎!!   D !!   "!!   "!!   "!!    "!!   '"!!   ("!!   )"!!   *"!!   +"!!   4"!!   <"!!   E"!!   H"!!   `"!!   a"!!   d"!!   e"!!   "!!   "!!   "!!   "!!   "!!   "!!   "!!   "!!   "!!   %!!   !!!   !!!   !!!   5!!!   `&!!   c&!!   e&!!   f&!!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   &!!   &!!   &!!   &!!   &!!   &!!   &!!   &!!   &!!   9&!!   :&!!   '!!   '!!    !!    !!    !!    !!    !!    !!   !!   !!   9 !!   : !!    !!    !!   & !!   !!!   !!!   !!!   !!!   !!!   !!!   !!!   !!!   !!!   !!!   !!   "!!!   !!   2 !!   3 !!   [!!   ]!!   {!!   }!!   ~!!   (!!   )!!   %!!   !!   $!!   #!!   |!!   @    !!   block!!    !!       !!	   type!!   signature!!   title!!    AB028BL  ?>4?8AL!!	   icon!!   sig.png!!   key!!   y!!   block!!    !!       !!	   type!!   format!!   title!!-   Mark text as key press!!	   icon!!G   ../../plugins/keyboard/keyboard.png!!	   open!!   <key>!!   close!!   </key>        !!       C                         XD  D  PD  D                             !!      factory        +H;   m   !       '=   HE      Q    5      /   	           Z   =   `    T   Q      T      Q    Deʘ(Ϙ͘Θ!Ҙ    define   function   amd   jquery   jQuery5!!       C                         D  'J  D  'J                            !!      $   pluses   raw   decoded   converted   config       +H!!    	      raw D  D  D  D     D         5!!          decoded     E                 E  >E  D  >E                              !!      s        +H;   &              T     
   =   : :  Eޘ받* %   decodeURIComponent   replace           5!!    	      converted PE  E  >E  E     PE  P       5!!   \+   !!          $.cookiec     E      
          E  I  E  I      @                      !!      key   value   options	   days   t   decode   cookies   result   i   l   parts	   name   cookie    
   +H!!            !!            ;                   T     Ic           
[       5   T : U QT 5   =   HS      T 5   W   QT    A,  R  6   W  QV     
V     
:  V    Q      5   !      	   
   
T :              T : "   U Q   Z      5      '   T     '         T  : )   `    =   `      5      .   T    .         T : 0   `   T 5   '   3   =   T 5      
:     7   =   7   `   T 5      :   =   T 5      <   =   <   `   T 5      ?   =   T 5      A   =   A   `   T 5      D   =      D   =   D   `      
=   : 6   H      5      K         L      M   W  Q   5      
=   : W  QT     R          S   [   T   W  Q>W  QV     W  Q    mU   V  V  7   
=   : W  QV  V     
:  : W  QV  V     
=   : : W	  QT  E   _   QT  V  H`   !   a      V	  : W  QU   c   T   !   e   V  V     V	  : 8Qh   V  W  QQi   V  V  l   V   Fʘޘ
&ʘ,͘͘͘֘Șɘ٘ژ̘ʘ͘ʘ͘ޘ-ݘ'-Ș e#֘Ș   ڀ  Ȁ  
՘ȘИȘ!՘ȘʘʘȘPʘ
ʘҘʘO͘Ә  ɸ    undefined   extend   defaults   expires   number	   Date   setDate   getDate	   json	   JSON   stringify   String   document   raw%   encodeURIComponent   =   ; expires=   toUTCString   	   path   ; path=   domain   ; domain=   secure   ; secure	   join   cookie   split   ;    length   shift`       5!!            !!    	      $.removeCookieb I  %J  I  %J     I          5;   b   %          Q      Q      Q      Q      6       Q   [   6   Q      6   Qᘀ Dظ˘ ՘ ИИ      cookie   defaults   removeCookie5!!       C                         3J  J  +J  J                             !!      factory        +H;   r   !       '=   HE      Q    5      /   	           Z   =   `    T   Q      T     5    Q    J@ʘ(Ϙ͘Θ0ט    define   function   amd+   ../widgets/datepicker   jQuery   datepicker5!!       C     J                 J  ~M  J  ~M                             !!      datepicker        +H!!      !!   /=20@L!!   $52@0;L!!   0@B!!   ?@5;L!!   09!!   N=L!!   N;L!!   23CAB!!   !5=BO1@L!!   :BO1@L!!   >O1@L!!   5:01@L   !!      !!   /=2!!   $52!!   0@!!   ?@!!   09!!   N=!!   N;!!   23!!   !5=!!   :B!!   >O!!   5:   !!      !!   2>A:@5A5=L5!!   ?>=545;L=8:!!   2B>@=8:!!
   A@540!!   G5B25@3!!   ?OB=8F0!!   AC11>B0   !!      !!   2A:!!   ?=4!!   2B@!!   A@4!!   GB2!!   ?B=!!   A1B   !!      !!   A!!   =!!   B!!   !@!!   'B!!   B!!   !1   !!       !!   closeText!!!!   prevText!!!!   nextText!!!!   currentText!!!!   monthNames!!!!   monthNamesShort!!!!   dayNames!!!!   dayNamesShort!!!!   dayNamesMin!!!!   weekHeader!!!!   dateFormat!!!!   firstDay!!!!   isRTL!!!!%   showMonthAfterYear!!!!   yearSuffix!!    ;      C   T  5    [   =   ]   =   ]   =   ]   =   ]   f    ]	   f   ]
   f   ]   f   ]   f   ]   =   ]   =   ]   ?]   B]   B]   =   ]   6   QT     
T  5    5    QT  5    5    J˸͘ʘʘʘʘʘuʘZʘWʘ:ʘ1ʘʘИט$͘    regional   0:@KBL   closeText   & # x 3 C ; @54   prevText   !;54& # x 3 E ;    nextText   !53>4=O   currentText   monthNames   monthNamesShort   dayNames   dayNamesShort   dayNamesMin   54   weekHeader   dd.mm.yy   dateFormat   firstDay   isRTL%   showMonthAfterYear      yearSuffix   ru   setDefaults       5!!            !!          qq.extendc     M                M  M  M  M                             !!      first   second	   prop       +H;      
   /       ;      T K    m   W   T  V   T V   78Q   QLM   QN M=)˘ј՘2         5!!          qq.indexOfb M  N  M  N     M  0       5!!          qq.getUniqueId<c                          N  N  N  N                             !!      id         +H!!          qq.getUniqueIdb  N  N  N  N     N         5;          >   Q     Nظ  5!!          qq.attachb O  O  	O  O     O  0       5!!          qq.detachb O  \P  O  \P     O  0       5!!       #   qq.preventDefaultb wP  P  oP  P     wP  0       5!!          qq.insertBeforeb P  P  P  P     P         5!!          qq.removeb Q  DQ  	Q  DQ     Q         5!!          qq.containsb YQ  R  QQ  R     YQ  0       5!!          qq.toElement<c                          R  R  R  R                            !!      div         +H!!          qq.toElementb TR  R  LR  R     TR         5;   !             
=   :    Q     R'ј	ɘn    document   createElement   div5!!          qq.cssb R  S  R  S     R  0       5!!          qq.hasClassb S  T  S  T     S         5!!          qq.addClassb +T  wT  #T  wT     +T          5!!          qq.removeClassb T  U  T  U     T         5!!          qq.setTextb (U  hU   U  hU     (U         5!!          qq.childrenb }U  V  uU  V     }U  0       5!!          qq.getByClassb *V  PW  "V  PW     *V  @       5!!          qq.obj2urlb dW  s[  \W  s[     dW         	   temp    uristrings   B W  'Y  W  'Y     W          55!!            !!       )   qq.FileUploaderBasicb [  [_  [  [_     [  "         B L\  [\  D\  [\     L\         5   B o\  \  g\  \     o\         5   B \  \  \  \     \         5   B \  \  \  \     \         5   B l^  ^  d^  ^     l^         55!!          setParamsB _  _  _  _     _         5!!          getInProgressB  _  _  _  _     _         5!!       '   _createUploadButtonB 	`  `  `  `     	`  "       	   self   B `  `  `  `     `         55!!       )   _createUploadHandlerB  `  tc  `  tc     `  B       	   self   B 
b  b  b  b     
b         5   B b   c  b   c     b         5   B c  ac  
c  ac     c         55!!       /   _preventLeaveInProgressB  c  bd  c  bd     c  "       	   self   B c  _d  c  _d     c          55!!          _onSubmitB ud  d  md  d     ud         5!!          _onProgressB d  d  d  d     d         5!!          _onCompleteB d  Je  d  Je     d  "       5!!          _onCancelB ]e  e  Ue  e     ]e         5!!          _onInputChangeB e  Kf  e  Kf     e  B       5!!          _uploadFileListB df  f  \f  f     df  B       5!!          _uploadFileB 	g  g  g  g     	g  "       5!!          _validateFileB g  j  g  j     g  r       5!!          _errorB +j  k  #j  k     +j  "          message	      r nj  j  dj  j     nj         55!!          _formatFileNameB k  !l  k  !l     k          5!!       '   _isAllowedExtensionB >l  Im  6l  Im     >l  B       5!!          _formatSizeB ^m  m  Vm  m     ^m          5!!       !!   setParams!!!!   getInProgress!!!!'   _createUploadButton!!!!)   _createUploadHandler!!!!/   _preventLeaveInProgress!!!!   _onSubmit!!!!   _onProgress!!!!   _onComplete!!!!   _onCancel!!!!   _onInputChange!!!!   _uploadFileList!!!!   _uploadFile!!!!   _validateFile!!!!   _error!!!!   _formatFileName!!!!'   _isAllowedExtension!!!!   _formatSize!!    !!          qq.FileUploaderb m  r  m  r     m        5!!          _findB s  s  s  s     s  "       5!!          _setupDragDropB  s  w  s  w     s  B       	   self    dropArea    dz   B ?t  t  7t  t     ?t         5   B t  t  t  t     t         5   B t  u  t  u     t         5   B u  u  u  u     u         5   B u  %v  u  %v     u         5   B Nv  w  Fv  w     Nv          55!!          _onSubmitB w  w  w  w     w        5!!          _onProgressB w  x  w  x     w  3      5!!          _onCompleteB 	y  5z  y  5z     	y  3      5!!          _addToListB Iz  K{  Az  K{     Iz         5!!       !   _getItemByFileIdB e{  {  ]{  {     e{  "       5!!       !   _bindCancelEventB  {  }  {  }     {  "       	   self   B 6|  }  .|  }     6|          55!!       !!   _find!!!!   _setupDragDrop!!!!   _onSubmit!!!!   _onProgress!!!!   _onComplete!!!!   _addToList!!!!!   _getItemByFileId!!!!!   _bindCancelEvent!!    !!       #   qq.UploadDropZoneb !}  ~  }  ~     !}           B Q}  V}  I}  V}     Q}         5   B g}  l}  _}  l}     g}         5   B }  }  }  }     }         5   B }  }  }  }     }         55!!       '   _disableDropOutsideB Q~  "  I~  "     Q~            B ~  ~  ~  ~     ~          55!!          _attachEventsB  9  O  1  O     9  "       	   self   B u  ]  m  ]     u  0       5   B   ̀    ̀              5   B   ρ    ρ              5   B   L    L              55!!       !   _isValidFileDragB i  '  a  '     i         5!!       !!'   _disableDropOutside!!!!   _attachEvents!!!!!   _isValidFileDrag!!    !!          qq.UploadButtonb A    9       A           B                     55!!          getInputB    ҄    ҄              5!!          resetB    o  ل  o       "       5!!          _createInputB      }         R          input 	   self   B    >    >              5   B  d    \       d         5   B                      5   B    V    V              5   B  w    o       w         55!!       !!   getInput!!!!   reset!!!!   _createInput!!    !!       1   qq.UploadHandlerAbstractb !  !    !     !           B {    s       {         5   B   É    É              5   B Չ    ͉       Չ         55!!          logB R    J       R         5!!          addB                     5!!          uploadB Ċ  p    p     Ċ  "       5!!          cancelB     x                5!!          cancelAllB               "       5!!          getNameB $  *    *     $         5!!          getSizeB ;  A  3  A     ;         5!!          getQueueB  S  j  K  j     S         5!!          _uploadB {    s       {         5!!          _cancelB                     5!!          _dequeueB   z    z       "       5!!       !!   log!!!!   add!!!!   upload!!!!   cancel!!!!   cancelAll!!!!   getName!!!!   getSize!!!!   getQueue!!!!   _upload!!!!   _cancel!!!!   _dequeue!!    !!       )   qq.UploadHandlerFormb   ݍ    ݍ             5!!          addB a    Y       a  "       5!!          getNameB .  j  &  j     .         5!!          _cancelB {  9  s  9     {  "       5!!          _uploadB J    B       J  b          id    fileName    iframe 	   self   B    \    \                B  A  W  9  W     A         555!!       !   _attachLoadEventB   t    t       0          iframe    callback   B  Ӓ  q  ˒  q     Ӓ  0       55!!       +   _getIframeContentJSONB              C     @5!!          _createIframeB Ɣ           Ɣ         5!!          _createFormB   Ȗ    Ȗ              5!!       !!   add!!!!   getName!!!!   _cancel!!!!   _upload!!!!!   _attachLoadEvent!!!!+   _getIframeContentJSON!!!!   _createIframe!!!!   _createForm!!    !!       '   qq.UploadHandlerXhrb   H  ߖ  H             5!!       ?   qq.UploadHandlerXhr.isSupportedb  q    i       q         5!!          addB   $    $       "       5!!          getNameB 5    -       5         5!!          getSizeB                     5!!          getLoadedB                     5!!          _uploadB /    '       /  R          id 	   name    xhr 	   self   B   U    U               5   B  u    m       u          55!!          _onCompleteB   ݞ     ݞ       c     @5!!          _cancelB   t    t       "       5!!       !!   add!!!!   getName!!!!   getSize!!!!   getLoaded!!!!   _upload!!!!   _onComplete!!!!   _cancel!!    !!       )   _createUploadHandlerB    m    m       B       	   self   B ܠ  V  Ԡ  V     ܠ         5   B j  ҡ  b  ҡ     j         5   B   3  ܡ  3              5   B  E  Z  =  Z     E         55!!          _onUploadB      x                5!!          _uploadFileB Ǣ  t    t     Ǣ  "       5!!          _addToListB   u    u              5!!       !!)   _createUploadHandler!!!!   _onUpload!!!!   _uploadFile!!!!   _addToList!!    !!       /   qq.FileUploaderExtendedb   |    |             5!!       !   _bindUploadEventB  
  S    S     
  "       	   self   B   P  {  P                B   M    M              555!!          _onCompleteB h    `       h  B       5!!       !!!   _bindUploadEvent!!!!   _onComplete!!    !!          uploadAllB γ    Ƴ       γ         5!!          getNameB   ִ    ִ       R       5!!          _uploadAllB   z    z       "         B   E    E              55!!          _uploadB   Ӹ    Ӹ       b          id    fileName    iframe 	   self   B  Է    ̷       Է           B                      555!!       !!   uploadAll!!!!   getName!!!!   _uploadAll!!!!   _upload!!    !!          uploadAllB   3  	  3              5!!          getNameB D  !  <  !     D  R       5!!          getSizeB 2    *       2         5!!          _uploadB   ½    ½       R          id 	   name    xhr 	   self   B                      5   B    J    J               55!!          _uploadAllB ֽ  e  ν  e     ֽ  "         B 	  1    1     	         55!!       !!   uploadAll!!!!   getName!!!!   getSize!!!!   _upload!!!!   _uploadAll!!    !!            !!          execDispatchB                     5!!          addB   a    a              5!!       !!   _cur_id!!!!   _handlers!!!!   execDispatch!!!!   add!!    !!          delTimerB    5    5       "       5!!          startB  D  T  <  T     D  #          _this   B                      55!!       	   execB  b    Z       b         5!!       !!	   func!!!!   timeout!!!!   delTimer!!!!   start!!!!	   exec!!    !!            !!          setValueB   )    )       2       	   text    _this   B F    >       F          55!!          getValueC    ;               ;  d  3  d   
                           !!      key   .this       +H;   $      W   QV       
  QV   5   T  7 A˘͘ 	   init	   data       5!!       	   initC     r               r  W  j  W   
                           !!   	   text   parts   i   .this         +H;          h   	      Z   W  Q       
V  5   :                  
V  5   : W   QV         V      
=   : W  Q>W  Q T   m   V  5         V  V  7:       V  V  ?7: 8Q   V  W  Q   V  V         Ɖ՘ʘ  ]՘ȘʘИȘ&TChܘ
ؘʘҸؘ̘^    jQuery   isEmptyObject	   data   cookie	   name   split   #%   decodeURIComponent   lengthB       5!!       !!	   data!!!!	   name!!!!   setValue!!!!   getValue!!!!	   init!!    !!       C                         6    6                               !!              +H;   #                 :    
    Q ޘ    jQuery   document   click   closePopups       5!!       )   jQuery.fn.dw_qsearchc                       U    M       	                       !!      overrides   dw_qsearch   .this      +H!!       	   initC                                                            !!      do_qsearch         +H!!    	      do_qsearchB  c    [       c  0       5!!    	      init/<b    b    b               5;      >               5   : 6   Q  5      >HD      Q  5      >H                   Q  5      
    Q  5      
  5    Q ۸٘ɘʘ= O˘ i֘  ۘ     jQuery   output   $outObj   $inObj   length   keyup   click   clear_results5!!    	      getSearchtermB                      5!!    	      clear_resultsB    ^    ^              5!!    	      onCompletionB t  o  l  o     t  `          max    too_big   B L  g  D  g     L         5   B                     5   B               r       55!!    	   !!   output!!!!   $inObj!!!!   $outObj!!!!   timer!!!!   curRequest!!!!	   init!!!!   getSearchterm!!!!   clear_results!!!!   onCompletion!!    ;      H   W   Q[   =    ]   V   ]   @]   @]   @]       ]      ]      ]      ]	      Q
      
   T   QT  5                
  Q       pʘɘʘ ʘ:ʘ  И Ԙ ʘ̘ɘ    #qsearch__out   output   $inObj   $outObj   timer   curRequest	   init   getSearchterm   clear_results   onCompletion   jQuery   extend   deferInit5!!       C                         $    $                              !!              +H!!       !!   output!!    ;   -              =   :    
[    =   ]    Q 縰ޘ#ʘ%    jQuery   #qsearch__in   dw_qsearch   #qsearch__out   output       5!!       #   jQuery.fn.dw_treec                       @    8                               !!      overrides   dw_tree   .this       +H!!       	   initC                      4    4   
    %                        !!      .this         +H;   e  C   W   QV   5       
=   V   5   V   V   5    Q      =   V   5    :    
=   =	    Q      =
   V   5    :    
=   :    
=   =    Q      =   V   5    :    
=   =    Q      =   V   5    :    
=   =    Q      =   V   5    :    
=   =    Q      =   V   5    :    
=   =    Q բ
2Ԙ!# 	   $obj   on   click   toggle_selector   toggle   jQuery   ul:first	   attr	   role	   tree   ul   not   :first   group   li   treeitem   li.open > ul   aria-expanded	   true   li.closed > ul   false   li.closed   aria-live   assertive       5!!    	      toggleB D    <       D            $listitem    $sublist    timeout    show_sublist   B e  b  ]  b     e  0       5   B                     55!!    	      toggle_displayB 
           
         5!!    	      load_dataB 0  Q  (  Q     0         5!!       !!   throbber_delay!!!!	   $obj!!!!   toggle_selector!!!!	   init!!!!   toggle!!!!   toggle_display!!!!   load_data!!    ;      B   W  Q[   X]    V  ]   =   ]       ]      ]      ]      ]   W   Q   	   
V   T   QT  5
          V      
  Q   V    XȘɘ
ʘʘ ʘ ʘ+Ϙ5Әʘ˘ɘ    throbber_delay	   $obj   a.idx_dir   toggle_selector	   init   toggle   toggle_display   load_data   jQuery   extend   deferInit5!!          load_dataB   |    |              5!!       !!   deferInit!!!!   load_data!!    !!       C                                                           !!      $tree         +H;   7              =   : W   Q   V   6   Q      
  Q ݛטϘ̘	    jQuery   #index__tree   dw_index	   $obj	   init       5!!       C                         /    /                               !!              +H;   E              =   =       Q      =   :    
=   =    Q Ըݘ.    initToolbar   tool__bar   wiki__text   toolbar   jQuery   #tool__bar	   attr	   role       5!!       C                  	         V    V       +                       !!      $editform   $edit_text   sel   changeHandler   $summary         +H!!    	      changeHandlerB    Q    Q              5!!    	   +   window.onbeforeunloadb                       5!!       B  '  V    V     '         5!!       B      x                5;                =   : W   QV      >                 =   : W  QV     >      V     
=   :                V  >7: W  QV  >6   QV  >6   Q	   	   V   QV  
   
  Q   V     
:     Q       W  QV      
V   QV      
V   Q      6   Q      6   Q        =   :    
    Q        =   :    
    Q        =   : W  QV     
    QV     
    Q      6           Q8    ۸טʘ J͸טʘИʘ +ؘ˘˘
Ҙ˘И"Θʘ<Ϙ
Ϙ
ИSИޘ?ޘbטИ	И	ʘӘ    jQuery   #dw__editform   length   #wiki__text	   attr   readOnly   DWgetSelection   start   end   DWsetSelection   focus-   doku_edit_text_content   val   change   keydown   window   onbeforeunload   deleteDraft   onunload   #edbtn__save   click   #edbtn__preview   #edit__summary#   doku_summaryCheck   keyup   textChanged5!!       	   initC                                                        !!      $editor         +H;
      ?           =   : W   QV      >H               
=   V    QV      
=   :          V      
   5	    Q ݸטʘ՘
%Иʘ.ڸ՘    jQuery   #wiki__text   length   dw_editor   initSizeCtl   #size__ctl	   attr   readOnly   keydown   keyHandler0       5!!          initSizeCtlB         P          editor 	   $ctl   B                 5   B   !  !            5   B  3 T + T    3        5   B _  W     _        55!!          sizeCtlB                  5!!          toggleWrapB                5!!          setWrapB  g  g            5!!          keyHandlerB {  s     {        5!!       !!	   init!!!!   initSizeCtl!!!!   sizeCtl!!!!   toggleWrap!!!!   setWrap!!!!   keyHandler!!    !!       	   initC    U               U  M                              !!      timeout   draft	   edid   $edit       +H;   *  p   T D      Q=       U Q      =   T : W   QV      >HD      QV      
=   :                T  X6   Q   T 6   Q   	   A,  R  6
   Q         =   :    
=   :    
:  6   Q   5       #   #   V      
   5    Q      
  QtܘӘȘʘ  Ҙ"ΘϘɘԘϘʘɘ	ʘBƸ՘̘    wiki__text   jQuery   #   length	   attr   readonly   dw_locktimer   timeout   draft	   Date   lasttime   #dw__editform	   find   input[name=id]   val   pageid   keypress   refresh   reset0       5!!          resetB   S  S            5!!          warningB  d  \     d        5!!          clearB                  5!!          refreshB  &       & 0       5!!          refreshedB                 5!!       !!   timeout!!!!   draft!!!!   timerID!!!!   lasttime!!!!   msg!!!!   pageid!!!!	   init!!!!   reset!!!!   warning!!!!   clear!!!!   refresh!!!!   refreshed!!    !!       	   initB                 5!!          onEntryB  ]  ]            5!!          getResultB p  h     p        5!!          $getResultB  $  $            5!!          selectB 4  ,     4 P       5!!          deselectB   g  g             5!!          onResultClickB ~  v     ~ "       5!!          resultClickB         P       5!!          insertLinkB  !  !            5!!          autocompleteB  " " " "    "         5!!       #   autocomplete_execB  " # " #    "        5!!       	   showB  # $ # $    #        5!!       	   hideB  $ $ $ $    $        5!!          toggleB  $ M% $ M%    $ 0       5!!       !!	   $wiz!!!!   $entry!!!!   result!!!!   timer!!!!   textArea!!!!   selected!!!!   selection!!!!	   init!!!!   onEntry!!!!   getResult!!!!   $getResult!!!!   select!!!!   deselect!!!!   onResultClick!!!!   resultClick!!!!   insertLink!!!!   autocomplete!!!!#   autocomplete_exec!!!!	   show!!!!	   hide!!!!   toggle!!    !!            !!       !!	   list!!!!	   sort!!   !!       !!   thumbs!!   !!	   rows!!d      !!       	   initC                        A& - 9& -      w                       !!      $content   $tree   $page         +H!!    	      load_dataB E( ( =( (    E(        5!!    	      toggle_displayB ) p) 	) p)    )        5!!       !!   toggle_selector!!!!   load_data!!!!   toggle_display!!    ;4                =   : W   Q        =   : W  QV                     
V    Q      
  Q      
  QV      
=	   =
      5   :    
=   =      5   :    
=   =      5   :    
=   =      5    QV     
[   =   ]       ]      ]    QV     
=   =      5    Q      
  Q      
  Q      
  Q      
  Q        =   : W  QV     
=    :    
=   =!      5   :    
=   ="      5#   :    
=   =$      5   :    
=	   =
      5   :    
=   =%      5#    QV     
=&   :    
=   =!      5#   :    
=   ='      5   :    
=   =(      5#   :    
=   =)      5#   :    
=   =*      5#   :    
=   =+      5#   :    
=   =,      5#   :    
=   =-      5#    Q   .   
  Q   V  /   
:  60   Q        1   : 2   
   53    Q&WϘ	ȘϘȘʘ @ǸИ̘̘ߘ
ޘ5ޘ.ޘO=Иʘʘ  ʘ _ߘ%̘̘̘̘טИޘޘ-ޘ9ޘ5ޘ58Иޘޘ0ޘ>ޘ8ޘ9ޘ@ޘAޘB>̘И#ɘ&    jQuery   #media__content   #media__tree   length   dw_mediamanager   prepare_content   attachoptions   initpopup   on   change   #upload__file   suggest   click   a.select   selectE   #media__content a.btn_media_delete   confirmattach   submit1   #mediamanager__done_form	   list   dw_tree   img   toggle_selector   load_data   toggle_display   a#   set_fileview_list   init_options   image_diff%   init_ajax_uploader'   #mediamanager__page	   find   div.filelist   ul.tabs a%   div.panelContent a   details!   #dw__mediasearch#   .qq-upload-file a   div.file3   #mediamanager__btn_update!   #page__revisions%   #page__revisions a1   #mediamanager__save_meta3   #mediamanager__btn_delete5   #mediamanager__btn_restore-   .btn_newer, .btn_older!   update_resizable   width   layout_width   window   resize   window_resize5!!          init_optionsB  - 0 - 0    -           B  8/ / 0/ /    8/        5   B  0 ,0 / ,0    0        5   B W0 0 O0 0    W0        55!!          initpopupB  0 6 0 6    0          B 2 )5 2 )5    2 @          opt    $p   B 3 5 3 5    3        555!!          insertB ,6 9 $6 9    ,6        5!!          suggestB  9 : 9 :    9 "       5!!       	   listB : = : =    : r       5!!          form_paramsB = B> = B>    =         5!!       #   set_fileview_listB ]> Q? U> Q?    ]>          B > +? > +?    >        55!!       #   set_fileview_sortB l? ? d? ?    l?          B ? ? ? ?    ?        55!!       !   set_fileview_optB ? #A ? #A    ? @       5!!          detailsB 4A 3D ,A 3D    4A b       5!!          update_contentB KD hG CD hG    KD @          $content    update_list   B D F D F    D         55!!          window_resizeB  G G wG G    G        5!!          $resizablesB  G BH G BH    G        5!!       !   update_resizableB  \H K TH K    \H            $resizables   B H vK H vK    H "          widthResizables   B  bI I ZI I    bI        555!!          resizeB  K M K M    K @          height   B ZL yL RL yL    ZL        5   B  HM M @M M    HM        55!!          image_diffB  M P M P    M        5!!       !   change_diff_typeB  Q bR Q bR    Q            $content   B Q XR Q XR    Q        55!!          opacity_sliderB  zR T rR T    zR            $slider   B T T T T    T        55!!          portions_sliderB  T CX T CX    T 0          $slider   B W @X W @X    W        55!!          params_toarrayB [X Y SX Y    [X         5!!       %   init_ajax_uploaderB  /Y Z 'Y Z    /Y        5!!          prepare_contentB Z Z Z Z    Z        5!!          selectB [ ^ [ ^    [ b       5!!          confirmattachB ^ _ ^ _    ^ "       5!!          attachoptionsB  4_ a ,_ a    4_ @       	   $obj   B _ a _ a    _         55!!          toggleOptionB a b a b    a B       5!!          updatehideB  b c b c    b        5!!          setOptB c e c e    c        5!!          unforbidB e f e f    e        5!!          forbidB f Zf f Zf    f        5!!          allowedOptB nf g ff g    nf @          opt    val    ret   B f g f g    f        55!!          getOptB .g h &g h    .g @       5!!    .   !!   keepopen!!!!	   hide!!!!   popup!!!!   display!!!!   ext!!!!   $popup!!!!   align!!!!	   link!!!!	   size!!!!   forbidden_opts!!!!   view_opts!!!!   layout_width!!!!   minHeights!!!!	   init!!!!   init_options!!!!   initpopup!!!!   insert!!!!   suggest!!!!	   list!!!!   form_params!!!!#   set_fileview_list!!!!#   set_fileview_sort!!!!!   set_fileview_opt!!!!   details!!!!   update_content!!!!   window_resize!!!!   $resizables!!!!!   update_resizable!!!!   resize!!!!   image_diff!!!!!   change_diff_type!!!!   opacity_slider!!!!   portions_slider!!!!   params_toarray!!!!%   init_ajax_uploader!!!!   prepare_content!!!!   select!!!!   confirmattach!!!!   attachoptions!!!!   toggleOption!!!!   updatehide!!!!   setOpt!!!!   unforbid!!!!   forbid!!!!   allowedOpt!!!!   getOpt!!    !!       #   jQuery.fn.dw_hideb Rk k Jk k    Rk        5!!       #   jQuery.fn.dw_showb k "l k "l    k        5!!       '   jQuery.fn.dw_toggleb ?l l 7l l    ?l B          state    fn    noaria   B  jl l bl l    jl "       55!!       	   initC     m                m n m n                              !!              +H!!       !!   times!!    ;      U          
  Q       
  Q       
  Q       
  Q       
  Q       
  Q       
  Q      	   : 
   
=   =       5    Q      =   :    
=   [    
]   X Qm̘̘̘̘̘̘̘T#ʘﰜ!    dw_behaviour   focusMarker   scrollToMarker-   removeHighlightOnClick   quickSelect%   checkWindowsShares   subscription%   revisionBoxHandler   jQuery   document   on   clickK   #page__revisions input[type=checkbox]   .bounce   effect   bounce   times       5!!          scrollToMarkerC     n               n Oo n Oo                             !!   	   $obj         +H!!       !!   scrollTop!!    ;	      :           =   : W   QV            V      
:  5   >O   
           =   :    
[    V      
:  5   d]   X Q      V   >7   
  Q   nטʘ˘ʘޘ˘ӘΘ5͘ɘ    jQuery   #scroll__here   length   offset   top   html, body   animate   scrollTop   scrollIntoView@       5!!          focusMarkerC     do                do o \o o                              !!              +H;                 =   :    
  Qog٘    jQuery   #focus__this   focus       5!!       -   removeHighlightOnClickC                         o 
p o 
p                             !!              +H!!    	   1   removeHighlightOnClick/<b o p o p    o        5;   #              =   :    
     QoޘE    jQuery   span.search_hit   click5!!          quickSelectC                         p p p p                             !!              +H!!    	      quickSelect/<b Np jp Fp jp    Np        5;
   Z              =   :    
    :    
=   :    
=   :    
=   : 	   
  Qp"ޘϘ-ϘϘʘ    jQuery%   select.quickselect   change   closest	   form	   find   :button   not   .show	   hide5!!       %   checkWindowsSharesC                         p cq p cq      
                       !!              +H!!   (Trident|MSIE)    !!    	   )   checkWindowsShares/<b  1q `q )q `q    1q        5;	   m   #       5    D$      Q   5      
    : 	      
   
         =   :    
=       Qpø&ʘ`D 	   LANG   nosmblinks   navigator   userAgent   match   jQuery   a.windows   on   click5!!          subscriptionC                        yq rs qq rs                            !!      $form   $list   $digest        +H!!    	      subscription/<b  }r Ts ur Ts    }r 2       5;
      L           =   : W   Q>V      H         V      
=   :    QV      
=   :    QV      
=   :    
    :    
=	   :    
  QqϘȘʘ _Иɘ.Иɘ0ИϘ!Ϙ  ʘ    jQuery!   #subscribe__form   length	   findK   input[name='sub_style'][value='list']O   input[name='sub_style'][value='digest']1   input[name='sub_target']   click   filter   :checked5!!       %   revisionBoxHandlerC                        s :u s :u                             !!      $revisions	   $all   $checked   $button         +H!!    	   )   revisionBoxHandler/<b t 6u t 6u    t "       5;      P           =   : W   Q        =   V   : W  QV     
=   : W  Q        =   V   : W  QV     8      V     
=    QV  	   
=   C QG      V  	   
=   C QV     
=    QV  
   
     Q   sט$ۘ7ИȘۘʘИјΘјИИ	ɘe    jQuery!   #page__revisions)   input[type=checkbox]   filter   :checked   button   length   removeAttr   disabled	   attr	   each5!!       !!	   init!!!!   scrollToMarker!!!!   focusMarker!!!!-   removeHighlightOnClick!!!!   quickSelect!!!!%   checkWindowsShares!!!!   subscription!!!!%   revisionBoxHandler!!    !!       	   initC     lu                lu u du u                              !!              +H;	   R             
  Q      =   :    
    5    Q       
=   =    Quo̘#֘+    dw_page!   sectionHighlight   jQuery   a.fn_top   mouseover   footnoteDisplay   makeToggle   #dw__toc h3   #dw__toc > div       5!!       !   sectionHighlightC                         v x v x                             !!              +H!!    	   %   sectionHighlight/<b  >v w 6v w    >v "       5!!    	   %   sectionHighlight/<b  w }x w }x    w        5;   2              =   :    
    :    
    QvޘϘ       jQuery!   form.btn_secedit   mouseover   mouseout5!!          insituPopupB x ?z x ?z    x           B  py y hy y    py        55!!          footnoteDisplayB  Xz { Pz {    Xz "         B  z 4{ z 4{    z        55!!          makeToggleC                        {  {     !                       !!      handle   content   state   $handle   $content   $clicky   $child   setClicky       +H!!    	      setClickyB | e} | e}    | 0       5!!    	   =   makeToggle/$handle[0].setStateb } ~ z} ~    } P          hidden   B  ~ ~ |~ ~    ~        55;                T  :    Q          
   
           T :    Q                      
:     Q       Q   >7   6   Q              
=   : :    Q      
=   =	   : 
   
   >75   :    
    Q   >7   
T  Q|͘ɘʘ P͘	ɘʘ 븰̘ɘ˘  ۸Ҙ ۘɘ)֘֘Ϙј    jQuery   length   children   setState   document   createElement   strong   css   cursor   pointer   click   prepend5!!       !!	   init!!!!!   sectionHighlight!!!!   insituPopup!!!!   footnoteDisplay!!!!   makeToggle!!    !!       	   initC                                                        !!      $tree         +H!!    	      load_dataB                5!!    	      toggle_displayB  a  a            5!!       !!   toggle_selector!!!!   load_data!!!!   toggle_display!!    ;      U           =   :    >H                 =   :    
   5    Q        =   :    
   5	    Q        =
   : W   QV      
[   =   ]       ]      ]    QV      
=   =      5    QƸʘ# ^ϘȘИʘʘ Mʘ 帰ߘ)    jQuery   #acl_manager   length#   #acl__user select   change   dw_acl   userselhandler#   #acl__user button   click   loadinfo   #acl__tree   dw_tree   img   toggle_selector   load_data   toggle_display   delegate   a   treehandler5!!          userselhandlerB                 5!!          loadinfoB  " 
  
    "        5!!          parseattB         0       5!!          treehandlerB          2       5!!       !!	   init!!!!   userselhandler!!!!   loadinfo!!!!   parseatt!!!!   treehandler!!    !!       C                          ֐ ܆ ֐     ,                       !!      $extmgr   $extlist   $displayOpts+   displayOptionsHandler        +H!!       B @  8     @         5!!       B ߇ ^ ׇ ^    ߇ 2          $lightbox   B   
  
            55!!       B  ؋  ؋     "       	   $btn   B  Ջ  Ջ            55!!       B  Q  Q     2          $link   B * N " N    *        55!!       !!   id!!    !!    	   +   displayOptionsHandlerB                 5!!       B L Ґ D Ґ    L         5;                =   : W   QV      
=   :    
     QV      
=   :    
    QV      
=   :    
    QV      
=   :    
    QV      
=   : 	   
=
   :               =   :    Q      
=    Q        =   [   =   ]   :    
V      
=   : :    Q      
   5   5   5    Q      Q        Z   =   `    =   `   =   `   :    
    Q4   טИϘxИϘ ИϘ& LИϘ eИϘʘ!ؘј	/Ԙʘژ=ɘ'M˘xϘʘ
ʘʘϘ+ɘ     jQuery'   #extension__manager	   find!   button.uninstall   click-   a.extension_screenshot;   button.disable, button.enable   a.info)   .plugins, .templates   hasClass   active!   #extension__list   addClass#   hasDisplayOptions   <p>-   extension__viewoptions   id   appendTo   .panelHeader   append	   LANG   plugins   extension'   display_viewoptions   enabled   disabled   updatable	   each5!!       C                           7 ߐ 7                             !!              +H!!       B   4  4            5;   #              =   :    
     Q기ޘ5    jQuery   #usrmgr__del   click5!!       C                          H n @ n                             !!              +H!!       B   l  l     B       5;   #              =   :    
     QKޘ.      jQueryG   form.plugin__tag_search table input   change5!!       !!	   type!!   format!!   title!!	   note!!   key!!   !!	   icon!!K   ../../plugins/note/images/tb_note.png!!	   open!!   <note>!!   close!!   </note>   !!       !!	   type!!   format!!   title!!   tip!!   key!!   !!	   icon!!I   ../../plugins/note/images/tb_tip.png!!	   open!!   <note tip>!!   close!!   </note>   !!       !!	   type!!   format!!   title!!   important!!   key!!   !!	   icon!!U   ../../plugins/note/images/tb_important.png!!	   open!!!   <note important>!!   close!!   </note>   !!       !!	   type!!   format!!   title!!   warning!!   key!!   !!	   icon!!Q   ../../plugins/note/images/tb_warning.png!!	   open!!   <note warning>!!   close!!   </note>   !!       '   plugin_searchindex<c                           8  8            
               !!      pub   pages	   page   url	   done   count	   $msg   $buttons	   lang   message   index   finished   clear   throbber_on   throbber_off         +H!!            !!          pub.initc                                                       !!              +H;      E           =   :    Q                5   5    
  Q   =      Q        =   :  	  Q        =   : 	   
   5
    Q        =   : 	   
   5    QϘɘ&ʘ  ՘ј1Ϙ	ɘ'&'    jQuery1   #plugin__searchindex_msg	   LANG   plugins   searchindex   DOKU_BASEA   lib/plugins/searchindex/ajax.php9   #plugin__searchindex_buttons7   #plugin__searchindex_update   click   update9   #plugin__searchindex_rebuild   rebuild       5!!          messageB ʖ       ʖ         5!!          indexB  %       % 0         B   x             55!!          finishedB   #  #              B                 55!!          clearB  6  .     6          B z  r     z 0       55!!          pub.rebuildb   +  +            5!!          pub.updateb ?  7     ?            rebuild   B ɚ       ɚ P       55!!          throbber_onB  қ  ʛ     қ        5!!          throbber_offB  
 +  +    
        5;      q   [       Q@   Q@   Q@   Q?   Q>   Q@   Q@ 	  Q@ 
  Q    =       Q      6   Q      Q      Q      Q      Q      6   Q      6   Q      Q	      Q   ˘
	

И	И K˘[˘ ˘  ˘  ԸИ*И ˘8˘*    force   	   init   rebuild   update5!!       C      K                K i C i                              !!              +H;                
  QN̘ %   plugin_searchindex	   init       5!!       C                        t  l    $        $               !!      $   undef   _html   nonGradientIE   gradientType   vendorPrefixes	   _css	   Iris   UA	   isIE   IEVersion!   testGradientType   createGradient!   stupidIEGradient)   legacyWebkitGradient   fillColorStops%   backFillColorStops      +H!!       !   testGradientType   v i v               el 	   base    bgImageString   B F  >     F         55!!          createGradient   v      1       5!!       !   stupidIEGradient ů       ů s          stops 	   type    lastIndex    template 	   html   B  ɴ  ɴ     0       55!!       )   legacyWebkitGradient . Y  Y    .            stops   B ɵ       ɵ        55!!          fillColorStops p j Y j    p `          colors    percs    newColorList   B ٶ  Ѷ     ٶ         5   B  S  S            55!!       %   backFillColorStops   j      `       5!!7   msie ([0-9]{1,}[\.0-9]{0,})    !!          $.fn.gradientb   a  a     #       	   args   B   ^ غ ^     2       55!!       +   $.fn.raninbowGradientb   x      B          origin    steps   B  n  f     n        55!!       !!   horiz!!!!	   vert!!!!   strip!!    !!       !!   color!!!!	   mode!!!!   controls!!!!	   hide!!!!   border!!!!   target!!!!   width!!!!   palettes!!    !!      !!	   #000!!	   #fff!!	   #d33!!	   #d93!!	   #ee2!!   #81d742!!   #1e73be!!   #8224e3   !!       !!   horiz!!!!	   vert!!!!   strip!!    !!       !!   horiz!!!!	   vert!!!!   strip!!    !!       !!   h!!!!   s!!!!   l!!!!   v!!    !!          _createB                 5!!       	   _hasB  W  W     0          needle    ret   B  I  I             55!!          _addPalettesB  m V e V    m B          container    palette   B  5  5            55!!          _paintB  f  ^     f        5!!          _paintDimensionB  "  "     2      5!!          _getHSpaceColorB  ;  3     ;        5!!          _dimensionsB         R          paletteMargin    paletteWidth   B  #  #            55!!       %   _addInputListenersB         B          input 	   self   B  0  0     `       5   B                 55!!          _initControlsB          r       	   self    controls    square    controlOpts    stripScale   B  _  _     !       5   B                5   B   ]  ]            5   B  k  c     k        5   B         2       5   B           0       5   B ;  3     ; 0       55!!       #   _paletteListenersB   Z  Z     "       	   self   B  g  _     g        5   B  W  W     "       55!!          _squareDragB o ) g )    o       5!!          _setOptionB = ) 5 )    =        5!!       #   _squareDimensionsB D e < e    D "       5!!       !   _isNonHueControlB  ) w )     2       5!!          _changeB  : 9 2 9    :        	   self    controls    color    controlOpts   B d g \ g    d 0       55!!          _debounceB L  D     L `       	   func 	   wait    immediate    timeout    result   B    |      C          context 	   args   B                  555!!       	   showB                 5!!       	   hideB                 5!!          toggleB                 5!!          colorB         2       5!!       !!   options!!!!   _color!!!!   _palettes!!!!   _inited!!!!'   _defaultHSLControls!!!!'   _defaultHSVControls!!!!   _scale!!!!   _create!!!!	   _has!!!!   _addPalettes!!!!   _paint!!!!   _paintDimension!!!!   _getHSpaceColor!!!!   _dimensions!!!!%   _addInputListeners!!!!   _initControls!!!!#   _paletteListeners!!!!   _squareDrag!!!!   _setOption!!!!#   _squareDimensions!!!!!   _isNonHueControl!!!!   _change!!!!   _debounce!!!!	   show!!!!	   hide!!!!   toggle!!!!   color!!    ;C     L         Q      Q      Q      Q      Q      Q=       Q=   W   Q   5      
:     Q   5   =   H 	  Q 	  2                  
   : ?7:       >    
  Q 	  E      Q 
  
      QB   QZ   =	   `    =
   `   =   `   =   `      Q   E      Q 
     7          5      5   6   Q   5   B6   Q(      5   C6   Q   5      6   Q   5      6   Q[#   [
   B]   =   ]   [	   =   ]   =   ]   =   ]   ]   C]   C]   B]   X ]    B]!   ]"   =#   ]$   f   ]%   B]&   [   =   ]   =   ]   =   ]   ]'   [   =   ]   =(   ]   =   ]   ])   [   Xh]   d]   d]   d](   ]*      ]+      ],      ]-      ].      ]/      ]0      ]1      ]2      ]3      ]4      ]5      ]6      ]7      ]8      ]9      ]:      ];       ]   !   ]<   "   ]   W  Q   =   
=>   V   Q   =?   V   =@   : A   
=B    Qθ˘ ʘ јɘ֘7٘9#ʘʘʘИʘژј ATј F՘  Ǹ՘ 3	ʘ
ʘ
ʘ	Ϙ
Ș
˘ʘ
ʘMʘ
ʘ	Ϙʘ
ʘ	ϘȘ̘ʘ ʘ  ʘ ʘ  ʘ >ʘgʘ ʘ /ʘ ʘ vʘ ʘ  ʘ <ʘ  ʘ ʘ [ʘ%ʘ%ʘ)Ϙ  ՘+   <div class="iris-picker"><div class="iris-picker-inner"><div class="iris-square"><a class="iris-square-value" href="#"><span class="iris-square-handle ui-slider-handle"></span></a><div class="iris-square-inner iris-square-horiz"></div><div class="iris-square-inner iris-square-vert"></div></div><div class="iris-slider iris-strip"><div class="iris-slider-offset"></div></div></div></div>5  .iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}   navigator   userAgent   toLowerCase   appName7   Microsoft Internet Explorer   parseFloat   match   -moz-   -webkit-   -o-	   -ms-   fn	   noop	   iris   support   gradient!   raninbowGradient   color   hsl	   mode   s   horiz   l	   vert   h   strip   controls	   hide   border   target   width   palettes   options      _color   _palettes   _inited'   _defaultHSLControls   v'   _defaultHSVControls   _scale   _create	   _has   _addPalettes   _paint   _paintDimension   _getHSpaceColor   _dimensions%   _addInputListeners   _initControls#   _paletteListeners   _squareDrag   _setOption#   _squareDimensions!   _isNonHueControl   _change   _debounce	   show   toggle   widget   a8c.iris+   <style id="iris-css">   </style>   appendTo	   head5!!       C                         E  E           0              !!      global   undef   Color   shortProps   key      +H!!          ColorB 6  .     6        5!!       !!   h!!!!   s!!!!   l!!    !!       !!   h!!!!   s!!!!   v!!    !!          _initB  U  U     "       5!!          _errorB  e  ]     e        5!!          cloneB   @  @     "       5!!          setHSpaceB S  K     S        5!!       	   noopB                 5!!          fromCSSB                5!!          fromRgbB  z  z            5!!          fromHexB  f  f     "       5!!          fromHslB w  o     w 2       5!!          fromHsvB         "       5!!          fromIntB         "       5!!          hue2rgbB  r  r     `       5!!          toStringB    |      2       5!!          toCSSB ,  $     , b       5!!          toRgbB  
 Y  Y    
        5!!          toHslB  h 7  ` 7     h b       5!!          toHsvB  F   >      F  b       5!!          toIntB   #  #            5!!          toIEOctoHexB  8  0     8 "       5!!          toLuminosityB   W  W            5!!       3   getDistanceLuminosityFromB z g r g    z B       5!!       '   getMaxContrastColorB    |             5!!       7   getReadableContrastingColorB  `  `     b       5!!          aB k  c     k        5!!          darkenB  ,  ,            5!!          lightenB = s 5 s    =        5!!          saturateB   }             5!!          desaturateB  	  	            5!!          toGrayscaleB  	 C	 	 C	    	        5!!          getComplementB  Z	 v	 R	 v	    Z	        5!!       %   getSplitComplementB 	 	 	 	    	        5!!          getAnalogB 	 )
 	 )
    	        5!!          getTetradB <
 {
 4
 {
    <
        5!!          getTriadB 
 
 
 
    
        5!!          _partialC                        
 ? 
 ?                           !!      key	   prop       +H!!    	      _partial/<b  =  =            5;               7   Q    
ј @ 5!!          _spaceFuncB S  K     S        5!!    *   !!   _color!!!!   _alpha!!!!   error!!!!	   _hsl!!!!	   _hsv!!!!   _hSpace!!!!   _init!!!!   _error!!!!   clone!!!!   setHSpace!!!!	   noop!!!!   fromCSS!!!!   fromRgb!!!!   fromHex!!!!   fromHsl!!!!   fromHsv!!!!   fromInt!!!!   hue2rgb!!!!   toString!!!!   toCSS!!!!   toRgb!!!!   toHsl!!!!   toHsv!!!!   toInt!!!!   toIEOctoHex!!!!   toLuminosity!!!!3   getDistanceLuminosityFrom!!!!'   getMaxContrastColor!!!!7   getReadableContrastingColor!!!!   a!!!!   darken!!!!   lighten!!!!   saturate!!!!   desaturate!!!!   toGrayscale!!!!   getComplement!!!!%   getSplitComplement!!!!   getAnalog!!!!   getTetrad!!!!   getTriad!!!!   _partial!!!!   _spaceFunc!!    !!       !!   mod!!    !!       !!   range!!    !!       !!   space!!!!   range!!    !!       !!   space!!!!   range!!    !!       !!   space!!!!   range!!    !!       !!   space!!!!   range!!    !!       !!   space!!!!   range!!    !!       !!   h!!!!   s!!!!   l!!!!   v!!!!   r!!!!   g!!!!   b!!    ;        h   >     X         Q      ['   >]    ?]   B]   [   >]   >]   >]   ]   [   >]   >]   >]   ]   =	   ]
      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]       ]!      ]"      ]#      ]$      ]%      ]&      ]'       ](   !   ])   "   ]*   #   ]+   $   ],   %   ]-   &   ].   6/   60   Q[/   [(   Xh]1   ]   [)   Z   >`    d`   ]2   ]   [*   =	   ]3   Z   >`    d`   ]2   ]   [+   =4   ]3   Z   >`    d`   ]2   ]   [,   =5   ]3   Z   >`    X `   ]2   ]6   [-   =5   ]3   Z   >`    X `   ]2   ]7   [.   =5   ]3   Z   >`    X `   ]2   ]8      Q   KY   mi   W      9   
V   : 2   m      50   V      50   -   
V   : 8Qt   t   QLMv   QN:   '=;   H   z   <      6:   Q   }   T     6=   Q   .˘nϘ		˘˘ʘʘ Nʘ0ʘ  ʘQʘʘ ʘ  ʘ  ʘ ʘ ʘ ʘ  ʘ  ʘ ʘ^ʘ ʘ ʘ&ʘ  ʘ  ʘ ʘxʘ ʘ  ʘGʘGʘIʘLʘ;ʘ3ʘaʘRʘRʘRʘ r՘  ͘	јʘјʘјʘҘʘҘʘؘ?b˘Иʘʘ՘fʘژӘ    _color   _alpha   error   h   s   l	   _hsl   v	   _hsv   hsl   _hSpace   _init   _error   clone   setHSpace	   noop   fromCSS   fromRgb   fromHex   fromHsl   fromHsv   fromInt   hue2rgb   toString   toCSS   toRgb   toHsl   toHsv   toInt   toIEOctoHex   toLuminosity3   getDistanceLuminosityFrom'   getMaxContrastColor7   getReadableContrastingColor   a   darken   lighten   saturate   desaturate   toGrayscale   getComplement%   getSplitComplement   getAnalog   getTetrad   getTriad   _partial   _spaceFunc   prototype   fn   mod   range   space   hsv   rgb   r   g   b   hasOwnProperty   exports   object   module   Color5!!       C                         \  T      +                       !!      applyPreview   doreload   $styling_plugin   $form	   $btn        +H!!    	      applyPreview t  _     t 0          $style   B                 55!!            !!       B                5!!    	      window.onunloadb  O  O             5!!       B p  h     p        5;            W   Q?   Q        =   : W  QV      ?            
=   : ?      V       Q      V     
=   : 	   
[    QV  
   
=   :        V     
=   :    
:  W  Q        =      5   5   5   =   : W  QV     
V   QV     
   :    
=    Q(         6   Q        =   :    
    QV      5    Q   5   5      
=   ? Qʘ(טʘјʘӘ  踰ИϘИʘИʘȘ:ϘИϘ   'ḰИ  ޘ$Әܘ    jQuery!   #plugin__styling   length   DokuCookie   getValue   styling_plugin   window	   find   .color	   iris   hasClass   ispopup   form.styling   first   <button>	   LANG   plugins   styling   popup   </button>   prepend   click	   wrap   <p></p>   onunload   :button   opener   setValue5!!       C                                                       !!              +H;                
XH? QИ    dw_locktimer	   init       5;                                   	   
                                                                            	   
                                                                      !   "      =      Q   =      Q   P#      Q   >   Q   >   Q   P$      Q   P%      Q&   '    Q(   )    Q      D      Q[*         Q   +   6   Q   ,   6   Q   -   :  6   Q   .   6    Q   /   6!   Q   0   6"   Q   1   6#   Q   2   6$   Q   3   6%   Q   4   :  6&   Q   5   6'   Q   6   6(   Q   7   6)   Q   8   6*   Q   9   6+   Q   :   6,   Q   ;   6-   Q   <   6.   Q      D   >   Q[=   ?      Q   >   6/   Q   5/   [P   ?   ]0   @   ]1   A   ]2   B   ]3   C   ]4   D   ]5   E   ]6   F   ]7   G   ]8   H   ]9   I   ]:   J   ];   K   ]<   L   ]=   M   ]>   N   ]?   O   ]@   6A   Q   Q   6B   Q      
   5B   5A      5/   5A    Q      
   5B   5A   [Z   R   ]C   S   ]D   T   ]5   U   ]6   V   ]7   W   ]E   X   ]F   Y   ]G    Q   [   6H   Q   5H   [_   \   ]I   ]   ]J   ^   ]K   6A   Q   `   6L   Q   5L   [d   a   ]M   b   ]N   c   ]O   6A   Q   e   6P   Q   5P   [q   f   ]Q   g   ]R   h   ]S   i   ]T   j   ]U   k   ]V   l   ]W   m   ]X   n   ]Y   o   ]Z   p   ][   6A   Q   r   6\   Q      
   5\   5A      5P   5A    Q      
   5\   5A   [{   s   ]R   t   ]V   u   ]Z   v   ]Y   w   ]]   x   ]^   y   ]_   z   ]`    Q   |   6a   Q   5a   }   6b   Q      
   5a   5A      5P   5A    Q      
   5a   5A   [   ~   ]R      ]V      ]W      ]c      ]Y      ]7      ]Z    Q      
   5B   5A   [      ]3      ]d      ];      ]E    Q      6e   Q      
   5e   5A      5B   5A    Q      
   5e   5A   [      ]f      ]7    Q      
   5\   5A   [      ]g      ]V      ]h      ]Y    Q      
   5a   5A   [      ]g      ]V      ]W      ]Y      ]h    Q   [   >]i   [   ]j      ]k      ]R      Ql   [   @]m   X]n      ]o      ]p      ]q   6A   Q   [   [   ]r   =s   ]t      ]u      ]v      ]w      Q=x   y   'HE     Q=x   y   5z   H!     "  y   z   
  Q%     {   5|   }   
:     Q   {   5~      
=   :    Q         
=   : Ef   8  Q      
=   : ED   =  Q      
=   : E"   B  Q      
=   : F     Q         
=   : E"   M  Q      
=   : Q     Q   {   5   =   DA   W  Q   5   E,   Z  Q   5    E   ^  Q{   5    a     Q      
=   : u   g  
   C
   Q	      5   E   m  Q   5    p  	   Q      5   E   u  Q   5   w     Qx  y   y       Qy   5      6   Qy   y       Qy   5      6   Q   y   y   =   :    
[   C]      ]   :    Qy   y       Q   >   Qy   y       Q   B6   Q   =   6   Qy   y       Q   [      ]w      ]      ]      ]      ]      ]      Qy   y      5w    Q   [   >]n   B]   @]   @]      5   ]   =   ]      ]w      ]N      ]      ]      ]      ]      Q   [   @]   @]   @]   @]   @]   @]   @]      ]w      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      Q    [   B]   B]   B]   B]   B]   @]   B]   B]   B]   [   ]   P   ]   >]   P   ]      ]w      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]       Qy   y       5w    Qy   5      6   Qy   5      6   Qy   5      6   Q   [      ]w      ]      ]      ]      ]      ]      ]      ]      Qy   y      5w    Q   [     ]w      ]      ]     ]     ]      Qy   y      5w    Q   [	    ]w     ]     ]     ]     ]      Qy   y      5w    Qy   y   
   Qy   y      Qy   y      Q   b   ;           P  8Q         P  8Q         P  8Q         P  8QK       :     Qy   y      Q  y    Q   Qy   y      Qy   y      QޘИИ0И)̘՘ ˘ $˘p k˘  ɘ ӸИUИ  Ҹ˘FɘИ  И  ИcИ?ИFИ  ˘  ɘИ  ИoИaИ  ИTИ  И =՘ *И ڸϘ ʘ9ʘ8ʘ  ʘ ʘ  ʘ:ʘ1ʘ}ʘ:ʘ  ʘ  ʘ  ʘ 7ʘ ʘmʘ (И  И A%ʘ  ʘ ^ʘ~ʘ kʘ Aʘ ʘ  ʘ 
"И Ϙʘ  ʘ -И  ٸИ fϘʘ)ʘ  И И "Ϙ$ʘZʘʘ  ʘ9ʘjʘʘʘ)ʘʘИ  㸰ИbJ*ʘ  ʘMʘ  ʘ Nʘ  ʘ ;ʘ  ʘ И~՘  иI)ʘ  ʘcʘcʘ4ʘ ʘ ʘ %ʘ ʘEʘ  ʘ И D-ʘ cʘs ˸*ʘ5ʘ  ʘ  ʘ A)ʘ5ʘ  ʘ}ʘ $ʘɘ 
ʘʘ2И  ܸʘ
Șʘ]ʘ ՘fʘʘʘ Tʘ;И  טʘ̘ΘјΘ֘ј"ј	!#!֘.ј	'֘'/֘֘ј	Ϙ#̘՘ۘ* 
Ә9՘ 	ӘQژ ޘ ʘɘ  ؘ 񸰟 RӘ ٸ̘И ؘ ʘ  ʘ eʘ  ʘ  ʘ  И hݘ(
Ϙʘ
ʘ ʘzʘJʘxʘ ՘  
ʘ ʘ ʘwʘPʘ ʘ  ʘ  ʘ ʘ ʘ  ʘ ʘ  ʘE՘
ʘʘ"ʘ!ʘ ʘ ʘ Pʘ ʘ ʘ ʘ  ʘ ʘyʘ Yʘ ʘ 5ʘwʘcʘ Qʘ (ʘ >ʘ iʘ Aʘ ʘ  ʘ ʘQʘ ʘoʘ ʘ  ʘfʘ ʘHʘOʘ  И [ؘ ՘u՘vژ  ݸʘ ʘ  ʘ8ʘ  ʘ  ʘ  ʘ И ɸؘʘ	ʘ  ʘ ʘ ʘ sИ ոݘ ʘ ʘ|ʘ  ʘ  И ׸ؘӘ 
ӘaӘ :ʘ	֘  ֘  ֘     4ɘӘ0˘ Q  8Ә Ӡ    dw_mediamanager   DOKU_BASE   DOKU_UHN   is_macos   qq   timer   dw_linkwiz   clientPC   DokuCookie#   is_opera_preseven   is_opera   DOKU_TPL   dw_index%   plugin_searchindex   dw_acl   is_opera_seven   DOKU_UHC   dw_behaviour   toolbar   dw_locktimer   dw_editor#   DOKU_COOKIE_PARAM   pickercounter   is_gecko   is_safari   is_khtml   //   /lib/tpl/ubuntu-portal/	   LANG   extend   indexOf   getUniqueId   attach   detach   preventDefault   insertBefore   remove   contains   toElement   css   hasClass   addClass   removeClass   setText   children   getByClass   obj2url#   FileUploaderBasic   setParams   getInProgress'   _createUploadButton)   _createUploadHandler/   _preventLeaveInProgress   _onSubmit   _onProgress   _onComplete   _onCancel   _onInputChange   _uploadFileList   _uploadFile   _validateFile   _error   _formatFileName'   _isAllowedExtension   _formatSize   prototype   FileUploader   _find   _setupDragDrop   _addToList!   _getItemByFileId!   _bindCancelEvent   UploadDropZone'   _disableDropOutside   _attachEvents!   _isValidFileDrag   UploadButton   getInput   reset   _createInput+   UploadHandlerAbstract   log   add   upload   cancel   cancelAll   getName   getSize   getQueue   _upload   _cancel   _dequeue#   UploadHandlerForm!   _attachLoadEvent+   _getIframeContentJSON   _createIframe   _createForm!   UploadHandlerXhr   isSupported   getLoaded   _onUpload)   FileUploaderExtended!   _bindUploadEvent   uploadAll   _uploadAll   _cur_id   _handlers   execDispatch   Delay	   func   timeout   delTimer   start	   exec	   data   DOKU_PREFS	   name   setValue   getValue	   init   function   jQuery   noConflict   navigator   userAgent   toLowerCase   appVersion   Mac   gecko   spoofer   khtml   netscape/7.0   applewebkit   vendor   KDE   document   childNodes   all   taintEnabled   opera   window   fn   dw_qsearch   dw_tree   #index__tree   deferInit   load_data   textChanged   -   doku_edit_text_content   initSizeCtl   sizeCtl   toggleWrap   setWrap   keyHandler   draft   timerID   lasttime   willexpire   msg   pageid   warning   clear   refresh   refreshed	   $wiz   $entry   result   textArea   selected   selection   onEntry   getResult   $getResult   select   deselect   onResultClick   resultClick   insertLink   autocomplete#   autocomplete_exec	   show	   hide   toggle   keepopen   popup   display   ext   $popup   align	   link	   size   forbidden_opts   view_opts   layout_width   minHeights   init_options   initpopup   insert   suggest	   list   form_params#   set_fileview_list#   set_fileview_sort!   set_fileview_opt   details   update_content   window_resize   $resizables!   update_resizable   resize   image_diff!   change_diff_type   opacity_slider   portions_slider   params_toarray%   init_ajax_uploader   prepare_content   confirmattach   attachoptions   toggleOption   updatehide   setOpt   unforbid   forbid   allowedOpt   getOpt   dw_hide   dw_show   dw_toggle   scrollToMarker   focusMarker-   removeHighlightOnClick   quickSelect%   checkWindowsShares   subscription%   revisionBoxHandler   dw_page!   sectionHighlight   insituPopup   footnoteDisplay   makeToggle   userselhandler   loadinfo   parseatt   treehandler   lengthM	ґZ      ] m] m@L^l   ]    :https://help.ubuntu.ru/lib/exe/js.php?t=ubuntu-portal&tseed=158e854119be1605b7a674022e94d317 necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEAMQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAVXMIIFUzCCBDugAwIBAgISA1yc3E6svh6496Rh+tA1xLGZMA0GCSqGSIb3DQEBCwUAMEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQDExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0xOTA0MjUxNTQyMDVaFw0xOTA3MjQxNTQyMDVaMBkxFzAVBgNVBAMTDmhlbHAudWJ1bnR1LnJ1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4WiTn1zFp/WIt0j2Dpa+3pYdLmM6pexFUj/86kKBQCOikdoP0E6UNB+X85BNl64puUYwz1sk0xcOqB5rikHumcbQ8AbFNMRwux1pE8+3JpGsiw2+68aQeHFKiHdjFXQtKf10apUIZuytz36vOrxRu2I17FIe9eU3xpqg5++hU57FFJEEc1ttgLKEmi+k+OlfANZgzjpYd0zjJwrks6+PJAycCluBuw6EgSgoFnkVFOAiUzLP71nKn3o5joAnDd5cHx0LHJELnB8JR2LVoh9xpOx7FVztzE0acyNsxwPUKA3uHOl+EIgvQumJ+Ri1GIuRYOykA9yDGB+1U/8N38RfjwIDAQABo4ICYjCCAl4wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBQnVWR2dGV2WWf/SmyXtKEStqDQuzAfBgNVHSMEGDAWgBSoSmpjBH3duubRObemRWXv86jsoTBvBggrBgEFBQcBAQRjMGEwLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3NwLmludC14My5sZXRzZW5jcnlwdC5vcmcwLwYIKwYBBQUHMAKGI2h0dHA6Ly9jZXJ0LmludC14My5sZXRzZW5jcnlwdC5vcmcvMBkGA1UdEQQSMBCCDmhlbHAudWJ1bnR1LnJ1MEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcGCysGAQQBgt8TAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5cHQub3JnMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHUA4mlLribo6UAJ6IYbtjuD1D7n/nSI+6SPKJMBnd3x2/4AAAFqVWAk+gAABAMARjBEAiBJWNwnpc2N1eSmTHjPC0WFpgiJejNU77BwxM5XOWkprQIgNDJeIVVops4gxSdx8Dq+V9k7BMW20CdPTTafV1nxJiAAdgApPFGWVMg5ZbqqUPxYB9S3b79Yeily3KTDDPTlRUf0eAAAAWpVYCTvAAAEAwBHMEUCIFfw5Q+B3817D08kw4fYaFy5qQSTBFGP5aSZv4IjXT+hAiEA+v5BLZICTTGYzM4roK+r7gJFa+0/LGf/w0bj94GWcQUwDQYJKoZIhvcNAQELBQADggEBAAksN4lCbTA6M4B9XW/ydiOKMmd5WLFwMmGkK84zq1R1lPpCuCQgEM30WNFGGcGsp70xCXuga/COSAT1XtZT/5zjOngxcKxB5DApKJjOwV4ITzyAfXC3ikkh/HXrJZsjLwV5MtDh8us1Y0AcKBiRiquix3H9IW0SOJcApBlPBlLz2P6h0ddkTx9b+pzgE01siVqpu5cTzhSkbZ2JpxjUkivrWEaPNOAEboWbMmpIu6ZfkrHZ5VIWnI6exEjKfT9N2N6i9CuP+K2EFDmM8Mkp7gsFnqbFhOdGjGb7VrQiLBMcIgwN+D23X3qq6z5CjrN7Fy9lpJyICOTJmeFE+Mt0qhzALwADAAAAAAEBAAAAAAAABFAyNTYAAAAQUlNBLVBLQ1MxLVNIQTI1NgGVn7FlZRdIf6ub2JE75TGXrnTNpc0vRz+W9fC3//YsaAAAAANmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAVXMIIFUzCCBDugAwIBAgISA1yc3E6svh6496Rh+tA1xLGZMA0GCSqGSIb3DQEBCwUAMEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQDExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0xOTA0MjUxNTQyMDVaFw0xOTA3MjQxNTQyMDVaMBkxFzAVBgNVBAMTDmhlbHAudWJ1bnR1LnJ1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4WiTn1zFp/WIt0j2Dpa+3pYdLmM6pexFUj/86kKBQCOikdoP0E6UNB+X85BNl64puUYwz1sk0xcOqB5rikHumcbQ8AbFNMRwux1pE8+3JpGsiw2+68aQeHFKiHdjFXQtKf10apUIZuytz36vOrxRu2I17FIe9eU3xpqg5++hU57FFJEEc1ttgLKEmi+k+OlfANZgzjpYd0zjJwrks6+PJAycCluBuw6EgSgoFnkVFOAiUzLP71nKn3o5joAnDd5cHx0LHJELnB8JR2LVoh9xpOx7FVztzE0acyNsxwPUKA3uHOl+EIgvQumJ+Ri1GIuRYOykA9yDGB+1U/8N38RfjwIDAQABo4ICYjCCAl4wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBQnVWR2dGV2WWf/SmyXtKEStqDQuzAfBgNVHSMEGDAWgBSoSmpjBH3duubRObemRWXv86jsoTBvBggrBgEFBQcBAQRjMGEwLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3NwLmludC14My5sZXRzZW5jcnlwdC5vcmcwLwYIKwYBBQUHMAKGI2h0dHA6Ly9jZXJ0LmludC14My5sZXRzZW5jcnlwdC5vcmcvMBkGA1UdEQQSMBCCDmhlbHAudWJ1bnR1LnJ1MEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcGCysGAQQBgt8TAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5cHQub3JnMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHUA4mlLribo6UAJ6IYbtjuD1D7n/nSI+6SPKJMBnd3x2/4AAAFqVWAk+gAABAMARjBEAiBJWNwnpc2N1eSmTHjPC0WFpgiJejNU77BwxM5XOWkprQIgNDJeIVVops4gxSdx8Dq+V9k7BMW20CdPTTafV1nxJiAAdgApPFGWVMg5ZbqqUPxYB9S3b79Yeily3KTDDPTlRUf0eAAAAWpVYCTvAAAEAwBHMEUCIFfw5Q+B3817D08kw4fYaFy5qQSTBFGP5aSZv4IjXT+hAiEA+v5BLZICTTGYzM4roK+r7gJFa+0/LGf/w0bj94GWcQUwDQYJKoZIhvcNAQELBQADggEBAAksN4lCbTA6M4B9XW/ydiOKMmd5WLFwMmGkK84zq1R1lPpCuCQgEM30WNFGGcGsp70xCXuga/COSAT1XtZT/5zjOngxcKxB5DApKJjOwV4ITzyAfXC3ikkh/HXrJZsjLwV5MtDh8us1Y0AcKBiRiquix3H9IW0SOJcApBlPBlLz2P6h0ddkTx9b+pzgE01siVqpu5cTzhSkbZ2JpxjUkivrWEaPNOAEboWbMmpIu6ZfkrHZ5VIWnI6exEjKfT9N2N6i9CuP+K2EFDmM8Mkp7gsFnqbFhOdGjGb7VrQiLBMcIgwN+D23X3qq6z5CjrN7Fy9lpJyICOTJmeFE+Mt0qhxmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAASWMIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMTDkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0NlowSjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMTGkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EFq6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWAa6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0TAQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIGCCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNvbTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9kc3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAwVAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcCARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAzMDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwuY3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsFAAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJouM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwuX4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlGPfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6KOqkqm57TH2H3eDJAkSnh6/DNFu0QmYKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAAA04wggNKMIICMqADAgECAhBEr7CA1qMnuokwOYYu+EBrMA0GCSqGSIb3DQEBBQUAMD8xJDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjEXMBUGA1UEAxMORFNUIFJvb3QgQ0EgWDMwHhcNMDAwOTMwMjExMjE5WhcNMjEwOTMwMTQwMTE1WjA/MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMTDkRTVCBSb290IENBIFgzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA36/pl1AIg1e0zGJl9pCC7MfTLGswylvs2cN9x0DBGBSL4Ogzdkkq4z8hSZOsTg6vPkjLZe780yEPZdIq2TKPjOX3d7ASe7WVwImjqbrtcy56DAYyg6J+ihQwzRGg4So4uXkKMf1QvYBl37dRY4PI4ohh6kthgexSa7mi4ksaKJ9Io54M2gmOPhcuHt0g31vGKoqrLr1wrcULGiWQdHLFe2qrNNYwif/laBN7VAvI1q7sWpySHj1ks4zG37/JQXDsFnLVJuw4VTlD0Pz9GFxA8Zfr1ZqbjR262iW5xtjfwRUCOqvabvE+LvVcCJw81oNp5BCbGSq2KVfj5T2bn/ACXQIDAQABo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBBjAdBgNVHQ4EFgQUxKexpHsscfrb4UuQdf/EFWCFiRAwDQYJKoZIhvcNAQEFBQADggEBAKMaLJsXAFypHu4oZjc6v4PHP0vDCaCVIF3j2VlE0j4NPr2KS6B0H84Qgpx0Gh1+mBrdyxNLsyBE5JHpzPx9pdtq5f7m/eBO3bcAOrVwSa/y5esC8dECixnLlDpeSMQYHlgZXx4CWvAM8bGtqdxZhotu6ZH1hsr6uWYzqllbzuKnFnNHyyvMmbA3SM/jVkv1zw8McjKHxvBEu1NybUP1JkiaUme3WKv+Z3ZxeNsNolYUEzkkMYWiqAJaMEfh3VAHvAIJkADrZGNgmxa8iMkS5tJ9kYv5PTKNZbTpfLFXdurFtig5vxVlHMj2d5ZqCo13C9iRCwSOB9sptgrunYI1NRAA request-method GET response-head HTTP/2.0 200 OK
server: nginx/1.16.0
date: Tue, 02 Jul 2019 11:00:22 GMT
content-type: application/javascript; charset=utf-8
cache-control: public, max-age=31536000
pragma: public
last-modified: Sat, 28 Jul 2018 19:05:40 GMT
etag: "388f106bb4e5798cba35602a095c2e43"
X-Firefox-Spdy: h2
 original-response-headers server: nginx/1.16.0
date: Tue, 02 Jul 2019 11:00:22 GMT
content-type: application/javascript; charset=utf-8
cache-control: public, max-age=31536000
pragma: public
last-modified: Sat, 28 Jul 2018 19:05:40 GMT
etag: "388f106bb4e5798cba35602a095c2e43"
X-Firefox-Spdy: h2
 uncompressed-len 0 net-response-time-onstart 201 net-response-time-onstop 245 alt-data 1;136683,javascript/moz-bytecode-20190620151128 alt-data-from-child 1  